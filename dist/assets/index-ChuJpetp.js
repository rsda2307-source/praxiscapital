(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $E(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xd={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function yb(){if(ov)return Cl;ov=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=e,Cl.jsx=n,Cl.jsxs=n,Cl}var lv;function _b(){return lv||(lv=1,Xd.exports=yb()),Xd.exports}var E=_b(),$d={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function vb(){if(uv)return Ae;uv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.iterator;function j(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,H={};function K(V,ee,oe){this.props=V,this.context=ee,this.refs=H,this.updater=oe||G}K.prototype.isReactComponent={},K.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function te(){}te.prototype=K.prototype;function ie(V,ee,oe){this.props=V,this.context=ee,this.refs=H,this.updater=oe||G}var se=ie.prototype=new te;se.constructor=ie,Y(se,K.prototype),se.isPureReactComponent=!0;var me=Array.isArray;function ue(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(V,ee,oe){var he=oe.ref;return{$$typeof:r,type:V,key:ee,ref:he!==void 0?he:null,props:oe}}function O(V,ee){return R(V.type,ee,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return ee[oe]})}var x=/\/+/g;function st(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):ee.toString(36)}function Dt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ue,ue):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $(V,ee,oe,he,Te){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(Ce){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case r:case e:Pe=!0;break;case T:return Pe=V._init,$(Pe(V._payload),ee,oe,he,Te)}}if(Pe)return Te=Te(V),Pe=he===""?"."+st(V,0):he,me(Te)?(oe="",Pe!=null&&(oe=Pe.replace(x,"$&/")+"/"),$(Te,ee,oe,"",function(ds){return ds})):Te!=null&&(D(Te)&&(Te=O(Te,oe+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(x,"$&/")+"/")+Pe)),ee.push(Te)),1;Pe=0;var Ot=he===""?".":he+":";if(me(V))for(var at=0;at<V.length;at++)he=V[at],Ce=Ot+st(he,at),Pe+=$(he,ee,oe,Ce,Te);else if(at=j(V),typeof at=="function")for(V=at.call(V),at=0;!(he=V.next()).done;)he=he.value,Ce=Ot+st(he,at++),Pe+=$(he,ee,oe,Ce,Te);else if(Ce==="object"){if(typeof V.then=="function")return $(Dt(V),ee,oe,he,Te);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function ae(V,ee,oe){if(V==null)return V;var he=[],Te=0;return $(V,he,"","",function(Ce){return ee.call(oe,Ce,Te++)}),he}function ye(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var ke=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:ae,forEach:function(V,ee,oe){ae(V,function(){ee.apply(this,arguments)},oe)},count:function(V){var ee=0;return ae(V,function(){ee++}),ee},toArray:function(V){return ae(V,function(ee){return ee})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ae.Activity=A,Ae.Children=Ge,Ae.Component=K,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ie,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},Ae.cache=function(V){return function(){return V.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(V,ee,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=Y({},V.props),Te=V.key;if(ee!=null)for(Ce in ee.key!==void 0&&(Te=""+ee.key),ee)!w.call(ee,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ee.ref===void 0||(he[Ce]=ee[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=oe;else if(1<Ce){for(var Pe=Array(Ce),Ot=0;Ot<Ce;Ot++)Pe[Ot]=arguments[Ot+2];he.children=Pe}return R(V.type,Te,he)},Ae.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ae.createElement=function(V,ee,oe){var he,Te={},Ce=null;if(ee!=null)for(he in ee.key!==void 0&&(Ce=""+ee.key),ee)w.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=ee[he]);var Pe=arguments.length-2;if(Pe===1)Te.children=oe;else if(1<Pe){for(var Ot=Array(Pe),at=0;at<Pe;at++)Ot[at]=arguments[at+2];Te.children=Ot}if(V&&V.defaultProps)for(he in Pe=V.defaultProps,Pe)Te[he]===void 0&&(Te[he]=Pe[he]);return R(V,Ce,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:m,render:V}},Ae.isValidElement=D,Ae.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:ye}},Ae.memo=function(V,ee){return{$$typeof:y,type:V,compare:ee===void 0?null:ee}},Ae.startTransition=function(V){var ee=I.T,oe={};I.T=oe;try{var he=V(),Te=I.S;Te!==null&&Te(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ue,ke)}catch(Ce){ke(Ce)}finally{ee!==null&&oe.types!==null&&(ee.types=oe.types),I.T=ee}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(V){return I.H.use(V)},Ae.useActionState=function(V,ee,oe){return I.H.useActionState(V,ee,oe)},Ae.useCallback=function(V,ee){return I.H.useCallback(V,ee)},Ae.useContext=function(V){return I.H.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V,ee){return I.H.useDeferredValue(V,ee)},Ae.useEffect=function(V,ee){return I.H.useEffect(V,ee)},Ae.useEffectEvent=function(V){return I.H.useEffectEvent(V)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(V,ee,oe){return I.H.useImperativeHandle(V,ee,oe)},Ae.useInsertionEffect=function(V,ee){return I.H.useInsertionEffect(V,ee)},Ae.useLayoutEffect=function(V,ee){return I.H.useLayoutEffect(V,ee)},Ae.useMemo=function(V,ee){return I.H.useMemo(V,ee)},Ae.useOptimistic=function(V,ee){return I.H.useOptimistic(V,ee)},Ae.useReducer=function(V,ee,oe){return I.H.useReducer(V,ee,oe)},Ae.useRef=function(V){return I.H.useRef(V)},Ae.useState=function(V){return I.H.useState(V)},Ae.useSyncExternalStore=function(V,ee,oe){return I.H.useSyncExternalStore(V,ee,oe)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var cv;function qm(){return cv||(cv=1,$d.exports=vb()),$d.exports}var U=qm();const Eb=$E(U);var Jd={exports:{}},Il={},Zd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function Tb(){return hv||(hv=1,(function(r){function e($,ae){var ye=$.length;$.push(ae);e:for(;0<ye;){var ke=ye-1>>>1,Ge=$[ke];if(0<o(Ge,ae))$[ke]=ae,$[ye]=Ge,ye=ke;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],ye=$.pop();if(ye!==ae){$[0]=ye;e:for(var ke=0,Ge=$.length,V=Ge>>>1;ke<V;){var ee=2*(ke+1)-1,oe=$[ee],he=ee+1,Te=$[he];if(0>o(oe,ye))he<Ge&&0>o(Te,oe)?($[ke]=Te,$[he]=ye,ke=he):($[ke]=oe,$[ee]=ye,ke=ee);else if(he<Ge&&0>o(Te,ye))$[ke]=Te,$[he]=ye,ke=he;else break e}}return ae}function o($,ae){var ye=$.sortIndex-ae.sortIndex;return ye!==0?ye:$.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,A=null,C=3,j=!1,G=!1,Y=!1,H=!1,K=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function se($){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=$)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function me($){if(Y=!1,se($),!G)if(n(p)!==null)G=!0,ue||(ue=!0,P());else{var ae=n(y);ae!==null&&Dt(me,ae.startTime-$)}}var ue=!1,I=-1,w=5,R=-1;function O(){return H?!0:!(r.unstable_now()-R<w)}function D(){if(H=!1,ue){var $=r.unstable_now();R=$;var ae=!0;try{e:{G=!1,Y&&(Y=!1,te(I),I=-1),j=!0;var ye=C;try{t:{for(se($),A=n(p);A!==null&&!(A.expirationTime>$&&O());){var ke=A.callback;if(typeof ke=="function"){A.callback=null,C=A.priorityLevel;var Ge=ke(A.expirationTime<=$);if($=r.unstable_now(),typeof Ge=="function"){A.callback=Ge,se($),ae=!0;break t}A===n(p)&&s(p),se($)}else s(p);A=n(p)}if(A!==null)ae=!0;else{var V=n(y);V!==null&&Dt(me,V.startTime-$),ae=!1}}break e}finally{A=null,C=ye,j=!1}ae=void 0}}finally{ae?P():ue=!1}}}var P;if(typeof ie=="function")P=function(){ie(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,st=x.port2;x.port1.onmessage=D,P=function(){st.postMessage(null)}}else P=function(){K(D,0)};function Dt($,ae){I=K(function(){$(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function($){switch(C){case 1:case 2:case 3:var ae=3;break;default:ae=C}var ye=C;C=ae;try{return $()}finally{C=ye}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ye=C;C=$;try{return ae()}finally{C=ye}},r.unstable_scheduleCallback=function($,ae,ye){var ke=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ke+ye:ke):ye=ke,$){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ye+Ge,$={id:T++,callback:ae,priorityLevel:$,startTime:ye,expirationTime:Ge,sortIndex:-1},ye>ke?($.sortIndex=ye,e(y,$),n(p)===null&&$===n(y)&&(Y?(te(I),I=-1):Y=!0,Dt(me,ye-ke))):($.sortIndex=Ge,e(p,$),G||j||(G=!0,ue||(ue=!0,P()))),$},r.unstable_shouldYield=O,r.unstable_wrapCallback=function($){var ae=C;return function(){var ye=C;C=ae;try{return $.apply(this,arguments)}finally{C=ye}}}})(Wd)),Wd}var fv;function Sb(){return fv||(fv=1,Zd.exports=Tb()),Zd.exports}var em={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function Ab(){if(dv)return Xt;dv=1;var r=qm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,T)},Xt.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Xt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,A=m(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:j}):T==="script"&&s.d.X(p,{crossOrigin:A,integrity:C,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Xt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,y){return p(y)},Xt.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var mv;function bb(){if(mv)return em.exports;mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),em.exports=Ab(),em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function wb(){if(pv)return Il;pv=1;var r=Sb(),e=qm(),n=bb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case K:return"Profiler";case H:return"StrictMode";case me:return"Suspense";case ue:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ie:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:st(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return st(t(i))}catch{}}return null}var Dt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ke=[],Ge=-1;function V(t){return{current:t}}function ee(t){0>Ge||(t.current=ke[Ge],ke[Ge]=null,Ge--)}function oe(t,i){Ge++,ke[Ge]=t.current,t.current=i}var he=V(null),Te=V(null),Ce=V(null),Pe=V(null);function Ot(t,i){switch(oe(Ce,i),oe(Te,t),oe(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?N_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=N_(i),t=D_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(he),oe(he,t)}function at(){ee(he),ee(Te),ee(Ce)}function ds(t){t.memoizedState!==null&&oe(Pe,t);var i=he.current,a=D_(i,t.type);i!==a&&(oe(Te,t),oe(he,a))}function ia(t){Te.current===t&&(ee(he),ee(Te)),Pe.current===t&&(ee(Pe),Al._currentValue=ye)}var ra,sa;function ei(t){if(ra===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ra=i&&i[1]||"",sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+t+sa}var Ao=!1;function ms(t,i){if(!t||Ao)return"";Ao=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var q=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){q=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){q=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),B=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Ao=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ei(a):""}function bo(t,i){switch(t.tag){case 26:case 27:case 5:return ei(t.type);case 16:return ei("Lazy");case 13:return t.child!==i&&i!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return ms(t.type,!1);case 11:return ms(t.type.render,!1);case 1:return ms(t.type,!0);case 31:return ei("Activity");default:return""}}function wo(t){try{var i="",a=null;do i+=bo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,hr=r.unstable_cancelCallback,$h=r.unstable_shouldYield,hu=r.unstable_requestPaint,en=r.unstable_now,ps=r.unstable_getCurrentPriorityLevel,Ro=r.unstable_ImmediatePriority,Co=r.unstable_UserBlockingPriority,fr=r.unstable_NormalPriority,Jh=r.unstable_LowPriority,fu=r.unstable_IdlePriority,du=r.log,mu=r.unstable_setDisableYieldValue,Un=null,zt=null;function An(t){if(typeof du=="function"&&mu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Un,t)}catch{}}var dt=Math.clz32?Math.clz32:gu,pu=Math.log,aa=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(pu(t)/aa|0)|0}var ti=256,gs=262144,Et=4194304;function ni(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ni(l):(_&=S,_!==0?h=ni(_):a||(a=S&~t,a!==0&&(h=ni(a))))):(S=l&~d,S!==0?h=ni(S):_!==0?h=ni(_):a||(a=l&~t,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function kn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Zh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ri(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ys(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wh(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-dt(a),Z=1<<X;S[X]=0,N[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var Q=q[X];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&_s(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function _s(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Io(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function xo(t,i){var a=i&-i;return a=(a&42)!==0?1:vs(a),(a&(t.suspendedLanes|i))!==0?0:a}function vs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:ev(t.type))}function zn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Bn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Bn,Lt="__reactProps$"+Bn,si="__reactContainer$"+Bn,oa="__reactEvents$"+Bn,ef="__reactListeners$"+Bn,vu="__reactHandles$"+Bn,Eu="__reactResources$"+Bn,ai="__reactMarker$"+Bn;function la(t){delete t[Tt],delete t[Lt],delete t[oa],delete t[ef],delete t[vu]}function oi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[si]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=U_(t);t!==null;){if(a=t[Tt])return a;t=U_(t)}return i}t=a,a=t.parentNode}return null}function bn(t){if(t=t[Tt]||t[si]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function dn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function li(t){var i=t[Eu];return i||(i=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[ai]=!0}var No=new Set,Do={};function ui(t,i){ci(t,i),ci(t+"Capture",i)}function ci(t,i){for(Do[t]=i,t=0;t<i.length;t++)No.add(i[t])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Vo={};function Tu(t){return vt.call(Vo,t)?!0:vt.call(Mo,t)?!1:Oo.test(t)?Vo[t]=!0:(Mo[t]=!0,!1)}function ua(t,i,a){if(Tu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function mn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=dr(t)?"checked":"value";t._valueTracker=jo(t,i,""+t[i])}}function Es(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=dr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ts=/[\n"\\]/g;function rn(t){return t.replace(Ts,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Lo(t,_,Pt(i)):a!=null?Lo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Pt(S):t.removeAttribute("name")}function Su(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Lo(t,i,a){i==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function mr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Au(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function pr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||bu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Uo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Po(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Po(t,d,i[d])}function ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return gr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var ko=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yr=null,fi=null;function Ss(t){var i=bn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Es(l)}break e;case"textarea":Au(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&mr(t,!!a.multiple,i,!1)}}}var da=!1;function _r(t,i,a){if(da)return t(i,a);da=!0;try{var l=t(i);return l}finally{if(da=!1,(yr!==null||fi!==null)&&(_c(),yr&&(i=yr,t=fi,fi=yr=null,Ss(i),t)))for(i=0;i<t.length;i++)Ss(t[i])}}function Hn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(Rn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){As=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{As=!1}var di=null,zo=null,bs=null;function Bo(){if(bs)return bs;var t,i=zo,a=i.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return bs=h.slice(t,1<l?1-l:void 0)}function ws(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Fn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Fn,this.isPropagationStopped=Fn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Bt(Pi),vr=A({},Pi,{view:0,detail:0}),qo=Bt(vr),Er,ma,pi,pa=A({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(Er=t.screenX-pi.screenX,ma=t.screenY-pi.screenY):ma=Er=0,pi=t),Er)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),Ho=Bt(pa),Rs=A({},pa,{dataTransfer:0}),Ru=Bt(Rs),Cu=A({},vr,{relatedTarget:0}),Cs=Bt(Cu),Fo=A({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Bt(Fo),ga=A({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=Bt(ga),Nu=A({},Pi,{data:0}),gi=Bt(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Mu[t])?!!i[t]:!1}function Tr(){return Vu}var tn=A({},vr,{key:function(t){if(t.key){var i=Du[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ju=Bt(tn),Lu=A({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Bt(Lu),c=A({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),g=Bt(c),v=A({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Bt(v),k=A({},pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(k),re=A({},Pi,{newState:0,oldState:0}),we=Bt(re),mt=[9,13,27,32],qe=Rn&&"CompositionEvent"in window,ot=null;Rn&&"documentMode"in document&&(ot=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!ot,yi=Rn&&(!qe||ot&&8<ot&&11>=ot),Gn=" ",Qn=!1;function Is(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function BS(t,i){switch(t){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:(Qn=!0,Gn);case"textInput":return t=i.data,t===Gn&&Qn?null:t;default:return null}}function qS(t,i){if(_a)return t==="compositionend"||!qe&&Is(t,i)?(t=Bo(),bs=zo=di=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var HS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!HS[t.type]:i==="textarea"}function qp(t,i,a,l){yr?fi?fi.push(l):fi=[l]:yr=l,i=wc(i,"onChange"),0<i.length&&(a=new mi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Go=null,Qo=null;function FS(t){b_(t,0)}function Pu(t){var i=dn(t);if(Es(i))return t}function Hp(t,i){if(t==="change")return i}var Fp=!1;if(Rn){var tf;if(Rn){var nf="oninput"in document;if(!nf){var Gp=document.createElement("div");Gp.setAttribute("oninput","return;"),nf=typeof Gp.oninput=="function"}tf=nf}else tf=!1;Fp=tf&&(!document.documentMode||9<document.documentMode)}function Qp(){Go&&(Go.detachEvent("onpropertychange",Yp),Qo=Go=null)}function Yp(t){if(t.propertyName==="value"&&Pu(Qo)){var i=[];qp(i,Qo,t,wn(t)),_r(FS,i)}}function GS(t,i,a){t==="focusin"?(Qp(),Go=i,Qo=a,Go.attachEvent("onpropertychange",Yp)):t==="focusout"&&Qp()}function QS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(Qo)}function YS(t,i){if(t==="click")return Pu(i)}function KS(t,i){if(t==="input"||t==="change")return Pu(i)}function XS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:XS;function Yo(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function Kp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xp(t,i){var a=Kp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kp(a)}}function $p(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?$p(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=hi(t.document)}return i}function rf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var $S=Rn&&"documentMode"in document&&11>=document.documentMode,va=null,sf=null,Ko=null,af=!1;function Zp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||va==null||va!==hi(l)||(l=va,"selectionStart"in l&&rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Yo(Ko,l)||(Ko=l,l=wc(sf,"onSelect"),0<l.length&&(i=new mi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=va)))}function xs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ea={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},of={},Wp={};Rn&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Ns(t){if(of[t])return of[t];if(!Ea[t])return t;var i=Ea[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Wp)return of[t]=i[a];return t}var eg=Ns("animationend"),tg=Ns("animationiteration"),ng=Ns("animationstart"),JS=Ns("transitionrun"),ZS=Ns("transitionstart"),WS=Ns("transitioncancel"),ig=Ns("transitionend"),rg=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function Yn(t,i){rg.set(t,i),ui(i,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],Ta=0,uf=0;function ku(){for(var t=Ta,i=uf=Ta=0;i<t;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&sg(a,h,d)}}function zu(t,i,a,l){In[Ta++]=t,In[Ta++]=i,In[Ta++]=a,In[Ta++]=l,uf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function cf(t,i,a,l){return zu(t,i,a,l),Bu(t)}function Ds(t,i){return zu(t,null,null,i),Bu(t)}function sg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Bu(t){if(50<gl)throw gl=0,vd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Sa={};function eA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,i,a,l){return new eA(t,i,a,l)}function hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,i){var a=t.alternate;return a===null?(a=gn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ag(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function qu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")hf(t)&&(_=1);else if(typeof t=="string")_=sb(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=gn(31,a,i,h),t.elementType=R,t.lanes=d,t;case Y:return Os(a.children,h,d,i);case H:_=8,h|=24;break;case K:return t=gn(12,a,i,h|2),t.elementType=K,t.lanes=d,t;case me:return t=gn(13,a,i,h),t.elementType=me,t.lanes=d,t;case ue:return t=gn(19,a,i,h),t.elementType=ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case te:_=9;break e;case se:_=11;break e;case I:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=gn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Os(t,i,a,l){return t=gn(7,t,l,i),t.lanes=a,t}function ff(t,i,a){return t=gn(6,t,null,i),t.lanes=a,t}function og(t){var i=gn(18,null,null,0);return i.stateNode=t,i}function df(t,i,a){return i=gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var lg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=lg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:wo(i)},lg.set(t,i),i)}return{value:t,source:i,stack:wo(i)}}var Aa=[],ba=0,Hu=null,Xo=0,Nn=[],Dn=0,Sr=null,_i=1,vi="";function zi(t,i){Aa[ba++]=Xo,Aa[ba++]=Hu,Hu=t,Xo=i}function ug(t,i,a){Nn[Dn++]=_i,Nn[Dn++]=vi,Nn[Dn++]=Sr,Sr=t;var l=_i;t=vi;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,_i=1<<32-dt(i)+h|a<<h|l,vi=d+t}else _i=1<<d|a<<h|l,vi=t}function mf(t){t.return!==null&&(zi(t,1),ug(t,1,0))}function pf(t){for(;t===Hu;)Hu=Aa[--ba],Aa[ba]=null,Xo=Aa[--ba],Aa[ba]=null;for(;t===Sr;)Sr=Nn[--Dn],Nn[Dn]=null,vi=Nn[--Dn],Nn[Dn]=null,_i=Nn[--Dn],Nn[Dn]=null}function cg(t,i){Nn[Dn++]=_i,Nn[Dn++]=vi,Nn[Dn++]=Sr,_i=i.id,vi=i.overflow,Sr=t}var qt=null,nt=null,Le=!1,Ar=null,On=!1,gf=Error(s(519));function br(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o(xn(i,t)),gf}function hg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<_l.length;a++)Ne(_l[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Su(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),pr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||I_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||br(t,!0)}function fg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:qt=qt.return}}function wa(t){if(t!==qt)return!1;if(!Le)return fg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vd(t.type,t.memoizedProps)),a=!a),a&&nt&&br(t),fg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=P_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=P_(t)}else i===27?(i=nt,Ur(t.type)?(t=kd,kd=null,nt=t):nt=i):nt=qt?Vn(t.stateNode.nextSibling):null;return!0}function Ms(){nt=qt=null,Le=!1}function yf(){var t=Ar;return t!==null&&(un===null?un=t:un.push.apply(un,t),Ar=null),t}function $o(t){Ar===null?Ar=[t]:Ar.push(t)}var _f=V(null),Vs=null,Bi=null;function wr(t,i,a){oe(_f,i._currentValue),i._currentValue=a}function qi(t){t._currentValue=_f.current,ee(_f)}function vf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ef(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),vf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),vf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ra(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&Ef(i,t,a,l),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Vs=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return dg(Vs,t)}function Gu(t,i){return Vs===null&&js(t),dg(t,i)}function dg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Bi=Bi.next=i;return a}var tA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},nA=r.unstable_scheduleCallback,iA=r.unstable_NormalPriority,bt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new tA,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&nA(iA,function(){t.controller.abort()})}var Zo=null,Sf=0,Ca=0,Ia=null;function rA(t,i){if(Zo===null){var a=Zo=[];Sf=0,Ca=wd(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,i.then(mg,mg),i}function mg(){if(--Sf===0&&Zo!==null){Ia!==null&&(Ia.status="fulfilled");var t=Zo;Zo=null,Ca=0,Ia=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function sA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var pg=$.S;$.S=function(t,i){Zy=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&rA(t,i),pg!==null&&pg(t,i)};var Ls=V(null);function Af(){var t=Ls.current;return t!==null?t:We.pooledCache}function Qu(t,i){i===null?oe(Ls,Ls.current):oe(Ls,i.pool)}function gg(){var t=Af();return t===null?null:{parent:bt._currentValue,pool:t}}var xa=Error(s(460)),bf=Error(s(474)),Yu=Error(s(542)),Ku={then:function(){}};function yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _g(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(qn,qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Eg(t),t;default:if(typeof i.status=="string")i.then(qn,qn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Eg(t),t}throw Us=i,xa}}function Ps(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Us=a,xa):a}}var Us=null;function vg(){if(Us===null)throw Error(s(459));var t=Us;return Us=null,t}function Eg(t){if(t===xa||t===Yu)throw Error(s(483))}var Na=null,Wo=0;function Xu(t){var i=Wo;return Wo+=1,Na===null&&(Na=[]),_g(Na,t,i)}function el(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function $u(t,i){throw i.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Tg(t){function i(L,M){if(t){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=ki(L,M),L.index=0,L.sibling=null,L}function d(L,M,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,M,z,J){return M===null||M.tag!==6?(M=ff(z,L.mode,J),M.return=L,M):(M=h(M,z),M.return=L,M)}function N(L,M,z,J){var pe=z.type;return pe===Y?X(L,M,z.props.children,J,z.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Ps(pe)===M.type)?(M=h(M,z.props),el(M,z),M.return=L,M):(M=qu(z.type,z.key,z.props,null,L.mode,J),el(M,z),M.return=L,M)}function B(L,M,z,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=df(z,L.mode,J),M.return=L,M):(M=h(M,z.children||[]),M.return=L,M)}function X(L,M,z,J,pe){return M===null||M.tag!==7?(M=Os(z,L.mode,J,pe),M.return=L,M):(M=h(M,z),M.return=L,M)}function Z(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ff(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return z=qu(M.type,M.key,M.props,null,L.mode,z),el(z,M),z.return=L,z;case G:return M=df(M,L.mode,z),M.return=L,M;case w:return M=Ps(M),Z(L,M,z)}if(Dt(M)||P(M))return M=Os(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return Z(L,Xu(M),z);if(M.$$typeof===ie)return Z(L,Gu(L,M),z);$u(L,M)}return null}function q(L,M,z,J){var pe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:S(L,M,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return z.key===pe?N(L,M,z,J):null;case G:return z.key===pe?B(L,M,z,J):null;case w:return z=Ps(z),q(L,M,z,J)}if(Dt(z)||P(z))return pe!==null?null:X(L,M,z,J,null);if(typeof z.then=="function")return q(L,M,Xu(z),J);if(z.$$typeof===ie)return q(L,M,Gu(L,z),J);$u(L,z)}return null}function Q(L,M,z,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(z)||null,S(M,L,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return L=L.get(J.key===null?z:J.key)||null,N(M,L,J,pe);case G:return L=L.get(J.key===null?z:J.key)||null,B(M,L,J,pe);case w:return J=Ps(J),Q(L,M,z,J,pe)}if(Dt(J)||P(J))return L=L.get(z)||null,X(M,L,J,pe,null);if(typeof J.then=="function")return Q(L,M,z,Xu(J),pe);if(J.$$typeof===ie)return Q(L,M,z,Gu(M,J),pe);$u(M,J)}return null}function fe(L,M,z,J){for(var pe=null,ze=null,de=M,Ie=M=0,Oe=null;de!==null&&Ie<z.length;Ie++){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var Be=q(L,de,z[Ie],J);if(Be===null){de===null&&(de=Oe);break}t&&de&&Be.alternate===null&&i(L,de),M=d(Be,M,Ie),ze===null?pe=Be:ze.sibling=Be,ze=Be,de=Oe}if(Ie===z.length)return a(L,de),Le&&zi(L,Ie),pe;if(de===null){for(;Ie<z.length;Ie++)de=Z(L,z[Ie],J),de!==null&&(M=d(de,M,Ie),ze===null?pe=de:ze.sibling=de,ze=de);return Le&&zi(L,Ie),pe}for(de=l(de);Ie<z.length;Ie++)Oe=Q(de,L,Ie,z[Ie],J),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ie:Oe.key),M=d(Oe,M,Ie),ze===null?pe=Oe:ze.sibling=Oe,ze=Oe);return t&&de.forEach(function(Hr){return i(L,Hr)}),Le&&zi(L,Ie),pe}function _e(L,M,z,J){if(z==null)throw Error(s(151));for(var pe=null,ze=null,de=M,Ie=M=0,Oe=null,Be=z.next();de!==null&&!Be.done;Ie++,Be=z.next()){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var Hr=q(L,de,Be.value,J);if(Hr===null){de===null&&(de=Oe);break}t&&de&&Hr.alternate===null&&i(L,de),M=d(Hr,M,Ie),ze===null?pe=Hr:ze.sibling=Hr,ze=Hr,de=Oe}if(Be.done)return a(L,de),Le&&zi(L,Ie),pe;if(de===null){for(;!Be.done;Ie++,Be=z.next())Be=Z(L,Be.value,J),Be!==null&&(M=d(Be,M,Ie),ze===null?pe=Be:ze.sibling=Be,ze=Be);return Le&&zi(L,Ie),pe}for(de=l(de);!Be.done;Ie++,Be=z.next())Be=Q(de,L,Ie,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?Ie:Be.key),M=d(Be,M,Ie),ze===null?pe=Be:ze.sibling=Be,ze=Be);return t&&de.forEach(function(gb){return i(L,gb)}),Le&&zi(L,Ie),pe}function Ze(L,M,z,J){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case j:e:{for(var pe=z.key;M!==null;){if(M.key===pe){if(pe=z.type,pe===Y){if(M.tag===7){a(L,M.sibling),J=h(M,z.props.children),J.return=L,L=J;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Ps(pe)===M.type){a(L,M.sibling),J=h(M,z.props),el(J,z),J.return=L,L=J;break e}a(L,M);break}else i(L,M);M=M.sibling}z.type===Y?(J=Os(z.props.children,L.mode,J,z.key),J.return=L,L=J):(J=qu(z.type,z.key,z.props,null,L.mode,J),el(J,z),J.return=L,L=J)}return _(L);case G:e:{for(pe=z.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(L,M.sibling),J=h(M,z.children||[]),J.return=L,L=J;break e}else{a(L,M);break}else i(L,M);M=M.sibling}J=df(z,L.mode,J),J.return=L,L=J}return _(L);case w:return z=Ps(z),Ze(L,M,z,J)}if(Dt(z))return fe(L,M,z,J);if(P(z)){if(pe=P(z),typeof pe!="function")throw Error(s(150));return z=pe.call(z),_e(L,M,z,J)}if(typeof z.then=="function")return Ze(L,M,Xu(z),J);if(z.$$typeof===ie)return Ze(L,M,Gu(L,z),J);$u(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(L,M.sibling),J=h(M,z),J.return=L,L=J):(a(L,M),J=ff(z,L.mode,J),J.return=L,L=J),_(L)):a(L,M)}return function(L,M,z,J){try{Wo=0;var pe=Ze(L,M,z,J);return Na=null,pe}catch(de){if(de===xa||de===Yu)throw de;var ze=gn(29,de,null,L.mode);return ze.lanes=J,ze.return=L,ze}finally{}}}var ks=Tg(!0),Sg=Tg(!1),Rr=!1;function wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(t),sg(t,null,a),i}return zu(t,l,i,a),Bu(t)}function tl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Io(t,a)}}function Cf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var If=!1;function nl(){if(If){var t=Ia;if(t!==null)throw t}}function il(t,i,a,l){If=!1;var h=t.updateQueue;Rr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=B:S.next=B,X.lastBaseUpdate=N))}if(d!==null){var Z=h.baseState;_=0,X=B=N=null,S=d;do{var q=S.lane&-536870913,Q=q!==S.lane;if(Q?(De&q)===q:(l&q)===q){q!==0&&q===Ca&&(If=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,_e=S;q=i;var Ze=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){Z=fe.call(Ze,Z,q);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,q=typeof fe=="function"?fe.call(Ze,Z,q):fe,q==null)break e;Z=A({},Z,q);break e;case 2:Rr=!0}}q=S.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(B=X=Q,N=Z):X=X.next=Q,_|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Mr|=_,t.lanes=_,t.memoizedState=Z}}function Ag(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function bg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ag(a[t],i)}var Da=V(null),Ju=V(0);function wg(t,i){t=Ji,oe(Ju,t),oe(Da,i),Ji=t|i.baseLanes}function xf(){oe(Ju,Ji),oe(Da,Da.current)}function Nf(){Ji=Ju.current,ee(Da),ee(Ju)}var yn=V(null),Mn=null;function xr(t){var i=t.alternate;oe(pt,pt.current&1),oe(yn,t),Mn===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(Mn=t)}function Df(t){oe(pt,pt.current),oe(yn,t),Mn===null&&(Mn=t)}function Rg(t){t.tag===22?(oe(pt,pt.current),oe(yn,t),Mn===null&&(Mn=t)):Nr()}function Nr(){oe(pt,pt.current),oe(yn,yn.current)}function _n(t){ee(yn),Mn===t&&(Mn=null),ee(pt)}var pt=V(0);function Zu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pd(a)||Ud(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hi=0,Re=null,$e=null,wt=null,Wu=!1,Oa=!1,zs=!1,ec=0,rl=0,Ma=null,aA=0;function ht(){throw Error(s(321))}function Of(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function Mf(t,i,a,l,h,d){return Hi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?uy:Kf,zs=!1,d=a(l,h),zs=!1,Oa&&(d=Ig(i,a,l,h)),Cg(t),d}function Cg(t){$.H=ol;var i=$e!==null&&$e.next!==null;if(Hi=0,wt=$e=Re=null,Wu=!1,rl=0,Ma=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Fu(t)&&(Rt=!0))}function Ig(t,i,a,l){Re=t;var h=0;do{if(Oa&&(Ma=null),rl=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,wt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=cy,d=i(a,l)}while(Oa);return d}function oA(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?sl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),i}function Vf(){var t=ec!==0;return ec=0,t}function jf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Lf(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}Hi=0,wt=$e=Re=null,Oa=!1,rl=ec=0,Ma=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Re.memoizedState=wt=t:wt=wt.next=t,wt}function gt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=wt===null?Re.memoizedState:wt.next;if(i!==null)wt=i,$e=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},wt===null?Re.memoizedState=wt=t:wt=wt.next=t}return wt}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var i=rl;return rl+=1,Ma===null&&(Ma=[]),t=_g(Ma,t,i),i=Re,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?uy:Kf),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===ie)return Ht(t)}throw Error(s(438,String(t)))}function Pf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=tc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Fi(t,i){return typeof i=="function"?i(t):i}function ic(t){var i=gt();return Uf(i,$e,t)}function Uf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,B=i,X=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(De&Z)===Z:(Hi&Z)===Z){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Ca&&(X=!0);else if((Hi&q)===q){B=B.next,q===Ca&&(X=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=Z,_=d):N=N.next=Z,Re.lanes|=q,Mr|=q;Z=B.action,zs&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else q={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=q,_=d):N=N.next=q,Re.lanes|=Z,Mr|=Z;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=S,!pn(d,t.memoizedState)&&(Rt=!0,X&&(a=Ia,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function kf(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function xg(t,i,a){var l=Re,h=gt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,qf(Og.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Va(9,{destroy:void 0},Dg.bind(null,l,h,a,i),null),We===null)throw Error(s(349));d||(Hi&127)!==0||Ng(l,i,a)}return a}function Ng(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=tc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Dg(t,i,a,l){i.value=a,i.getSnapshot=l,Mg(i)&&Vg(t)}function Og(t,i,a){return a(function(){Mg(i)&&Vg(t)})}function Mg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function Vg(t){var i=Ds(t,2);i!==null&&cn(i,t,2)}function zf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),zs){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},i}function jg(t,i,a,l){return t.baseState=a,Uf(t,$e,typeof l=="function"?l:Fi)}function lA(t,i,a,l,h){if(ac(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Lg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Lg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var S=a(h,l),N=$.S;N!==null&&N(_,S),Pg(t,i,S)}catch(B){Bf(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(h,l),Pg(t,i,d)}catch(B){Bf(t,i,B)}}function Pg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ug(t,i,l)},function(l){return Bf(t,i,l)}):Ug(t,i,a)}function Ug(t,i,a){i.status="fulfilled",i.value=a,kg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Lg(t,a)))}function Bf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,kg(i),i=i.next;while(i!==l)}t.action=null}function kg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function zg(t,i){return i}function Bg(t,i){if(Le){var a=We.formState;if(a!==null){e:{var l=Re;if(Le){if(nt){t:{for(var h=nt,d=On;h.nodeType!==8;){if(!d){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=Vn(h.nextSibling),l=h.data==="F!";break e}}br(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:i},a.queue=l,a=ay.bind(null,Re,l),l.dispatch=a,l=zf(!1),d=Yf.bind(null,Re,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=lA.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function qg(t){var i=gt();return Hg(i,$e,t)}function Hg(t,i,a){if(i=Uf(t,i,zg)[0],t=ic(Fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=sl(i)}catch(_){throw _===xa?Yu:_}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Va(9,{destroy:void 0},uA.bind(null,h,a),null)),[l,d,t]}function uA(t,i){t.action=i}function Fg(t){var i=gt(),a=$e;if(a!==null)return Hg(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Va(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=tc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Gg(){return gt().memoizedState}function rc(t,i,a,l){var h=nn();Re.flags|=t,h.memoizedState=Va(1|i,{destroy:void 0},a,l===void 0?null:l)}function sc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Of(l,$e.memoizedState.deps)?h.memoizedState=Va(i,d,a,l):(Re.flags|=t,h.memoizedState=Va(1|i,d,a,l))}function Qg(t,i){rc(8390656,8,t,i)}function qf(t,i){sc(2048,8,t,i)}function cA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=tc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Yg(t){var i=gt().memoizedState;return cA({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Kg(t,i){return sc(4,2,t,i)}function Xg(t,i){return sc(4,4,t,i)}function $g(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Jg(t,i,a){a=a!=null?a.concat([t]):null,sc(4,4,$g.bind(null,i,t),a)}function Hf(){}function Zg(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Of(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Wg(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Of(i,l[1]))return l[0];if(l=t(),zs){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function Ff(t,i,a){return a===void 0||(Hi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=e_(),Re.lanes|=t,Mr|=t,a)}function ey(t,i,a,l){return pn(a,i)?a:Da.current!==null?(t=Ff(t,a,l),pn(t,i)||(Rt=!0),t):(Hi&42)===0||(Hi&1073741824)!==0&&(De&261930)===0?(Rt=!0,t.memoizedState=a):(t=e_(),Re.lanes|=t,Mr|=t,i)}function ty(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=$.T,S={};$.T=S,Yf(t,!1,i,a);try{var N=h(),B=$.S;if(B!==null&&B(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=sA(N,l);al(t,i,X,Tn(t))}else al(t,i,l,Tn(t))}catch(Z){al(t,i,{then:function(){},status:"rejected",reason:Z},Tn())}finally{ae.p=d,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function hA(){}function Gf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ny(t).queue;ty(t,h,i,ye,a===null?hA:function(){return iy(t),a(l)})}function ny(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function iy(t){var i=ny(t);i.next===null&&(i=t.alternate.memoizedState),al(t,i.next.queue,{},Tn())}function Qf(){return Ht(Al)}function ry(){return gt().memoizedState}function sy(){return gt().memoizedState}function fA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();t=Cr(a);var l=Ir(i,t,a);l!==null&&(cn(l,i,a),tl(l,i,a)),i={cache:Tf()},t.payload=i;return}i=i.return}}function dA(t,i,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?oy(i,a):(a=cf(t,i,a,l),a!==null&&(cn(a,t,l),ly(a,i,l)))}function ay(t,i,a){var l=Tn();al(t,i,a,l)}function al(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))oy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,pn(S,_))return zu(t,i,h,0),We===null&&ku(),!1}catch{}finally{}if(a=cf(t,i,h,l),a!==null)return cn(a,t,l),ly(a,i,l),!0}return!1}function Yf(t,i,a,l){if(l={lane:2,revertLane:wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(i)throw Error(s(479))}else i=cf(t,a,l,2),i!==null&&cn(i,t,2)}function ac(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function oy(t,i){Oa=Wu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ly(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Io(t,a)}}var ol={readContext:Ht,use:nc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};ol.useEffectEvent=ht;var uy={readContext:Ht,use:nc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Qg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,rc(4194308,4,$g.bind(null,i,t),a)},useLayoutEffect:function(t,i){return rc(4194308,4,t,i)},useInsertionEffect:function(t,i){rc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(zs){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(zs){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=dA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=zf(t);var i=t.queue,a=ay.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(t,i){var a=nn();return Ff(a,t,i)},useTransition:function(){var t=zf(!1);return t=ty.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=nn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(De&127)!==0||Ng(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Qg(Og.bind(null,l,d,t),[t]),l.flags|=2048,Va(9,{destroy:void 0},Dg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=We.identifierPrefix;if(Le){var a=vi,l=_i;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=aA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Qf,useFormState:Bg,useActionState:Bg,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Yf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Pf,useCacheRefresh:function(){return nn().memoizedState=fA.bind(null,Re)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:Ht,use:nc,useCallback:Zg,useContext:Ht,useEffect:qf,useImperativeHandle:Jg,useInsertionEffect:Kg,useLayoutEffect:Xg,useMemo:Wg,useReducer:ic,useRef:Gg,useState:function(){return ic(Fi)},useDebugValue:Hf,useDeferredValue:function(t,i){var a=gt();return ey(a,$e.memoizedState,t,i)},useTransition:function(){var t=ic(Fi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:xg,useId:ry,useHostTransitionStatus:Qf,useFormState:qg,useActionState:qg,useOptimistic:function(t,i){var a=gt();return jg(a,$e,t,i)},useMemoCache:Pf,useCacheRefresh:sy};Kf.useEffectEvent=Yg;var cy={readContext:Ht,use:nc,useCallback:Zg,useContext:Ht,useEffect:qf,useImperativeHandle:Jg,useInsertionEffect:Kg,useLayoutEffect:Xg,useMemo:Wg,useReducer:kf,useRef:Gg,useState:function(){return kf(Fi)},useDebugValue:Hf,useDeferredValue:function(t,i){var a=gt();return $e===null?Ff(a,t,i):ey(a,$e.memoizedState,t,i)},useTransition:function(){var t=kf(Fi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:xg,useId:ry,useHostTransitionStatus:Qf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,i){var a=gt();return $e!==null?jg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Pf,useCacheRefresh:sy};cy.useEffectEvent=Yg;function Xf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var $f={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Tn(),h=Cr(l);h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,l),i!==null&&(cn(i,t,l),tl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Tn(),h=Cr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,l),i!==null&&(cn(i,t,l),tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Tn(),l=Cr(a);l.tag=2,i!=null&&(l.callback=i),i=Ir(t,l,a),i!==null&&(cn(i,t,a),tl(i,t,a))}};function hy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Yo(a,l)||!Yo(h,d):!0}function fy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&$f.enqueueReplaceState(i,i.state,null)}function Bs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function dy(t){Uu(t)}function my(t){console.error(t)}function py(t){Uu(t)}function oc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function gy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(t,i,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(t,i)},a}function yy(t){return t=Cr(t),t.tag=3,t}function _y(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){gy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){gy(i,a,l),typeof h!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function mA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?vc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ku?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Sd(t,l,h)),!1;case 22:return a.flags|=65536,l===Ku?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Sd(t,l,h)),!1}throw Error(s(435,a.tag))}return Sd(t,l,h),vc(),!1}if(Le)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==gf&&(t=Error(s(422),{cause:l}),$o(xn(t,a)))):(l!==gf&&(i=Error(s(423),{cause:l}),$o(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=Jf(t.stateNode,l,h),Cf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),pl===null?pl=[d]:pl.push(d),ft!==4&&(ft=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Jf(a.stateNode,l,t),Cf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vr===null||!Vr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=yy(h),_y(h,t,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Zf=Error(s(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?Sg(i,null,a,l):ks(i,t.child,a,l)}function vy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return js(i),l=Mf(t,i,a,_,d,h),S=Vf(),t!==null&&!Rt?(jf(t,i,h),Gi(t,i,h)):(Le&&S&&mf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Ey(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!hf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ty(t,i,d,l,h)):(t=qu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ad(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(_,l)&&t.ref===i.ref)return Gi(t,i,h)}return i.flags|=1,t=ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ty(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Yo(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,ad(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Gi(t,i,h)}return Wf(t,i,a,l,h)}function Sy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ay(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(i,d!==null?d.cachePool:null),d!==null?wg(i,d):xf(),Rg(i);else return l=i.lanes=536870912,Ay(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Qu(i,d.cachePool),wg(i,d),Nr(),i.memoizedState=null):(t!==null&&Qu(i,null),xf(),Nr());return Ft(t,i,h,a),i.child}function ll(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ay(t,i,a,l,h){var d=Af();return d=d===null?null:{parent:bt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Qu(i,null),xf(),Rg(i),t!==null&&Ra(t,i,l,!0),i.childLanes=h,null}function lc(t,i){return i=cc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function by(t,i,a){return ks(i,t.child,null,a),t=lc(i,i.pendingProps),t.flags|=2,_n(i),i.memoizedState=null,t}function pA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=lc(i,l),i.lanes=536870912,ll(null,t);if(Df(i),(t=nt)?(t=L_(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Sr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=og(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw br(i);return i.lanes=536870912,null}return lc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Df(i),h)if(i.flags&256)i.flags&=-257,i=by(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||Ra(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=We,l!==null&&(_=xo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ds(t,_),cn(l,t,_),Zf;vc(),i=by(t,i,a)}else t=d.treeContext,nt=Vn(_.nextSibling),qt=i,Le=!0,Ar=null,On=!1,t!==null&&cg(i,t),i=lc(i,l),i.flags|=4096;return i}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Wf(t,i,a,l,h){return js(i),a=Mf(t,i,a,l,void 0,h),l=Vf(),t!==null&&!Rt?(jf(t,i,h),Gi(t,i,h)):(Le&&l&&mf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function wy(t,i,a,l,h,d){return js(i),i.updateQueue=null,a=Ig(i,l,a,h),Cg(t),l=Vf(),t!==null&&!Rt?(jf(t,i,d),Gi(t,i,d)):(Le&&l&&mf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Ry(t,i,a,l,h){if(js(i),i.stateNode===null){var d=Sa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},wf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Sa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Xf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&$f.enqueueReplaceState(d,d.state,null),il(i,l,d,h),nl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Bs(a,S);d.props=N;var B=d.context,X=a.contextType;_=Sa,typeof X=="object"&&X!==null&&(_=Ht(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&fy(i,d,l,_),Rr=!1;var q=i.memoizedState;d.state=q,il(i,l,d,h),nl(),B=i.memoizedState,S||q!==B||Rr?(typeof Z=="function"&&(Xf(i,a,Z,l),B=i.memoizedState),(N=Rr||hy(i,a,N,l,q,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Rf(t,i),_=i.memoizedProps,X=Bs(a,_),d.props=X,Z=i.pendingProps,q=d.context,B=a.contextType,N=Sa,typeof B=="object"&&B!==null&&(N=Ht(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||q!==N)&&fy(i,d,l,N),Rr=!1,q=i.memoizedState,d.state=q,il(i,l,d,h),nl();var Q=i.memoizedState;_!==Z||q!==Q||Rr||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof S=="function"&&(Xf(i,a,S,l),Q=i.memoizedState),(X=Rr||hy(i,a,X,l,q,Q,N)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,uc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ks(i,t.child,null,h),i.child=ks(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Gi(t,i,h),t}function Cy(t,i,a,l){return Ms(),i.flags|=256,Ft(t,i,a,l),i.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(t){return{baseLanes:t,cachePool:gg()}}function nd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=En),t}function Iy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?xr(i):Nr(),(t=nt)?(t=L_(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Sr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=og(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw br(i);return Ud(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Nr(),h=i.mode,S=cc({mode:"hidden",children:S},h),l=Os(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=td(a),l.childLanes=nd(t,_,a),i.memoizedState=ed,ll(null,l)):(xr(i),id(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(xr(i),i.flags&=-257,i=rd(t,i,a)):i.memoizedState!==null?(Nr(),i.child=t.child,i.flags|=128,i=null):(Nr(),S=l.fallback,h=i.mode,l=cc({mode:"visible",children:l.children},h),S=Os(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,ks(i,t.child,null,a),l=i.child,l.memoizedState=td(a),l.childLanes=nd(t,_,a),i.memoizedState=ed,i=ll(null,l));else if(xr(i),Ud(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,$o({value:l,source:null,stack:null}),i=rd(t,i,a)}else if(Rt||Ra(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=We,_!==null&&(l=xo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ds(t,l),cn(_,t,l),Zf;Pd(S)||vc(),i=rd(t,i,a)}else Pd(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,nt=Vn(S.nextSibling),qt=i,Le=!0,Ar=null,On=!1,t!==null&&cg(i,t),i=id(i,l.children),i.flags|=4096);return i}return h?(Nr(),S=l.fallback,h=i.mode,N=t.child,B=N.sibling,l=ki(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?S=ki(B,S):(S=Os(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,ll(null,l),l=i.child,S=t.child.memoizedState,S===null?S=td(a):(h=S.cachePool,h!==null?(N=bt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=gg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=nd(t,_,a),i.memoizedState=ed,ll(t.child,l)):(xr(i),a=t.child,t=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function id(t,i){return i=cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function cc(t,i){return t=gn(22,t,null,i),t.lanes=0,t}function rd(t,i,a){return ks(i,t.child,null,a),t=id(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function xy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),vf(t.return,i,a)}function sd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Ny(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,oe(pt,_),Ft(t,i,l,a),l=Le?Xo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xy(t,a,i);else if(t.tag===19)xy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),sd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}sd(i,!0,a,null,d,l);break;case"together":sd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Gi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Mr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ra(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ad(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function gA(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),wr(i,bt,t.memoizedState.cache),Ms();break;case 27:case 5:ds(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:wr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Df(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Iy(t,i,a):(xr(i),t=Gi(t,i,a),t!==null?t.sibling:null);xr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ra(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ny(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(pt,pt.current),l)break;return null;case 22:return i.lanes=0,Sy(t,i,a,i.pendingProps);case 24:wr(i,bt,t.memoizedState.cache)}return Gi(t,i,a)}function Dy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!ad(t,a)&&(i.flags&128)===0)return Rt=!1,gA(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Le&&(i.flags&1048576)!==0&&ug(i,Xo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ps(i.elementType),i.type=t,typeof t=="function")hf(t)?(l=Bs(t,l),i.tag=1,i=Ry(null,i,t,l,a)):(i.tag=0,i=Wf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===se){i.tag=11,i=vy(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=Ey(null,i,t,l,a);break e}}throw i=st(t)||t,Error(s(306,i,""))}}return i;case 0:return Wf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Bs(l,i.pendingProps),Ry(t,i,l,h,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Rf(t,i),il(i,l,null,a);var _=i.memoizedState;if(l=_.cache,wr(i,bt,l),l!==d.cache&&Ef(i,[bt],a,!0),nl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Cy(t,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),$o(h),i=Cy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Vn(t.firstChild),qt=i,Le=!0,Ar=null,On=!0,a=Sg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ms(),l===h){i=Gi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return uc(t,i),t===null?(a=q_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Rc(Ce.current).createElement(a),l[Tt]=i,l[Lt]=t,Gt(l,a,t),St(l),i.stateNode=l):i.memoizedState=q_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ds(i),t===null&&Le&&(l=i.stateNode=k_(i.type,i.pendingProps,Ce.current),qt=i,On=!0,h=nt,Ur(i.type)?(kd=h,nt=Vn(l.firstChild)):nt=h),Ft(t,i,i.pendingProps.children,a),uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=nt)&&(l=QA(l,i.type,i.pendingProps,On),l!==null?(i.stateNode=l,qt=i,nt=Vn(l.firstChild),On=!1,h=!0):h=!1),h||br(i)),ds(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Vd(h,d)?l=null:_!==null&&Vd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Mf(t,i,oA,null,null,a),Al._currentValue=h),uc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=nt)&&(a=YA(a,i.pendingProps,On),a!==null?(i.stateNode=a,qt=i,nt=null,t=!0):t=!1),t||br(i)),null;case 13:return Iy(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ks(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return vy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,wr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Ey(t,i,i.type,i.pendingProps,a);case 15:return Ty(t,i,i.type,i.pendingProps,a);case 19:return Ny(t,i,a);case 31:return pA(t,i,a);case 22:return Sy(t,i,a,i.pendingProps);case 24:return js(i),l=Ht(bt),t===null?(h=Af(),h===null&&(h=We,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},wf(i),wr(i,bt,h)):((t.lanes&a)!==0&&(Rf(t,i),il(i,null,null,a),nl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),wr(i,bt,l)):(l=d.cache,wr(i,bt,l),l!==h.cache&&Ef(i,[bt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qi(t){t.flags|=4}function od(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(r_())t.flags|=8192;else throw Us=Ku,bf}else t.flags&=-16777217}function Oy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Y_(i))if(r_())t.flags|=8192;else throw Us=Ku,bf}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yu():536870912,t.lanes|=i,Ua|=i)}function ul(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function yA(t,i,a){var l=i.pendingProps;switch(pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qi(bt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(wa(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yf())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(it(i),Oy(i,d)):(it(i),od(i,h,null,l,a))):d?d!==t.memoizedState?(Qi(i),it(i),Oy(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(i),it(i),od(i,h,t,l,a)),null;case 27:if(ia(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=he.current,wa(i)?hg(i):(t=k_(h,l,a),i.stateNode=t,Qi(i))}return it(i),null;case 5:if(ia(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=he.current,wa(i))hg(i);else{var _=Rc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qi(i)}}return it(i),od(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,wa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||I_(t.nodeValue,a)),t||br(i,!0)}else t=Rc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=wa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&xd(i.stateNode.containerInfo),it(i),null;case 10:return qi(i.type),it(i),null;case 19:if(ee(pt),l=i.memoizedState,l===null)return it(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ul(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Zu(t),d!==null){for(i.flags|=128,ul(l,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ag(a,t),a=a.sibling;return oe(pt,pt.current&1|2),Le&&zi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>gc&&(i.flags|=128,h=!0,ul(l,!1),i.lanes=4194304)}else{if(!h)if(t=Zu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return it(i),null}else 2*en()-l.renderingStartTime>gc&&a!==536870912&&(i.flags|=128,h=!0,ul(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=pt.current,oe(pt,h?a&1|2:a&1),Le&&zi(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return _n(i),Nf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qi(bt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function _A(t,i){switch(pf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return qi(bt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ia(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));Ms()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ms()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(pt),null;case 4:return at(),null;case 10:return qi(i.type),null;case 22:case 23:return _n(i),Nf(),t!==null&&ee(Ls),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return qi(bt),null;case 25:return null;default:return null}}function My(t,i){switch(pf(i),i.tag){case 3:qi(bt),at();break;case 26:case 27:case 5:ia(i);break;case 4:at();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:ee(pt);break;case 10:qi(i.type);break;case 22:case 23:_n(i),Nf(),t!==null&&ee(Ls);break;case 24:qi(bt)}}function cl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Ke(i,i.return,S)}}function Dr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,B=S;try{B()}catch(X){Ke(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){Ke(i,i.return,X)}}function Vy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{bg(i,a)}catch(l){Ke(t,t.return,l)}}}function jy(t,i,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(t,i,l)}}function hl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ke(t,i,h)}}function Ei(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ke(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ke(t,i,h)}else a.current=null}function Ly(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ke(t,t.return,h)}}function ld(t,i,a){try{var l=t.stateNode;zA(l,t.type,a,i),l[Lt]=i}catch(h){Ke(t,t.return,h)}}function Py(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ur(t.type)||t.tag===4}function ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qn));else if(l!==4&&(l===27&&Ur(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(cd(t,i,a),t=t.sibling;t!==null;)cd(t,i,a),t=t.sibling}function fc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ur(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,i,a),t=t.sibling;t!==null;)fc(t,i,a),t=t.sibling}function Uy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Tt]=t,i[Lt]=a}catch(d){Ke(t,t.return,d)}}var Yi=!1,Ct=!1,hd=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function vA(t,i){if(t=t.containerInfo,Od=Mc,t=Jp(t),rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,B=0,X=0,Z=t,q=null;t:for(;;){for(var Q;Z!==a||h!==0&&Z.nodeType!==3||(S=_+h),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)q=Z,Z=Q;for(;;){if(Z===t)break t;if(q===a&&++B===h&&(S=_),q===d&&++X===l&&(N=_),(Q=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Md={focusedElem:t,selectionRange:a},Mc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Bs(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ke(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ld(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function zy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(t,a),l&4&&cl(5,a);break;case 1:if(Xi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ke(a,a.return,_)}else{var h=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ke(a,a.return,_)}}l&64&&Vy(a),l&512&&hl(a,a.return);break;case 3:if(Xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{bg(t,i)}catch(_){Ke(a,a.return,_)}}break;case 27:i===null&&l&4&&Uy(a);case 26:case 5:Xi(t,a),i===null&&l&4&&Ly(a),l&512&&hl(a,a.return);break;case 12:Xi(t,a);break;case 31:Xi(t,a),l&4&&Hy(t,a);break;case 13:Xi(t,a),l&4&&Fy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=IA.bind(null,a),KA(t,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||Ct,h=Yi;var d=Ct;Yi=l,(Ct=i)&&!d?$i(t,a,(a.subtreeFlags&8772)!==0):Xi(t,a),Yi=h,Ct=d}break;case 30:break;default:Xi(t,a)}}function By(t){var i=t.alternate;i!==null&&(t.alternate=null,By(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&la(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,an=!1;function Ki(t,i,a){for(a=a.child;a!==null;)qy(t,i,a),a=a.sibling}function qy(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:Ct||Ei(a,i),Ki(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ei(a,i);var l=lt,h=an;Ur(a.type)&&(lt=a.stateNode,an=!1),Ki(t,i,a),El(a.stateNode),lt=l,an=h;break;case 5:Ct||Ei(a,i);case 6:if(l=lt,h=an,lt=null,Ki(t,i,a),lt=l,an=h,lt!==null)if(an)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Ke(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Ke(a,i,d)}break;case 18:lt!==null&&(an?(t=lt,V_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):V_(lt,a.stateNode));break;case 4:l=lt,h=an,lt=a.stateNode.containerInfo,an=!0,Ki(t,i,a),lt=l,an=h;break;case 0:case 11:case 14:case 15:Dr(2,a,i),Ct||Dr(4,a,i),Ki(t,i,a);break;case 1:Ct||(Ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jy(a,i,l)),Ki(t,i,a);break;case 21:Ki(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Ki(t,i,a),Ct=l;break;default:Ki(t,i,a)}}function Hy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){Ke(i,i.return,a)}}}function Fy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){Ke(i,i.return,a)}}function EA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ky),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ky),i;default:throw Error(s(435,t.tag))}}function dc(t,i){var a=EA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=xA.bind(null,t,l);l.then(h,h)}})}function on(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Ur(S.type)){lt=S.stateNode,an=!1;break e}break;case 5:lt=S.stateNode,an=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,an=!0;break e}S=S.return}if(lt===null)throw Error(s(160));qy(d,_,h),lt=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Gy(i,t),i=i.sibling}var Kn=null;function Gy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(i,t),ln(t),l&4&&(Dr(3,t,t.return),cl(3,t),Dr(5,t,t.return));break;case 1:on(i,t),ln(t),l&512&&(Ct||a===null||Ei(a,a.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(on(i,t),ln(t),l&512&&(Ct||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ai]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,St(d),l=d;break e;case"link":var _=G_("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=G_("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else Q_(h,t.type,t.stateNode);else t.stateNode=F_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Q_(h,t.type,t.stateNode):F_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ld(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(i,t),ln(t),l&512&&(Ct||a===null||Ei(a,a.return)),a!==null&&l&4&&ld(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(i,t),ln(t),l&512&&(Ct||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(fe){Ke(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ld(t,h,a!==null?a.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(on(i,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Ke(t,t.return,fe)}}break;case 3:if(xc=null,h=Kn,Kn=Cc(i.containerInfo),on(i,t),Kn=h,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(fe){Ke(t,t.return,fe)}hd&&(hd=!1,Qy(t));break;case 4:l=Kn,Kn=Cc(t.stateNode.containerInfo),on(i,t),ln(t),Kn=l;break;case 12:on(i,t),ln(t);break;case 31:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 13:on(i,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Yi,X=Ct;if(Yi=B||h,Ct=X||N,on(i,t),Ct=X,Yi=B,ln(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Yi||Ct||qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var Z=N.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){Ke(N,N.return,fe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(fe){Ke(N,N.return,fe)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?j_(Q,!0):j_(N.stateNode,!1)}catch(fe){Ke(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dc(t,a))));break;case 19:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 30:break;case 21:break;default:on(i,t),ln(t)}}function ln(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Py(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ud(t);fc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var S=ud(t);fc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=ud(t);cd(t,B,N);break;default:throw Error(s(161))}}catch(X){Ke(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zy(t,i.alternate,i),i=i.sibling}function qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Dr(4,i,i.return),qs(i);break;case 1:Ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&jy(i,i.return,a),qs(i);break;case 27:El(i.stateNode);case 26:case 5:Ei(i,i.return),qs(i);break;case 22:i.memoizedState===null&&qs(i);break;case 30:qs(i);break;default:qs(i)}t=t.sibling}}function $i(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:$i(h,d,a),cl(4,d);break;case 1:if($i(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ke(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Ag(N[h],S)}catch(B){Ke(l,l.return,B)}}a&&_&64&&Vy(d),hl(d,d.return);break;case 27:Uy(d);case 26:case 5:$i(h,d,a),a&&l===null&&_&4&&Ly(d),hl(d,d.return);break;case 12:$i(h,d,a);break;case 31:$i(h,d,a),a&&_&4&&Hy(h,d);break;case 13:$i(h,d,a),a&&_&4&&Fy(h,d);break;case 22:d.memoizedState===null&&$i(h,d,a),hl(d,d.return);break;case 30:break;default:$i(h,d,a)}i=i.sibling}}function fd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jo(a))}function dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t))}function Xn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yy(t,i,a,l),i=i.sibling}function Yy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(t,i,a,l),h&2048&&cl(9,i);break;case 1:Xn(t,i,a,l);break;case 3:Xn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){Xn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ke(i,i.return,N)}}else Xn(t,i,a,l);break;case 31:Xn(t,i,a,l);break;case 13:Xn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Xn(t,i,a,l):fl(t,i):d._visibility&2?Xn(t,i,a,l):(d._visibility|=2,ja(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&fd(_,i);break;case 24:Xn(t,i,a,l),h&2048&&dd(i.alternate,i);break;default:Xn(t,i,a,l)}}function ja(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:ja(d,_,S,N,h),cl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?ja(d,_,S,N,h):fl(d,_):(X._visibility|=2,ja(d,_,S,N,h)),h&&B&2048&&fd(_.alternate,_);break;case 24:ja(d,_,S,N,h),h&&B&2048&&dd(_.alternate,_);break;default:ja(d,_,S,N,h)}i=i.sibling}}function fl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:fl(a,l),h&2048&&fd(l.alternate,l);break;case 24:fl(a,l),h&2048&&dd(l.alternate,l);break;default:fl(a,l)}i=i.sibling}}var dl=8192;function La(t,i,a){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Ky(t,i,a),t=t.sibling}function Ky(t,i,a){switch(t.tag){case 26:La(t,i,a),t.flags&dl&&t.memoizedState!==null&&ab(a,Kn,t.memoizedState,t.memoizedProps);break;case 5:La(t,i,a);break;case 3:case 4:var l=Kn;Kn=Cc(t.stateNode.containerInfo),La(t,i,a),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=dl,dl=16777216,La(t,i,a),dl=l):La(t,i,a));break;default:La(t,i,a)}}function Xy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Jy(l,t)}Xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$y(t),t=t.sibling}function $y(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Dr(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,mc(t)):ml(t);break;default:ml(t)}}function mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Jy(l,t)}Xy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Dr(8,i,i.return),mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,mc(i));break;default:mc(i)}t=t.sibling}}function Jy(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(By(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var TA={getCacheForType:function(t){var i=Ht(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(bt).controller.signal}},SA=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,xe=null,De=0,Ye=0,vn=null,Or=!1,Pa=!1,md=!1,Ji=0,ft=0,Mr=0,Hs=0,pd=0,En=0,Ua=0,pl=null,un=null,gd=!1,pc=0,Zy=0,gc=1/0,yc=null,Vr=null,Vt=0,jr=null,ka=null,Zi=0,yd=0,_d=null,Wy=null,gl=0,vd=null;function Tn(){return(He&2)!==0&&De!==0?De&-De:$.T!==null?wd():_u()}function e_(){if(En===0)if((De&536870912)===0||Le){var t=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),En=t}else En=536870912;return t=yn.current,t!==null&&(t.flags|=32),En}function cn(t,i,a){(t===We&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(za(t,0),Lr(t,De,En,!1)),ys(t,a),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(Hs|=a),ft===4&&Lr(t,De,En,!1)),Ti(t))}function t_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||kn(t,i),h=l?wA(t,i):Td(t,i,!0),d=l;do{if(h===0){Pa&&!l&&Lr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!AA(a)){h=Td(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=pl;var N=S.current.memoizedState.isDehydrated;if(N&&(za(S,_).flags|=256),_=Td(S,_,!1),_!==2){if(md&&!N){S.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){za(t,0),Lr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Lr(l,i,En,!Or);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=pc+300-en(),10<h)){if(Lr(l,i,En,!Or),ii(l,0,!0)!==0)break e;Zi=i,l.timeoutHandle=O_(n_.bind(null,l,a,un,yc,gd,i,En,Hs,Ua,Or,d,"Throttled",-0,0),h);break e}n_(l,a,un,yc,gd,i,En,Hs,Ua,Or,d,null,-0,0)}}break}while(!0);Ti(t)}function n_(t,i,a,l,h,d,_,S,N,B,X,Z,q,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Ky(i,d,Z);var fe=(d&62914560)===d?pc-en():(d&4194048)===d?Zy-en():0;if(fe=ob(Z,fe),fe!==null){Zi=d,t.cancelPendingCommit=fe(c_.bind(null,t,i,d,a,l,h,_,S,N,X,Z,null,q,Q)),Lr(t,d,_,!B);return}}c_(t,i,d,a,l,h,_,S,N)}function AA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Lr(t,i,a,l){i&=~pd,i&=~Hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&_s(t,a,i)}function _c(){return(He&6)===0?(yl(0),!1):!0}function Ed(){if(xe!==null){if(Ye===0)var t=xe.return;else t=xe,Bi=Vs=null,Lf(t),Na=null,Wo=0,t=xe;for(;t!==null;)My(t.alternate,t),t=t.return;xe=null}}function za(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,HA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,Ed(),We=t,xe=a=ki(t.current,null),De=i,Ye=0,vn=null,Or=!1,Pa=kn(t,i),md=!1,Ua=En=pd=Hs=Mr=ft=0,un=pl=null,gd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return Ji=i,ku(),a}function i_(t,i){Re=null,$.H=ol,i===xa||i===Yu?(i=vg(),Ye=3):i===bf?(i=vg(),Ye=4):Ye=i===Zf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,xe===null&&(ft=1,oc(t,xn(i,t.current)))}function r_(){var t=yn.current;return t===null?!0:(De&4194048)===De?Mn===null:(De&62914560)===De||(De&536870912)!==0?t===Mn:!1}function s_(){var t=$.H;return $.H=ol,t===null?ol:t}function a_(){var t=$.A;return $.A=TA,t}function vc(){ft=4,Or||(De&4194048)!==De&&yn.current!==null||(Pa=!0),(Mr&134217727)===0&&(Hs&134217727)===0||We===null||Lr(We,De,En,!1)}function Td(t,i,a){var l=He;He|=2;var h=s_(),d=a_();(We!==t||De!==i)&&(yc=null,za(t,i)),i=!1;var _=ft;e:do try{if(Ye!==0&&xe!==null){var S=xe,N=vn;switch(Ye){case 8:Ed(),_=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var B=Ye;if(Ye=0,vn=null,Ba(t,S,N,B),a&&Pa){_=0;break e}break;default:B=Ye,Ye=0,vn=null,Ba(t,S,N,B)}}bA(),_=ft;break}catch(X){i_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Bi=Vs=null,He=l,$.H=h,$.A=d,xe===null&&(We=null,De=0,ku()),_}function bA(){for(;xe!==null;)o_(xe)}function wA(t,i){var a=He;He|=2;var l=s_(),h=a_();We!==t||De!==i?(yc=null,gc=en()+500,za(t,i)):Pa=kn(t,i);e:do try{if(Ye!==0&&xe!==null){i=xe;var d=vn;t:switch(Ye){case 1:Ye=0,vn=null,Ba(t,i,d,1);break;case 2:case 9:if(yg(d)){Ye=0,vn=null,l_(i);break}i=function(){Ye!==2&&Ye!==9||We!==t||(Ye=7),Ti(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:yg(d)?(Ye=0,vn=null,l_(i)):(Ye=0,vn=null,Ba(t,i,d,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var S=xe;if(_?Y_(_):S.stateNode.complete){Ye=0,vn=null;var N=S.sibling;if(N!==null)xe=N;else{var B=S.return;B!==null?(xe=B,Ec(B)):xe=null}break t}}Ye=0,vn=null,Ba(t,i,d,5);break;case 6:Ye=0,vn=null,Ba(t,i,d,6);break;case 8:Ed(),ft=6;break e;default:throw Error(s(462))}}RA();break}catch(X){i_(t,X)}while(!0);return Bi=Vs=null,$.H=l,$.A=h,He=a,xe!==null?0:(We=null,De=0,ku(),ft)}function RA(){for(;xe!==null&&!$h();)o_(xe)}function o_(t){var i=Dy(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?Ec(t):xe=i}function l_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=wy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=wy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Lf(i);default:My(a,i),i=xe=ag(i,Ji),i=Dy(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?Ec(t):xe=i}function Ba(t,i,a,l){Bi=Vs=null,Lf(i),Na=null,Wo=0;var h=i.return;try{if(mA(t,h,i,a,De)){ft=1,oc(t,xn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ft=1,oc(t,xn(a,t.current)),xe=null;return}i.flags&32768?(Le||l===1?t=!0:Pa||(De&536870912)!==0?t=!1:(Or=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),u_(i,t)):Ec(i)}function Ec(t){var i=t;do{if((i.flags&32768)!==0){u_(i,Or);return}t=i.return;var a=yA(i.alternate,i,Ji);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ft===0&&(ft=5)}function u_(t,i){do{var a=_A(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ft=6,xe=null}function c_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do Tc();while(Vt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=uf,Wh(t,a,d,_,S,N),t===We&&(xe=We=null,De=0),ka=i,jr=t,Zi=a,yd=d,_d=h,Wy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NA(fr,function(){return p_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ae.p,ae.p=2,_=He,He|=4;try{vA(t,i,a)}finally{He=_,ae.p=h,$.T=l}}Vt=1,h_(),f_(),d_()}}function h_(){if(Vt===1){Vt=0;var t=jr,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=He;He|=4;try{Gy(i,t);var d=Md,_=Jp(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&$p(S.ownerDocument.documentElement,S)){if(N!==null&&rf(S)){var B=N.start,X=N.end;if(X===void 0&&(X=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(X,S.value.length);else{var Z=S.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var Q=q.getSelection(),fe=S.textContent.length,_e=Math.min(N.start,fe),Ze=N.end===void 0?_e:Math.min(N.end,fe);!Q.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var L=Xp(S,_e),M=Xp(S,Ze);if(L&&M&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),Q.removeAllRanges(),_e>Ze?(Q.addRange(z),Q.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),Q.addRange(z))}}}}for(Z=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var J=Z[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Mc=!!Od,Md=Od=null}finally{He=h,ae.p=l,$.T=a}}t.current=i,Vt=2}}function f_(){if(Vt===2){Vt=0;var t=jr,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=He;He|=4;try{zy(t,i.alternate,i)}finally{He=h,ae.p=l,$.T=a}}Vt=3}}function d_(){if(Vt===4||Vt===3){Vt=0,hu();var t=jr,i=ka,a=Zi,l=Wy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,ka=jr=null,m_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Vr=null),ji(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Un,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=ae.p,ae.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{$.T=i,ae.p=h}}(Zi&3)!==0&&Tc(),Ti(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===vd?gl++:(gl=0,vd=t):gl=0,yl(0)}}function m_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Jo(i)))}function Tc(){return h_(),f_(),d_(),p_()}function p_(){if(Vt!==5)return!1;var t=jr,i=yd;yd=0;var a=ji(Zi),l=$.T,h=ae.p;try{ae.p=32>a?32:a,$.T=null,a=_d,_d=null;var d=jr,_=Zi;if(Vt=0,ka=jr=null,Zi=0,(He&6)!==0)throw Error(s(331));var S=He;if(He|=4,$y(d.current),Yy(d,d.current,_,a),He=S,yl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Un,d)}catch{}return!0}finally{ae.p=h,$.T=l,m_(t,i)}}function g_(t,i,a){i=xn(a,i),i=Jf(t.stateNode,i,2),t=Ir(t,i,2),t!==null&&(ys(t,2),Ti(t))}function Ke(t,i,a){if(t.tag===3)g_(t,t,a);else for(;i!==null;){if(i.tag===3){g_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vr===null||!Vr.has(l))){t=xn(a,t),a=yy(2),l=Ir(i,a,2),l!==null&&(_y(a,l,i,t),ys(l,2),Ti(l));break}}i=i.return}}function Sd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new SA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(md=!0,h.add(a),t=CA.bind(null,t,i,a),i.then(t,t))}function CA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>en()-pc?(He&2)===0&&za(t,0):pd|=a,Ua===De&&(Ua=0)),Ti(t)}function y_(t,i){i===0&&(i=yu()),t=Ds(t,i),t!==null&&(ys(t,i),Ti(t))}function IA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),y_(t,a)}function xA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),y_(t,a)}function NA(t,i){return Mt(t,i)}var Sc=null,qa=null,Ad=!1,Ac=!1,bd=!1,Pr=0;function Ti(t){t!==qa&&t.next===null&&(qa===null?Sc=qa=t:qa=qa.next=t),Ac=!0,Ad||(Ad=!0,OA())}function yl(t,i){if(!bd&&Ac){bd=!0;do for(var a=!1,l=Sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,T_(l,d))}else d=De,d=ii(l,l===We?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||kn(l,d)||(a=!0,T_(l,d));l=l.next}while(a);bd=!1}}function DA(){__()}function __(){Ac=Ad=!1;var t=0;Pr!==0&&qA()&&(t=Pr);for(var i=en(),a=null,l=Sc;l!==null;){var h=l.next,d=v_(l,i);d===0?(l.next=null,a===null?Sc=h:a.next=h,h===null&&(qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Ac=!0)),l=h}Vt!==0&&Vt!==5||yl(t),Pr!==0&&(Pr=0)}function v_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=Zh(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=We,a=De,a=ii(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&hr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||kn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&hr(l),ji(a)){case 2:case 8:a=Co;break;case 32:a=fr;break;case 268435456:a=fu;break;default:a=fr}return l=E_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&hr(l),t.callbackPriority=2,t.callbackNode=null,2}function E_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=De;return l=ii(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(t_(t,l,i),v_(t,en()),t.callbackNode!=null&&t.callbackNode===a?E_.bind(null,t):null)}function T_(t,i){if(Tc())return null;t_(t,i,!0)}function OA(){FA(function(){(He&6)!==0?Mt(Ro,DA):__()})}function wd(){if(Pr===0){var t=Ca;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Pr=t}return Pr}function S_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function A_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function MA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=S_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?S_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new mi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pr!==0){var N=_?A_(h,_):new FormData(h);Gf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?A_(h,_):new FormData(h),Gf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Rd=0;Rd<lf.length;Rd++){var Cd=lf[Rd],VA=Cd.toLowerCase(),jA=Cd[0].toUpperCase()+Cd.slice(1);Yn(VA,"on"+jA)}Yn(eg,"onAnimationEnd"),Yn(tg,"onAnimationIteration"),Yn(ng,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(JS,"onTransitionRun"),Yn(ZS,"onTransitionStart"),Yn(WS,"onTransitionCancel"),Yn(ig,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function b_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,B=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){Uu(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,B=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){Uu(X)}h.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var l=t+"__bubble";a.has(l)||(w_(i,t,2,!1),a.add(l))}function Id(t,i,a){var l=0;i&&(l|=4),w_(a,t,l,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[bc]){t[bc]=!0,No.forEach(function(a){a!=="selectionchange"&&(LA.has(a)||Id(a,!1,t),Id(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[bc]||(i[bc]=!0,Id("selectionchange",!1,i))}}function w_(t,i,a,l){switch(ev(i)){case 2:var h=cb;break;case 8:h=hb;break;default:h=Fd}a=h.bind(null,i,a,t),h=void 0,!As||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Nd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=oi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}_r(function(){var B=d,X=wn(a),Z=[];e:{var q=rg.get(t);if(q!==void 0){var Q=mi,fe=t;switch(t){case"keypress":if(ws(a)===0)break e;case"keydown":case"keyup":Q=ju;break;case"focusin":fe="focus",Q=Cs;break;case"focusout":fe="blur",Q=Cs;break;case"beforeblur":case"afterblur":Q=Cs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case eg:case tg:case ng:Q=Iu;break;case ig:Q=b;break;case"scroll":case"scrollend":Q=qo;break;case"wheel":Q=F;break;case"copy":case"cut":case"paste":Q=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ui;break;case"toggle":case"beforetoggle":Q=we}var _e=(i&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),L=_e?q!==null?q+"Capture":null:q;_e=[];for(var M=B,z;M!==null;){var J=M;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||L===null||(J=Hn(M,L),J!=null&&_e.push(vl(M,J,z))),Ze)break;M=M.return}0<_e.length&&(q=new Q(q,fe,null,a,X),Z.push({event:q,listeners:_e}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==ko&&(fe=a.relatedTarget||a.fromElement)&&(oi(fe)||fe[si]))break e;if((Q||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=B,fe=fe?oi(fe):null,fe!==null&&(Ze=u(fe),_e=fe.tag,fe!==Ze||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Q=null,fe=B),Q!==fe)){if(_e=Ho,J="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ui,J="onPointerLeave",L="onPointerEnter",M="pointer"),Ze=Q==null?q:dn(Q),z=fe==null?q:dn(fe),q=new _e(J,M+"leave",Q,a,X),q.target=Ze,q.relatedTarget=z,J=null,oi(X)===B&&(_e=new _e(L,M+"enter",fe,a,X),_e.target=z,_e.relatedTarget=Ze,J=_e),Ze=J,Q&&fe)t:{for(_e=PA,L=Q,M=fe,z=0,J=L;J;J=_e(J))z++;J=0;for(var pe=M;pe;pe=_e(pe))J++;for(;0<z-J;)L=_e(L),z--;for(;0<J-z;)M=_e(M),J--;for(;z--;){if(L===M||M!==null&&L===M.alternate){_e=L;break t}L=_e(L),M=_e(M)}_e=null}else _e=null;Q!==null&&R_(Z,q,Q,_e,!1),fe!==null&&Ze!==null&&R_(Z,Ze,fe,_e,!0)}}e:{if(q=B?dn(B):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var ze=Hp;else if(Bp(q))if(Fp)ze=KS;else{ze=QS;var de=GS}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&ha(B.elementType)&&(ze=Hp):ze=YS;if(ze&&(ze=ze(t,B))){qp(Z,ze,a,X);break e}de&&de(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Lo(q,"number",q.value)}switch(de=B?dn(B):window,t){case"focusin":(Bp(de)||de.contentEditable==="true")&&(va=de,sf=B,Ko=null);break;case"focusout":Ko=sf=va=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Zp(Z,a,X);break;case"selectionchange":if($S)break;case"keydown":case"keyup":Zp(Z,a,X)}var Ie;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else _a?Is(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(yi&&a.locale!=="ko"&&(_a||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&_a&&(Ie=Bo()):(di=X,zo="value"in di?di.value:di.textContent,_a=!0)),de=wc(B,Oe),0<de.length&&(Oe=new gi(Oe,t,null,a,X),Z.push({event:Oe,listeners:de}),Ie?Oe.data=Ie:(Ie=ya(a),Ie!==null&&(Oe.data=Ie)))),(Ie=Cn?BS(t,a):qS(t,a))&&(Oe=wc(B,"onBeforeInput"),0<Oe.length&&(de=new gi("onBeforeInput","beforeinput",null,a,X),Z.push({event:de,listeners:Oe}),de.data=Ie)),MA(Z,t,B,a,X)}b_(Z,i)})}function vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function wc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Hn(t,a),h!=null&&l.unshift(vl(t,h,d)),h=Hn(t,i),h!=null&&l.push(vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function PA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function R_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,B=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||B===null||(N=B,h?(B=Hn(a,d),B!=null&&_.unshift(vl(a,B,N))):h||(B=Hn(a,d),B!=null&&_.push(vl(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var UA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function C_(t){return(typeof t=="string"?t:""+t).replace(UA,`
`).replace(kA,"")}function I_(t,i){return i=C_(i),C_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(t,""+l);break;case"className":mn(t,"class",l);break;case"tabIndex":mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,l);break;case"style":Uo(t,l,d);break;case"data":if(i!=="object"){mn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ua(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ua(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,ua(t,a,l))}}function Dd(t,i,a,l,h,d){switch(a){case"style":Uo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ua(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var S=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Je(t,i,l,X,a,null)}}Su(t,d,S,N,B,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?mr(t,!!l,i,!1):a!=null&&mr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(t,i,_,S,a,null)}pr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,N,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Ne(_l[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(ha(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Dd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,i,S,l,a,null))}function zA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,B=null,X=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(Q)||Je(t,i,Q,null,l,Z)}}for(var q in l){var Q=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(Q!=null||Z!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==Z&&Je(t,i,q,Q,l,Z)}}ca(t,_,S,N,B,X,d,h);return;case"select":Q=_=S=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,h,d,l,N)}i=S,a=_,l=Q,q!=null?mr(t,!!a,q,!1):!!l!=!!a&&(i!=null?mr(t,!!a,i,!0):mr(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Au(t,q,Q);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Je(t,i,fe,null,l,q)}for(N in l)if(q=l[N],Q=a[N],l.hasOwnProperty(N)&&q!==Q&&(q!=null||Q!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,N,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!l.hasOwnProperty(_e)&&Je(t,i,_e,null,l,q);for(B in l)if(q=l[B],Q=a[B],l.hasOwnProperty(B)&&q!==Q&&(q!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,B,q,l,Q)}return;default:if(ha(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&Dd(t,i,Ze,void 0,l,q);for(X in l)q=l[X],Q=a[X],!l.hasOwnProperty(X)||q===Q||q===void 0&&Q===void 0||Dd(t,i,X,q,l,Q);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Je(t,i,L,null,l,q);for(Z in l)q=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||q===Q||q==null&&Q==null||Je(t,i,Z,q,l,Q)}function x_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&x_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>S)break;var X=N.transferSize,Z=N.initiatorType;X&&x_(Z)&&(N=N.responseEnd,_+=X*(N<S?1:(S-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Od=null,Md=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function N_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Vd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jd=null;function qA(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(t){return M_.resolve(null).then(t).catch(GA)}:O_;function GA(t){setTimeout(function(){throw t})}function Ur(t){return t==="head"}function V_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")El(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,El(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[ai]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&El(t.ownerDocument.body);a=h}while(a);Qa(i)}function j_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ld(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function QA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ai])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function YA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function L_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Vn(t.nextSibling),t===null))return null;return t}function Pd(t){return t.data==="$?"||t.data==="$~"}function Ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function KA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var kd=null;function P_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Vn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function U_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function k_(t,i,a){switch(i=Rc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function El(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);la(t)}var jn=new Map,z_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=ae.d;ae.d={f:XA,r:$A,D:JA,C:ZA,L:WA,m:eb,X:nb,S:tb,M:ib};function XA(){var t=Wi.f(),i=_c();return t||i}function $A(t){var i=bn(t);i!==null&&i.tag===5&&i.type==="form"?iy(i):Wi.r(t)}var Ha=typeof document>"u"?null:document;function B_(t,i,a){var l=Ha;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),z_.has(h)||(z_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function JA(t){Wi.D(t),B_("dns-prefetch",t,null)}function ZA(t,i){Wi.C(t,i),B_("preconnect",t,i)}function WA(t,i,a){Wi.L(t,i,a);var l=Ha;if(l&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=Fa(t);break;case"script":d=Ga(t)}jn.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Tl(d))||i==="script"&&l.querySelector(Sl(d))||(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function eb(t,i){Wi.m(t,i);var a=Ha;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(t)}if(!jn.has(d)&&(t=A({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(d)))return}l=a.createElement("link"),Gt(l,"link",t),St(l),a.head.appendChild(l)}}}function tb(t,i,a){Wi.S(t,i,a);var l=Ha;if(l&&t){var h=li(l).hoistableStyles,d=Fa(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Tl(d)))S.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&zd(t,a);var N=_=l.createElement("link");St(N),Gt(N,"link",t),N._p=new Promise(function(B,X){N.onload=B,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ic(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function nb(t,i){Wi.X(t,i);var a=Ha;if(a&&t){var l=li(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(t=A({src:t,async:!0},i),(i=jn.get(h))&&Bd(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ib(t,i){Wi.M(t,i);var a=Ha;if(a&&t){var l=li(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&Bd(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function q_(t,i,a,l){var h=(h=Ce.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=li(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Fa(a.href);var d=li(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Tl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||rb(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=li(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Fa(t){return'href="'+rn(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function H_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function rb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),St(i),t.head.appendChild(i))}function Ga(t){return'[src="'+rn(t)+'"]'}function Sl(t){return"script[async]"+t}function F_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Gt(l,"style",h),Ic(l,a.precedence,t),i.instance=l;case"stylesheet":h=Fa(a.href);var d=t.querySelector(Tl(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=H_(a),(h=jn.get(h))&&zd(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),i.state.loading|=4,Ic(d,a.precedence,t),i.instance=d;case"script":return d=Ga(a.src),(h=t.querySelector(Sl(d)))?(i.instance=h,St(h),h):(l=a,(h=jn.get(d))&&(l=A({},a),Bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ic(l,a.precedence,t));return i.instance}function Ic(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var xc=null;function G_(t,i,a){if(xc===null){var l=new Map,h=xc=new Map;h.set(a,l)}else h=xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ai]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Q_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function sb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ab(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(l.href),d=i.querySelector(Tl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Nc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=H_(l),(h=jn.get(h))&&zd(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var qd=0;function ob(t,i){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&qd===0&&(qd=62500*BA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>qd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Oc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,i.forEach(lb,t),Dc=null,Nc.call(t))}function lb(t,i){if(!(i.state.loading&4)){var a=Dc.get(t);if(a)var l=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Al={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function ub(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function K_(t,i,a,l,h,d,_,S,N,B,X,Z){return t=new ub(t,i,a,_,N,B,X,Z,S),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),t.current=d,d.stateNode=t,i=Tf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},wf(d),t}function X_(t){return t?(t=Sa,t):Sa}function $_(t,i,a,l,h,d){h=X_(h),l.context===null?l.context=h:l.pendingContext=h,l=Cr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ir(t,l,i),a!==null&&(cn(a,t,i),tl(a,t,i))}function J_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Hd(t,i){J_(t,i),(t=t.alternate)&&J_(t,i)}function Z_(t){if(t.tag===13||t.tag===31){var i=Ds(t,67108864);i!==null&&cn(i,t,67108864),Hd(t,67108864)}}function W_(t){if(t.tag===13||t.tag===31){var i=Tn();i=vs(i);var a=Ds(t,i);a!==null&&cn(a,t,i),Hd(t,i)}}var Mc=!0;function cb(t,i,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=2,Fd(t,i,a,l)}finally{ae.p=d,$.T=h}}function hb(t,i,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=8,Fd(t,i,a,l)}finally{ae.p=d,$.T=h}}function Fd(t,i,a,l){if(Mc){var h=Gd(l);if(h===null)Nd(t,i,l,Vc,a),tv(t,l);else if(db(h,t,i,a,l))l.stopPropagation();else if(tv(t,l),i&4&&-1<fb.indexOf(t)){for(;h!==null;){var d=bn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ni(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-dt(_);S.entanglements[1]|=N,_&=~N}Ti(d),(He&6)===0&&(gc=en()+500,yl(0))}}break;case 31:case 13:S=Ds(d,2),S!==null&&cn(S,d,2),_c(),Hd(d,2)}if(d=Gd(l),d===null&&Nd(t,i,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Nd(t,i,l,null,a)}}function Gd(t){return t=wn(t),Qd(t)}var Vc=null;function Qd(t){if(Vc=null,t=oi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vc=t,null}function ev(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ps()){case Ro:return 2;case Co:return 8;case fr:case Jh:return 32;case fu:return 268435456;default:return 32}default:return 32}}var Yd=!1,kr=null,zr=null,Br=null,bl=new Map,wl=new Map,qr=[],fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tv(t,i){switch(t){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(i.pointerId)}}function Rl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=bn(i),i!==null&&Z_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function db(t,i,a,l,h){switch(i){case"focusin":return kr=Rl(kr,t,i,a,l,h),!0;case"dragenter":return zr=Rl(zr,t,i,a,l,h),!0;case"mouseover":return Br=Rl(Br,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return bl.set(d,Rl(bl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Rl(wl.get(d)||null,t,i,a,l,h)),!0}return!1}function nv(t){var i=oi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,zn(t.priority,function(){W_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,zn(t.priority,function(){W_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Gd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ko=l,a.target.dispatchEvent(l),ko=null}else return i=bn(a),i!==null&&Z_(i),t.blockedOn=a,!1;i.shift()}return!0}function iv(t,i,a){jc(t)&&a.delete(i)}function mb(){Yd=!1,kr!==null&&jc(kr)&&(kr=null),zr!==null&&jc(zr)&&(zr=null),Br!==null&&jc(Br)&&(Br=null),bl.forEach(iv),wl.forEach(iv)}function Lc(t,i){t.blockedOn===i&&(t.blockedOn=null,Yd||(Yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mb)))}var Pc=null;function rv(t){Pc!==t&&(Pc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Qd(l||a)===null)continue;break}var d=bn(a);d!==null&&(t.splice(i,3),i-=3,Gf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Qa(t){function i(N){return Lc(N,t)}kr!==null&&Lc(kr,t),zr!==null&&Lc(zr,t),Br!==null&&Lc(Br,t),bl.forEach(i),wl.forEach(i);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)nv(a),a.blockedOn===null&&qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||rv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)S=_.formAction;else if(Qd(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),rv(a)}}}function sv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Kd(t){this._internalRoot=t}Uc.prototype.render=Kd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();$_(a,l,t,i,null,null)},Uc.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;$_(t.current,2,null,t,null,null),_c(),i[si]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var i=_u();t={blockedOn:null,target:t,priority:i};for(var a=0;a<qr.length&&i!==0&&i<qr[a].priority;a++);qr.splice(a,0,t),a===0&&nv(t)}};var av=e.version;if(av!=="19.2.0")throw Error(s(527,av,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var pb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Un=kc.inject(pb),zt=kc}catch{}}return Il.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=dy,d=my,_=py;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=K_(t,1,!1,null,null,a,l,null,h,d,_,sv),t[si]=i.current,xd(t),new Kd(i)},Il.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=dy,_=my,S=py,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=K_(t,1,!0,i,a??null,l,h,N,d,_,S,sv),i.context=X_(null),a=i.current,l=Tn(),l=vs(l),h=Cr(l),h.callback=null,Ir(a,h,l),a=l,i.current.lanes=a,ys(i,a),Ti(i),t[si]=i.current,xd(t),new Uc(i)},Il.version="19.2.0",Il}var gv;function Rb(){if(gv)return Jd.exports;gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jd.exports=wb(),Jd.exports}var Cb=Rb();const Ib=$E(Cb);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yv="popstate";function xb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return pm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:zl(o)}return Db(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Di(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Nb(){return Math.random().toString(36).substring(2,10)}function _v(r,e){return{usr:r.state,key:r.key,idx:e}}function pm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fo(e):e,state:n,key:e&&e.key||s||Nb()}}function zl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Db(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function A(){m="POP";let H=T(),K=H==null?null:H-y;y=H,p&&p({action:m,location:Y.location,delta:K})}function C(H,K){m="PUSH";let te=pm(Y.location,H,K);y=T()+1;let ie=_v(te,y),se=Y.createHref(te);try{f.pushState(ie,"",se)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(se)}u&&p&&p({action:m,location:Y.location,delta:1})}function j(H,K){m="REPLACE";let te=pm(Y.location,H,K);y=T();let ie=_v(te,y),se=Y.createHref(te);f.replaceState(ie,"",se),u&&p&&p({action:m,location:Y.location,delta:0})}function G(H){return Ob(H)}let Y={get action(){return m},get location(){return r(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(yv,A),p=H,()=>{o.removeEventListener(yv,A),p=null}},createHref(H){return e(o,H)},createURL:G,encodeLocation(H){let K=G(H);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:C,replace:j,go(H){return f.go(H)}};return Y}function Ob(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:zl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function JE(r,e,n="/"){return Mb(r,e,n,!1)}function Mb(r,e,n,s){let o=typeof e=="string"?fo(e):e,u=rr(o.pathname||"/",n);if(u==null)return null;let f=ZE(r);Vb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Gb(u);m=Hb(f[p],y,s)}return m}function ZE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let T={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&p)return;ut(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let A=nr([s,T.relativePath]),C=n.concat(T);f.children&&f.children.length>0&&(ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),ZE(f.children,e,C,A,p)),!(f.path==null&&!f.index)&&e.push({path:A,score:Bb(A,f.index),routesMeta:C})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of WE(f.path))u(f,m,!0,p)}),e}function WE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=WE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Vb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:qb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var jb=/^:[\w-]+$/,Lb=3,Pb=2,Ub=1,kb=10,zb=-2,vv=r=>r==="*";function Bb(r,e){let n=r.split("/"),s=n.length;return n.some(vv)&&(s+=zb),e&&(s+=Pb),n.filter(o=>!vv(o)).reduce((o,u)=>o+(jb.test(u)?Lb:u===""?Ub:kb),s)}function qb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Hb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",A=sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),C=p.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:nr([u,A.pathname]),pathnameBase:Xb(nr([u,A.pathnameBase])),route:C}),A.pathnameBase!=="/"&&(u=nr([u,A.pathnameBase]))}return f}function sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Fb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:A},C)=>{if(T==="*"){let G=m[C]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const j=m[C];return A&&!j?y[T]=void 0:y[T]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Fb(r,e=!1,n=!0){Di(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Gb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Di(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function rr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Qb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?fo(r):r;return{pathname:n?n.startsWith("/")?n:Yb(n,e):e,search:$b(s),hash:Jb(o)}}function Yb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function tm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eT(r){let e=Kb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function tT(r,e,n,s=!1){let o;typeof r=="string"?o=fo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),tm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),tm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),tm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),A-=1;o.pathname=C.join("/")}m=A>=0?e[A]:"/"}let p=Qb(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var nr=r=>r.join("/").replace(/\/\/+/g,"/"),Xb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$b=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Jb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Zb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nT=["POST","PUT","PATCH","DELETE"];new Set(nT);var Wb=["GET",...nT];new Set(Wb);var mo=U.createContext(null);mo.displayName="DataRouter";var wh=U.createContext(null);wh.displayName="DataRouterState";U.createContext(!1);var iT=U.createContext({isTransitioning:!1});iT.displayName="ViewTransition";var e1=U.createContext(new Map);e1.displayName="Fetchers";var t1=U.createContext(null);t1.displayName="Await";var Mi=U.createContext(null);Mi.displayName="Navigation";var Jl=U.createContext(null);Jl.displayName="Location";var Vi=U.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var Hm=U.createContext(null);Hm.displayName="RouteError";function n1(r,{relative:e}={}){ut(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Mi),{hash:o,pathname:u,search:f}=Wl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:nr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Zl(){return U.useContext(Jl)!=null}function hs(){return ut(Zl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Jl).location}var rT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sT(r){U.useContext(Mi).static||U.useLayoutEffect(r)}function aT(){let{isDataRoute:r}=U.useContext(Vi);return r?g1():i1()}function i1(){ut(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(mo),{basename:e,navigator:n}=U.useContext(Mi),{matches:s}=U.useContext(Vi),{pathname:o}=hs(),u=JSON.stringify(eT(s)),f=U.useRef(!1);return sT(()=>{f.current=!0}),U.useCallback((p,y={})=>{if(Di(f.current,rT),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=tT(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:nr([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,u,o,r])}U.createContext(null);function r1(){let{matches:r}=U.useContext(Vi),e=r[r.length-1];return e?e.params:{}}function Wl(r,{relative:e}={}){let{matches:n}=U.useContext(Vi),{pathname:s}=hs(),o=JSON.stringify(eT(n));return U.useMemo(()=>tT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function s1(r,e){return oT(r,e)}function oT(r,e,n,s,o){ut(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(Mi),{matches:f}=U.useContext(Vi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",A=m&&m.route;{let te=A&&A.path||"";lT(y,!A||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let C=hs(),j;if(e){let te=typeof e=="string"?fo(e):e;ut(T==="/"||te.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${te.pathname}" was given in the \`location\` prop.`),j=te}else j=C;let G=j.pathname||"/",Y=G;if(T!=="/"){let te=T.replace(/^\//,"").split("/");Y="/"+G.replace(/^\//,"").split("/").slice(te.length).join("/")}let H=JE(r,{pathname:Y});Di(A||H!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Di(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=c1(H&&H.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:nr([T,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?T:nr([T,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),f,n,s,o);return e&&K?U.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},K):K}function a1(){let r=p1(),e=Zb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var o1=U.createElement(a1,null),l1=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(Vi.Provider,{value:this.props.routeContext},U.createElement(Hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function u1({routeContext:r,match:e,children:n}){let s=U.useContext(mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Vi.Provider,{value:r},n)}function c1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ut(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n)for(let y=0;y<u.length;y++){let T=u[y];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=y),T.route.id){let{loaderData:A,errors:C}=n,j=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!C||C[T.route.id]===void 0);if(T.route.lazy||j){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,T,A)=>{let C,j=!1,G=null,Y=null;n&&(C=f&&T.route.id?f[T.route.id]:void 0,G=T.route.errorElement||o1,m&&(p<0&&A===0?(lT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,Y=null):p===A&&(j=!0,Y=T.route.hydrateFallbackElement||null)));let H=e.concat(u.slice(0,A+1)),K=()=>{let te;return C?te=G:j?te=Y:T.route.Component?te=U.createElement(T.route.Component,null):T.route.element?te=T.route.element:te=y,U.createElement(u1,{match:T,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:te})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?U.createElement(l1,{location:n.location,revalidation:n.revalidation,component:G,error:C,children:K(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):K()},null)}function Fm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(r){let e=U.useContext(mo);return ut(e,Fm(r)),e}function f1(r){let e=U.useContext(wh);return ut(e,Fm(r)),e}function d1(r){let e=U.useContext(Vi);return ut(e,Fm(r)),e}function Gm(r){let e=d1(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function m1(){return Gm("useRouteId")}function p1(){let r=U.useContext(Hm),e=f1("useRouteError"),n=Gm("useRouteError");return r!==void 0?r:e.errors?.[n]}function g1(){let{router:r}=h1("useNavigate"),e=Gm("useNavigate"),n=U.useRef(!1);return sT(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Di(n.current,rT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Ev={};function lT(r,e,n){!e&&!Ev[r]&&(Ev[r]=!0,Di(!1,n))}U.memo(y1);function y1({routes:r,future:e,state:n,unstable_onError:s}){return oT(r,void 0,n,s,e)}function Sn(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=fo(n));let{pathname:p="/",search:y="",hash:T="",state:A=null,key:C="default"}=n,j=U.useMemo(()=>{let G=rr(p,f);return G==null?null:{location:{pathname:G,search:y,hash:T,state:A,key:C},navigationType:s}},[f,p,y,T,A,C,s]);return Di(j!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:U.createElement(Mi.Provider,{value:m},U.createElement(Jl.Provider,{children:e,value:j}))}function v1({children:r,location:e}){return s1(gm(r),e)}function gm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,gm(s.props.children,u));return}ut(s.type===Sn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=gm(s.props.children,u)),n.push(f)}),n}var Yc="get",Kc="application/x-www-form-urlencoded";function Rh(r){return r!=null&&typeof r.tagName=="string"}function E1(r){return Rh(r)&&r.tagName.toLowerCase()==="button"}function T1(r){return Rh(r)&&r.tagName.toLowerCase()==="form"}function S1(r){return Rh(r)&&r.tagName.toLowerCase()==="input"}function A1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function b1(r,e){return r.button===0&&(!e||e==="_self")&&!A1(r)}var zc=null;function w1(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var R1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(r){return r!=null&&!R1.has(r)?(Di(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):r}function C1(r,e){let n,s,o,u,f;if(T1(r)){let m=r.getAttribute("action");s=m?rr(m,e):null,n=r.getAttribute("method")||Yc,o=nm(r.getAttribute("enctype"))||Kc,u=new FormData(r)}else if(E1(r)||S1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?rr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Yc,o=nm(r.getAttribute("formenctype"))||nm(m.getAttribute("enctype"))||Kc,u=new FormData(m,r),!w1()){let{name:y,type:T,value:A}=r;if(T==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,A)}}else{if(Rh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yc,s=null,o=Kc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function I1(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&rr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function x1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function D1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await x1(u,n);return f.links?f.links():[]}return[]}));return j1(s.flat(1).filter(N1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Tv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function O1(r,e,{includeHydrateFallback:n}={}){return M1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function M1(r){return[...new Set(r)]}function V1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function j1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(V1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function uT(){let r=U.useContext(mo);return Qm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function L1(){let r=U.useContext(wh);return Qm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ym=U.createContext(void 0);Ym.displayName="FrameworkContext";function cT(){let r=U.useContext(Ym);return Qm(r,"You must render this element inside a <HydratedRouter> element"),r}function P1(r,e){let n=U.useContext(Ym),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:A}=e,C=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=K=>{K.forEach(te=>{f(te.isIntersecting)})},H=new IntersectionObserver(Y,{threshold:.5});return C.current&&H.observe(C.current),()=>{H.disconnect()}}},[r]),U.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let j=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:xl(m,j),onBlur:xl(p,G),onMouseEnter:xl(y,j),onMouseLeave:xl(T,G),onTouchStart:xl(A,j)}]:[!1,C,{}]}function xl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function U1({page:r,...e}){let{router:n}=uT(),s=U.useMemo(()=>JE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(z1,{page:r,matches:s,...e}):null}function k1(r){let{manifest:e,routeModules:n}=cT(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return D1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function z1({page:r,matches:e,...n}){let s=hs(),{manifest:o,routeModules:u}=cT(),{basename:f}=uT(),{loaderData:m,matches:p}=L1(),y=U.useMemo(()=>Tv(r,e,p,o,s,"data"),[r,e,p,o,s]),T=U.useMemo(()=>Tv(r,e,p,o,s,"assets"),[r,e,p,o,s]),A=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,Y=!1;if(e.forEach(K=>{let te=o.routes[K.route.id];!te||!te.hasLoader||(!y.some(ie=>ie.route.id===K.route.id)&&K.route.id in m&&u[K.route.id]?.shouldRevalidate||te.hasClientLoader?Y=!0:G.add(K.route.id))}),G.size===0)return[];let H=I1(r,f,"data");return Y&&G.size>0&&H.searchParams.set("_routes",e.filter(K=>G.has(K.route.id)).map(K=>K.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,y,e,r,u]),C=U.useMemo(()=>O1(T,o),[T,o]),j=k1(T);return U.createElement(U.Fragment,null,A.map(G=>U.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),C.map(G=>U.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),j.map(({key:G,link:Y})=>U.createElement("link",{key:G,nonce:n.nonce,...Y})))}function B1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hT&&(window.__reactRouterVersion="7.9.5")}catch{}function q1({basename:r,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=xb({window:n,v5Compat:!0}));let o=s.current,[u,f]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(_1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:T,viewTransition:A,...C},j){let{basename:G}=U.useContext(Mi),Y=typeof y=="string"&&fT.test(y),H,K=!1;if(typeof y=="string"&&Y&&(H=y,hT))try{let R=new URL(window.location.href),O=y.startsWith("//")?new URL(R.protocol+y):new URL(y),D=rr(O.pathname,G);O.origin===R.origin&&D!=null?y=D+O.search+O.hash:K=!0}catch{Di(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=n1(y,{relative:o}),[ie,se,me]=P1(s,C),ue=Q1(y,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:A});function I(R){e&&e(R),R.defaultPrevented||ue(R)}let w=U.createElement("a",{...C,...me,href:H||te,onClick:K||u?e:I,ref:B1(j,se),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return ie&&!Y?U.createElement(U.Fragment,null,w,U.createElement(U1,{page:te})):w});et.displayName="Link";var H1=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},T){let A=Wl(f,{relative:y.relative}),C=hs(),j=U.useContext(wh),{navigator:G,basename:Y}=U.useContext(Mi),H=j!=null&&J1(A)&&m===!0,K=G.encodeLocation?G.encodeLocation(A).pathname:A.pathname,te=C.pathname,ie=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(te=te.toLowerCase(),ie=ie?ie.toLowerCase():null,K=K.toLowerCase()),ie&&Y&&(ie=rr(ie,Y)||ie);const se=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let me=te===K||!o&&te.startsWith(K)&&te.charAt(se)==="/",ue=ie!=null&&(ie===K||!o&&ie.startsWith(K)&&ie.charAt(K.length)==="/"),I={isActive:me,isPending:ue,isTransitioning:H},w=me?e:void 0,R;typeof s=="function"?R=s(I):R=[s,me?"active":null,ue?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(I):u;return U.createElement(et,{...y,"aria-current":w,className:R,ref:T,style:O,to:f,viewTransition:m},typeof p=="function"?p(I):p)});H1.displayName="NavLink";var F1=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Yc,action:m,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:A,...C},j)=>{let G=X1(),Y=$1(m,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&fT.test(m),te=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let se=ie.nativeEvent.submitter,me=se?.getAttribute("formmethod")||f;G(se||ie.currentTarget,{fetcherKey:e,method:me,navigate:n,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:A})};return U.createElement("form",{ref:j,method:H,action:Y,onSubmit:s?p:te,...C,"data-discover":!K&&r==="render"?"true":void 0})});F1.displayName="Form";function G1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(r){let e=U.useContext(mo);return ut(e,G1(r)),e}function Q1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=aT(),p=hs(),y=Wl(r,{relative:u});return U.useCallback(T=>{if(b1(T,e)){T.preventDefault();let A=n!==void 0?n:zl(p)===zl(y);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var Y1=0,K1=()=>`__${String(++Y1)}__`;function X1(){let{router:r}=dT("useSubmit"),{basename:e}=U.useContext(Mi),n=m1();return U.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=C1(s,e);if(o.navigate===!1){let T=o.fetcherKey||K1();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function $1(r,{relative:e}={}){let{basename:n}=U.useContext(Mi),s=U.useContext(Vi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Wl(r||".",{relative:e})},f=hs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:nr([n,u.pathname])),zl(u)}function J1(r,{relative:e}={}){let n=U.useContext(iT);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=dT("useViewTransitionState"),o=Wl(r,{relative:e});if(!n.isTransitioning)return!1;let u=rr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=rr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return sh(o.pathname,f)!=null||sh(o.pathname,u)!=null}const Z1=()=>{};var Sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},W1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=u>>2,A=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,j=y&63;p||(j=64,f||(C=64)),s.push(n[T],n[A],n[C],n[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(mT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):W1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new ew;const C=u<<2|m>>4;if(s.push(C),y!==64){const j=m<<4&240|y>>2;if(s.push(j),A!==64){const G=y<<6&192|A;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ew extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tw=function(r){const e=mT(r);return pT.encodeByteArray(e,!0)},ah=function(r){return tw(r).replace(/\./g,"")},gT=function(r){try{return pT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=()=>nw().__FIREBASE_DEFAULTS__,rw=()=>{if(typeof process>"u"||typeof Sv>"u")return;const r=Sv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&gT(r[1]);return e&&JSON.parse(e)},Ch=()=>{try{return Z1()||iw()||rw()||sw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},yT=r=>Ch()?.emulatorHosts?.[r],aw=r=>{const e=yT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_T=()=>Ch()?.config,vT=r=>Ch()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ET(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ah(JSON.stringify(n)),ah(JSON.stringify(f)),""].join(".")}const Vl={};function uw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?r.emulator.push(e):r.prod.push(e);return r}function cw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Av=!1;function TT(r,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Vl[r]===e||Vl[r]||Av)return;Vl[r]=e;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=uw().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,j){C.setAttribute("width","24"),C.setAttribute("id",j),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Av=!0,f()},C}function T(C,j){C.setAttribute("id",j),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=cw(s),j=n("text"),G=document.getElementById(j)||document.createElement("span"),Y=n("learnmore"),H=document.getElementById(Y)||document.createElement("a"),K=n("preprendIcon"),te=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ie=C.element;m(ie),T(H,Y);const se=y();p(te,K),ie.append(te,G,H,se),document.body.appendChild(ie)}u?(G.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function fw(){const r=Ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function pw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gw(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yw(){return!fw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _w(){try{return typeof indexedDB=="object"}catch{return!1}}function vw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="FirebaseError";class cr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Ew,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Tw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new cr(o,m,s)}}function Tw(r,e){return r.replace(Sw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Sw=/\{\$([^}]+)}/g;function Aw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ys(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(bv(u)&&bv(f)){if(!Ys(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function bv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bw(r,e){const n=new ww(r,e);return n.subscribe.bind(n)}class ww{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Rw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=im),o.error===void 0&&(o.error=im),o.complete===void 0&&(o.complete=im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ow;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xw(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Iw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Iw(r){return r===Fs?void 0:r}function xw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Cw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const Dw={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Ow=Me.INFO,Mw={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Vw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Mw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Km{constructor(e){this.name=e,this._logLevel=Ow,this._logHandler=Vw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const jw=(r,e)=>e.some(n=>r instanceof n);let wv,Rv;function Lw(){return wv||(wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pw(){return Rv||(Rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ST=new WeakMap,ym=new WeakMap,AT=new WeakMap,rm=new WeakMap,Xm=new WeakMap;function Uw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n($r(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&ST.set(n,r)}).catch(()=>{}),Xm.set(e,r),e}function kw(r){if(ym.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ym.set(r,e)}let _m={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ym.get(r);if(e==="objectStoreNames")return r.objectStoreNames||AT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zw(r){_m=r(_m)}function Bw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(sm(this),e,...n);return AT.set(s,e.sort?e.sort():[e]),$r(s)}:Pw().includes(r)?function(...e){return r.apply(sm(this),e),$r(ST.get(this))}:function(...e){return $r(r.apply(sm(this),e))}}function qw(r){return typeof r=="function"?Bw(r):(r instanceof IDBTransaction&&kw(r),jw(r,Lw())?new Proxy(r,_m):r)}function $r(r){if(r instanceof IDBRequest)return Uw(r);if(rm.has(r))return rm.get(r);const e=qw(r);return e!==r&&(rm.set(r,e),Xm.set(e,r)),e}const sm=r=>Xm.get(r);function Hw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=$r(f);return s&&f.addEventListener("upgradeneeded",p=>{s($r(f.result),p.oldVersion,p.newVersion,$r(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Fw=["get","getKey","getAll","getAllKeys","count"],Gw=["put","add","delete","clear"],am=new Map;function Cv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Gw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Fw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return am.set(e,u),u}zw(r=>({...r,get:(e,n,s)=>Cv(e,n)||r.get(e,n,s),has:(e,n)=>!!Cv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Yw(r){return r.getComponent()?.type==="VERSION"}const vm="@firebase/app",Iv="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new Km("@firebase/app"),Kw="@firebase/app-compat",Xw="@firebase/analytics-compat",$w="@firebase/analytics",Jw="@firebase/app-check-compat",Zw="@firebase/app-check",Ww="@firebase/auth",eR="@firebase/auth-compat",tR="@firebase/database",nR="@firebase/data-connect",iR="@firebase/database-compat",rR="@firebase/functions",sR="@firebase/functions-compat",aR="@firebase/installations",oR="@firebase/installations-compat",lR="@firebase/messaging",uR="@firebase/messaging-compat",cR="@firebase/performance",hR="@firebase/performance-compat",fR="@firebase/remote-config",dR="@firebase/remote-config-compat",mR="@firebase/storage",pR="@firebase/storage-compat",gR="@firebase/firestore",yR="@firebase/ai",_R="@firebase/firestore-compat",vR="firebase",ER="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",TR={[vm]:"fire-core",[Kw]:"fire-core-compat",[$w]:"fire-analytics",[Xw]:"fire-analytics-compat",[Zw]:"fire-app-check",[Jw]:"fire-app-check-compat",[Ww]:"fire-auth",[eR]:"fire-auth-compat",[tR]:"fire-rtdb",[nR]:"fire-data-connect",[iR]:"fire-rtdb-compat",[rR]:"fire-fn",[sR]:"fire-fn-compat",[aR]:"fire-iid",[oR]:"fire-iid-compat",[lR]:"fire-fcm",[uR]:"fire-fcm-compat",[cR]:"fire-perf",[hR]:"fire-perf-compat",[fR]:"fire-rc",[dR]:"fire-rc-compat",[mR]:"fire-gcs",[pR]:"fire-gcs-compat",[gR]:"fire-fst",[_R]:"fire-fst-compat",[yR]:"fire-vertex","fire-js":"fire-js",[vR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,SR=new Map,Tm=new Map;function xv(r,e){try{r.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function io(r){const e=r.name;if(Tm.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,r);for(const n of oh.values())xv(n,r);for(const n of SR.values())xv(n,r);return!0}function $m(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function $n(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new eu("app","Firebase",AR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=ER;function bT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Em,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Jr.create("bad-app-name",{appName:String(o)});if(n||(n=_T()),!n)throw Jr.create("no-options");const u=oh.get(o);if(u){if(Ys(n,u.options)&&Ys(s,u.config))return u;throw Jr.create("duplicate-app",{appName:o})}const f=new Nw(o);for(const p of Tm.values())f.addComponent(p);const m=new bR(n,s,f);return oh.set(o,m),m}function wT(r=Em){const e=oh.get(r);if(!e&&r===Em&&_T())return bT();if(!e)throw Jr.create("no-app",{appName:r});return e}function Zr(r,e,n){let s=TR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(f.join(" "));return}io(new Ks(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firebase-heartbeat-database",RR=1,Bl="firebase-heartbeat-store";let om=null;function RT(){return om||(om=Hw(wR,RR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),om}async function CR(r){try{const n=(await RT()).transaction(Bl),s=await n.objectStore(Bl).get(CT(r));return await n.done,s}catch(e){if(e instanceof cr)sr.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e?.message});sr.warn(n.message)}}}async function Nv(r,e){try{const s=(await RT()).transaction(Bl,"readwrite");await s.objectStore(Bl).put(e,CT(r)),await s.done}catch(n){if(n instanceof cr)sr.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n?.message});sr.warn(s.message)}}}function CT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=1024,xR=30;class NR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>xR){const o=MR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dv(),{heartbeatsToSend:n,unsentEntries:s}=DR(this._heartbeatsCache.heartbeats),o=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return sr.warn(e),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function DR(r,e=IR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ov(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ov(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _w()?vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ov(r){return ah(JSON.stringify({version:2,heartbeats:r})).length}function MR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(r){io(new Ks("platform-logger",e=>new Qw(e),"PRIVATE")),io(new Ks("heartbeat",e=>new NR(e),"PRIVATE")),Zr(vm,Iv,r),Zr(vm,Iv,"esm2020"),Zr("fire-js","")}VR("");function IT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jR=IT,xT=new eu("auth","Firebase",IT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Km("@firebase/auth");function LR(r,...e){lh.logLevel<=Me.WARN&&lh.warn(`Auth (${go}): ${r}`,...e)}function Xc(r,...e){lh.logLevel<=Me.ERROR&&lh.error(`Auth (${go}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(r,...e){throw Jm(r,...e)}function Ai(r,...e){return Jm(r,...e)}function NT(r,e,n){const s={...jR(),[e]:n};return new eu("auth","Firebase",s).create(e,{appName:r.name})}function Wr(r){return NT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return xT.create(r,...e)}function Ee(r,e,...n){if(!r)throw Jm(e,...n)}function er(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xc(e),new Error(e)}function or(r,e){r||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){return typeof self<"u"&&self.location?.href||""}function PR(){return Mv()==="http:"||Mv()==="https:"}function Mv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PR()||mw()||"connection"in navigator)?navigator.onLine:!0}function kR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=hw()||pw()}get(){return UR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(r,e){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qR=new nu(3e4,6e4);function Ih(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function yo(r,e,n,s,o={}){return OT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=tu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return dw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&po(r.emulatorConfig.host)&&(y.credentials="include"),DT.fetch()(await VT(r,r.config.apiHost,n,m),y)})}async function OT(r,e,n){r._canInitEmulator=!1;const s={...zR,...e};try{const o=new HR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw NT(r,T,y);ar(r,T)}}catch(o){if(o instanceof cr)throw o;ar(r,"network-request-failed",{message:String(o)})}}async function MT(r,e,n,s,o={}){const u=await yo(r,e,n,s,o);return"mfaPendingCredential"in u&&ar(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function VT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Zm(r.config,o):`${r.config.apiScheme}://${o}`;return BR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class HR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),qR.get())})}}function Bc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ai(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(r,e){return yo(r,"POST","/v1/accounts:delete",e)}async function uh(r,e){return yo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GR(r,e=!1){const n=fn(r),s=await n.getIdToken(e),o=Wm(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:jl(lm(o.auth_time)),issuedAtTime:jl(lm(o.iat)),expirationTime:jl(lm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function lm(r){return Number(r)*1e3}function Wm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=gT(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Vv(r){const e=Wm(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof cr&&QR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function QR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(r){const e=r.auth,n=await r.getIdToken(),s=await ql(r,uh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?jT(o.providerUserInfo):[],f=XR(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function KR(r){const e=fn(r);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function jT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(r,e){const n=await OT(r,{},async()=>{const s=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await VT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&po(r.emulatorConfig.host)&&(p.credentials="include"),DT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JR(r,e){return yo(r,"POST","/v2/accounts:revokeToken",Ih(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Vv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await $R(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new YR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GR(this,e)}reload(){return KR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await ql(this,FR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:C,isAnonymous:j,providerData:G,stsTokenManager:Y}=n;Ee(A&&Y,e,"internal-error");const H=Za.fromJSON(this.name,Y);Ee(typeof A=="string",e,"internal-error"),Fr(s,e.name),Fr(o,e.name),Ee(typeof C=="boolean",e,"internal-error"),Ee(typeof j=="boolean",e,"internal-error"),Fr(u,e.name),Fr(f,e.name),Fr(m,e.name),Fr(p,e.name),Fr(y,e.name),Fr(T,e.name);const K=new Jn({uid:A,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:T});return G&&Array.isArray(G)&&(K.providerData=G.map(te=>({...te}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?jT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Za;m.updateFromIdToken(s);const p=new Jn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new Map;function tr(r){or(r instanceof Function,"Expected a class definition");let e=jv.get(r);return e?(or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,jv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LT.type="NONE";const Lv=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(r,e,n){return`firebase:${r}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,u),this.fullPersistenceKey=$c("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa(tr(Lv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||tr(Lv);const f=$c(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){let A;if(typeof T=="string"){const C=await uh(e,{idToken:T}).catch(()=>{});if(!C)break;A=await Jn._fromGetAccountInfoResponse(e,C,T)}else A=Jn._fromJSON(e,T);y!==u&&(m=A),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Wa(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Wa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if(HT(e))return"Webos";if(UT(e))return"Safari";if((e.includes("chrome/")||kT(e))&&!e.includes("edge/"))return"Chrome";if(BT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function PT(r=Wt()){return/firefox\//i.test(r)}function UT(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kT(r=Wt()){return/crios\//i.test(r)}function zT(r=Wt()){return/iemobile/i.test(r)}function BT(r=Wt()){return/android/i.test(r)}function qT(r=Wt()){return/blackberry/i.test(r)}function HT(r=Wt()){return/webos/i.test(r)}function ep(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ZR(r=Wt()){return ep(r)&&!!window.navigator?.standalone}function WR(){return gw()&&document.documentMode===10}function FT(r=Wt()){return ep(r)||BT(r)||HT(r)||qT(r)||/windows phone/i.test(r)||zT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r,e=[]){let n;switch(r){case"Browser":n=Pv(Wt());break;case"Worker":n=`${Pv(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(r,e={}){return yo(r,"GET","/v2/passwordPolicy",Ih(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=6;class iC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new eC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Wr(this));const n=e?fn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tC(this),n=new iC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await JR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xh(r){return fn(r)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=bw(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sC(r){tp=r}function aC(r){return tp.loadJS(r)}function oC(){return tp.gapiScript}function lC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(r,e){const n=$m(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ys(u,e??{}))return o;ar(o,"already-initialized")}return n.initialize({options:e})}function cC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(tr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function hC(r,e,n){const s=xh(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=QT(e),{host:f,port:m}=fC(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Ys(y,s.config.emulator)&&Ys(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,po(f)?(ET(`${u}//${f}${p}`),TT("Auth",!0)):dC()}function QT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function fC(r){const e=QT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:kv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:kv(f)}}}function kv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function dC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r,e){return MT(r,"POST","/v1/accounts:signInWithIdp",Ih(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="http://localhost";class Xs extends YT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Xs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:mC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends KT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends iu{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends iu{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends iu{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,e){return MT(r,"POST","/v1/accounts:signUp",Ih(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Jn._fromIdTokenResponse(e,s,o),f=zv(s);return new is({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=zv(s);return new is({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function zv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(r){if($n(r.app))return Promise.reject(Wr(r));const e=xh(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new is({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await pC(e,{returnSecureToken:!0}),s=await is._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends cr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new hh(e,n,s,o)}}function XT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(r,u,e,s):u})}async function yC(r,e,n=!1){const s=await ql(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return is._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(r,e,n=!1){const{auth:s}=r;if($n(s.app))return Promise.reject(Wr(s));const o="reauthenticate";try{const u=await ql(r,XT(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=Wm(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),is._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ar(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(r,e,n=!1){if($n(r.app))return Promise.reject(Wr(r));const s="signIn",o=await XT(r,s,e),u=await is._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function EC(r,e,n,s){return fn(r).onIdTokenChanged(e,n,s)}function TC(r,e,n){return fn(r).beforeAuthStateChanged(e,n)}function SC(r,e,n,s){return fn(r).onAuthStateChanged(e,n,s)}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=1e3,bC=10;class JT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);WR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},AC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JT.type="LOCAL";const wC=JT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZT.type="SESSION";const WT=ZT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Nh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await RC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=np("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const C=A;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function IC(r){bi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function xC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NC(){return navigator?.serviceWorker?.controller||null}function DC(){return e0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="firebaseLocalStorageDb",OC=1,dh="firebaseLocalStorage",n0="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(r,e){return r.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function MC(){const r=indexedDB.deleteDatabase(t0);return new ru(r).toPromise()}function bm(){const r=indexedDB.open(t0,OC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(dh,{keyPath:n0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(dh)?e(s):(s.close(),await MC(),e(await bm()))})})}async function Bv(r,e,n){const s=Dh(r,!0).put({[n0]:e,value:n});return new ru(s).toPromise()}async function VC(r,e){const n=Dh(r,!1).get(e),s=await new ru(n).toPromise();return s===void 0?null:s.value}function qv(r,e){const n=Dh(r,!0).delete(e);return new ru(n).toPromise()}const jC=800,LC=3;class i0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>LC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(DC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xC(),!this.activeServiceWorker)return;this.sender=new CC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await Bv(e,fh,"1"),await qv(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Bv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>VC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Dh(o,!1).getAll();return new ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i0.type="LOCAL";const PC=i0;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(r,e){return e?tr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends YT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kC(r){return vC(r.auth,new ip(r),r.bypassAuthState)}function zC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),_C(n,new ip(r),r.bypassAuthState)}async function BC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),yC(n,new ip(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kC;case"linkViaPopup":case"linkViaRedirect":return BC;case"reauthViaPopup":case"reauthViaRedirect":return zC;default:ar(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new nu(2e3,1e4);class Ja extends r0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qC.get())};e()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="pendingRedirect",Jc=new Map;class FC extends r0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const s=await GC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GC(r,e){const n=KC(e),s=YC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function QC(r,e){Jc.set(r._key(),e)}function YC(r){return tr(r._redirectPersistence)}function KC(r){return $c(HC,r.config.apiKey,r.name)}async function XC(r,e,n=!1){if($n(r.app))return Promise.reject(Wr(r));const s=xh(r),o=UC(s,e),f=await new FC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=600*1e3;class JC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!s0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ai(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$C&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hv(e))}saveEventToCache(e){this.cachedEventUids.add(Hv(e)),this.lastProcessedEventTime=Date.now()}}function Hv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function s0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function ZC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(r,e={}){return yo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tI=/^https?/;async function nI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await WC(r);for(const n of e)try{if(iI(n))return}catch{}ar(r,"unauthorized-domain")}function iI(r){const e=Sm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!tI.test(n))return!1;if(eI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new nu(3e4,6e4);function Fv(){const r=bi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function sI(r){return new Promise((e,n)=>{function s(){Fv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fv(),n(Ai(r,"network-request-failed"))},timeout:rI.get()})}if(bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bi().gapi?.load)s();else{const o=lC("iframefcb");return bi()[o]=()=>{gapi.load?s():n(Ai(r,"network-request-failed"))},aC(`${oC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function aI(r){return Zc=Zc||sI(r),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new nu(5e3,15e3),lI="__/auth/iframe",uI="emulator/auth/iframe",cI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fI(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Zm(e,uI):`https://${r.config.authDomain}/${lI}`,s={apiKey:e.apiKey,appName:r.name,v:go},o=hI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${tu(s).slice(1)}`}async function dI(r){const e=await aI(r),n=bi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:fI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ai(r,"network-request-failed"),m=bi().setTimeout(()=>{u(f)},oI.get());function p(){bi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pI=500,gI=600,yI="_blank",_I="http://localhost";class Gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vI(r,e,n,s=pI,o=gI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...mI,width:s.toString(),height:o.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(m=kT(y)?yI:n),PT(y)&&(e=e||_I,p.scrollbars="yes");const T=Object.entries(p).reduce((C,[j,G])=>`${C}${j}=${G},`,"");if(ZR(y)&&m!=="_self")return EI(e||"",m),new Gv(null);const A=window.open(e||"",m,T);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new Gv(A)}function EI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="__/auth/handler",SI="emulator/auth/handler",AI=encodeURIComponent("fac");async function Qv(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:go,eventId:o};if(e instanceof KT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Aw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))f[T]=A}if(e instanceof iu){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),y=p?`#${AI}=${encodeURIComponent(p)}`:"";return`${bI(r)}?${tu(m).slice(1)}${y}`}function bI({config:r}){return r.emulator?Zm(r,SI):`https://${r.authDomain}/${TI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class wI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WT,this._completeRedirectFn=XC,this._overrideRedirectResult=QC}async _openPopup(e,n,s,o){or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Qv(e,n,s,Sm(),o);return vI(e,u,np())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Qv(e,n,s,Sm(),o);return IC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dI(e),s=new JC(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},o=>{const u=o?.[0]?.[um];u!==void 0&&n(!!u),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||UT()||ep()}}const RI=wI;var Yv="@firebase/auth",Kv="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xI(r){io(new Ks("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(r)},y=new rC(s,o,u,p);return cC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),io(new Ks("auth-internal",e=>{const n=xh(e.getProvider("auth").getImmediate());return(s=>new CI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(Yv,Kv,II(r)),Zr(Yv,Kv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=300,DI=vT("authIdTokenMaxAge")||NI;let Xv=null;const OI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>DI)return;const o=n?.token;Xv!==o&&(Xv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MI(r=wT()){const e=$m(r,"auth");if(e.isInitialized())return e.getImmediate();const n=uC(r,{popupRedirectResolver:RI,persistence:[PC,wC,WT]}),s=vT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=OI(u.toString());TC(n,f,()=>f(n.currentUser)),EC(n,m=>f(m))}}const o=yT("auth");return o&&hC(n,`http://${o}`),n}function VI(){return document.getElementsByTagName("head")?.[0]??document}sC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",VI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xI("Browser");var jI="firebase",LI="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(jI,LI,"app");var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,a0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(O,D,P){for(var x=Array(arguments.length-2),st=2;st<arguments.length;st++)x[st-2]=arguments[st];return w.prototype[D].apply(O,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,R){R||(R=0);const O=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)O[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)O[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],D=I.g[2];let P=I.g[3],x;x=w+(P^R&(D^P))+O[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=P+(D^w&(R^D))+O[1]+3905402710&4294967295,P=w+(x<<12&4294967295|x>>>20),x=D+(R^P&(w^R))+O[2]+606105819&4294967295,D=P+(x<<17&4294967295|x>>>15),x=R+(w^D&(P^w))+O[3]+3250441966&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(P^R&(D^P))+O[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=P+(D^w&(R^D))+O[5]+1200080426&4294967295,P=w+(x<<12&4294967295|x>>>20),x=D+(R^P&(w^R))+O[6]+2821735955&4294967295,D=P+(x<<17&4294967295|x>>>15),x=R+(w^D&(P^w))+O[7]+4249261313&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(P^R&(D^P))+O[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=P+(D^w&(R^D))+O[9]+2336552879&4294967295,P=w+(x<<12&4294967295|x>>>20),x=D+(R^P&(w^R))+O[10]+4294925233&4294967295,D=P+(x<<17&4294967295|x>>>15),x=R+(w^D&(P^w))+O[11]+2304563134&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(P^R&(D^P))+O[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=P+(D^w&(R^D))+O[13]+4254626195&4294967295,P=w+(x<<12&4294967295|x>>>20),x=D+(R^P&(w^R))+O[14]+2792965006&4294967295,D=P+(x<<17&4294967295|x>>>15),x=R+(w^D&(P^w))+O[15]+1236535329&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(D^P&(R^D))+O[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=P+(R^D&(w^R))+O[6]+3225465664&4294967295,P=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(P^w))+O[11]+643717713&4294967295,D=P+(x<<14&4294967295|x>>>18),x=R+(P^w&(D^P))+O[0]+3921069994&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^P&(R^D))+O[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=P+(R^D&(w^R))+O[10]+38016083&4294967295,P=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(P^w))+O[15]+3634488961&4294967295,D=P+(x<<14&4294967295|x>>>18),x=R+(P^w&(D^P))+O[4]+3889429448&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^P&(R^D))+O[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=P+(R^D&(w^R))+O[14]+3275163606&4294967295,P=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(P^w))+O[3]+4107603335&4294967295,D=P+(x<<14&4294967295|x>>>18),x=R+(P^w&(D^P))+O[8]+1163531501&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^P&(R^D))+O[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=P+(R^D&(w^R))+O[2]+4243563512&4294967295,P=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(P^w))+O[7]+1735328473&4294967295,D=P+(x<<14&4294967295|x>>>18),x=R+(P^w&(D^P))+O[12]+2368359562&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(R^D^P)+O[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=P+(w^R^D)+O[8]+2272392833&4294967295,P=w+(x<<11&4294967295|x>>>21),x=D+(P^w^R)+O[11]+1839030562&4294967295,D=P+(x<<16&4294967295|x>>>16),x=R+(D^P^w)+O[14]+4259657740&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^P)+O[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=P+(w^R^D)+O[4]+1272893353&4294967295,P=w+(x<<11&4294967295|x>>>21),x=D+(P^w^R)+O[7]+4139469664&4294967295,D=P+(x<<16&4294967295|x>>>16),x=R+(D^P^w)+O[10]+3200236656&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^P)+O[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=P+(w^R^D)+O[0]+3936430074&4294967295,P=w+(x<<11&4294967295|x>>>21),x=D+(P^w^R)+O[3]+3572445317&4294967295,D=P+(x<<16&4294967295|x>>>16),x=R+(D^P^w)+O[6]+76029189&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^P)+O[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=P+(w^R^D)+O[12]+3873151461&4294967295,P=w+(x<<11&4294967295|x>>>21),x=D+(P^w^R)+O[15]+530742520&4294967295,D=P+(x<<16&4294967295|x>>>16),x=R+(D^P^w)+O[2]+3299628645&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(D^(R|~P))+O[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=P+(R^(w|~D))+O[7]+1126891415&4294967295,P=w+(x<<10&4294967295|x>>>22),x=D+(w^(P|~R))+O[14]+2878612391&4294967295,D=P+(x<<15&4294967295|x>>>17),x=R+(P^(D|~w))+O[5]+4237533241&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~P))+O[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=P+(R^(w|~D))+O[3]+2399980690&4294967295,P=w+(x<<10&4294967295|x>>>22),x=D+(w^(P|~R))+O[10]+4293915773&4294967295,D=P+(x<<15&4294967295|x>>>17),x=R+(P^(D|~w))+O[1]+2240044497&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~P))+O[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=P+(R^(w|~D))+O[15]+4264355552&4294967295,P=w+(x<<10&4294967295|x>>>22),x=D+(w^(P|~R))+O[6]+2734768916&4294967295,D=P+(x<<15&4294967295|x>>>17),x=R+(P^(D|~w))+O[13]+1309151649&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~P))+O[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=P+(R^(w|~D))+O[11]+3174756917&4294967295,P=w+(x<<10&4294967295|x>>>22),x=D+(w^(P|~R))+O[2]+718787259&4294967295,D=P+(x<<15&4294967295|x>>>17),x=R+(P^(D|~w))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,O=this.C;let D=this.h,P=0;for(;P<w;){if(D==0)for(;P<=R;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<w;)if(O[D++]=I.charCodeAt(P++),D==this.blockSize){o(this,O),D=0;break}}else for(;P<w;)if(O[D++]=I[P++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)I[w++]=this.g[R]>>>O&255;return I};function u(I,w){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function f(I,w){this.h=w;const R=[];let O=!0;for(let D=I.length-1;D>=0;D--){const P=I[D]|0;O&&P==w||(R[D]=P,O=!1)}this.g=R}var m={};function p(I){return-128<=I&&I<128?u(I,function(w){return new f([w|0],w<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return H(y(-I));const w=[];let R=1;for(let O=0;I>=R;O++)w[O]=I/R|0,R*=4294967296;return new f(w,0)}function T(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return H(T(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let O=A;for(let P=0;P<I.length;P+=8){var D=Math.min(8,I.length-P);const x=parseInt(I.substring(P,P+D),w);D<8?(D=y(Math.pow(w,D)),O=O.j(D).add(y(x))):(O=O.j(R),O=O.add(y(x)))}return O}var A=p(0),C=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-H(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);I+=(O>=0?O:4294967296+O)*w,w*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(G(this))return"0";if(Y(this))return"-"+H(this).toString(I);const w=y(Math.pow(I,6));var R=this;let O="";for(;;){const D=se(R,w).g;R=K(R,D.j(w));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=D,G(R))return P+O;for(;P.length<6;)P="0"+P;O=P+O}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function G(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function Y(I){return I.h==-1}r.l=function(I){return I=K(this,I),Y(I)?-1:G(I)?0:1};function H(I){const w=I.g.length,R=[];for(let O=0;O<w;O++)R[O]=~I.g[O];return new f(R,~I.h).add(C)}r.abs=function(){return Y(this)?H(this):this},r.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let O=0;for(let D=0;D<=w;D++){let P=O+(this.i(D)&65535)+(I.i(D)&65535),x=(P>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);O=x>>>16,P&=65535,x&=65535,R[D]=x<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function K(I,w){return I.add(H(w))}r.j=function(I){if(G(this)||G(I))return A;if(Y(this))return Y(I)?H(this).j(H(I)):H(H(this).j(I));if(Y(I))return H(this.j(H(I)));if(this.l(j)<0&&I.l(j)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<I.g.length;D++){const P=this.i(O)>>>16,x=this.i(O)&65535,st=I.i(D)>>>16,Dt=I.i(D)&65535;R[2*O+2*D]+=x*Dt,te(R,2*O+2*D),R[2*O+2*D+1]+=P*Dt,te(R,2*O+2*D+1),R[2*O+2*D+1]+=x*st,te(R,2*O+2*D+1),R[2*O+2*D+2]+=P*st,te(R,2*O+2*D+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new f(R,0)};function te(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ie(I,w){this.g=I,this.h=w}function se(I,w){if(G(w))throw Error("division by zero");if(G(I))return new ie(A,A);if(Y(I))return w=se(H(I),w),new ie(H(w.g),H(w.h));if(Y(w))return w=se(I,H(w)),new ie(H(w.g),w.h);if(I.g.length>30){if(Y(I)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var R=C,O=w;O.l(I)<=0;)R=me(R),O=me(O);var D=ue(R,1),P=ue(O,1);for(O=ue(O,2),R=ue(R,2);!G(O);){var x=P.add(O);x.l(I)<=0&&(D=D.add(R),P=x),O=ue(O,1),R=ue(R,1)}return w=K(I,D.j(w)),new ie(D,w)}for(D=A;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),P=y(R),x=P.j(w);Y(x)||x.l(I)>0;)R-=O,P=y(R),x=P.j(w);G(P)&&(P=C),D=D.add(P),I=K(I,x)}return new ie(D,I)}r.B=function(I){return se(this,I).h},r.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)&I.i(O);return new f(R,this.h&I.h)},r.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)|I.i(O);return new f(R,this.h|I.h)},r.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)^I.i(O);return new f(R,this.h^I.h)};function me(I){const w=I.g.length+1,R=[];for(let O=0;O<w;O++)R[O]=I.i(O)<<1|I.i(O-1)>>>31;return new f(R,I.h)}function ue(I,w){const R=w>>5;w%=32;const O=I.g.length-R,D=[];for(let P=0;P<O;P++)D[P]=w>0?I.i(P+R)>>>w|I.i(P+R+1)<<32-w:I.i(P+R);return new f(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,a0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,es=f}).apply(typeof $v<"u"?$v:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o0,Nl,l0,Wc,wm,u0,c0,h0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var k=c[b];if(!(k in v))break e;v=v[k]}c=c[c.length-1],b=v[c],g=g(b),g!=b&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],b;for(b in g)Object.prototype.hasOwnProperty.call(g,b)&&v.push([b,g[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function T(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function A(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,k,F){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return g.prototype[k].apply(b,re)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const g=c.length;if(g>0){const v=Array(g);for(let b=0;b<g;b++)v[b]=c[b];return v}return[]}function G(c,g){for(let b=1;b<arguments.length;b++){const k=arguments[b];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=c.length||0;const F=k.length||0;c.length=v+F;for(let re=0;re<F;re++)c[v+re]=k[re]}else c.push(k)}}class Y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(c){f.setTimeout(()=>{throw c},0)}function K(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class te{constructor(){this.h=this.g=null}add(g,v){const b=ie.get();b.set(g,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ie=new Y(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ue=!1,I=new te,w=()=>{const c=Promise.resolve(void 0);me=()=>{c.then(R)}};function R(){for(var c;c=K();){try{c.h.call(c.g)}catch(v){H(v)}var g=ie;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ue=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function st(c,g){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}A(st,D),st.prototype.init=function(c,g){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),$=0;function ae(c,g,v,b,k){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!b,this.ha=k,this.key=++$,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,g,v){for(const b in c)g.call(v,c[b],b,c)}function Ge(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function V(c){const g={};for(const v in c)g[v]=c[v];return g}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,g){let v,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(v in b)c[v]=b[v];for(let F=0;F<ee.length;F++)v=ee[F],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,g,v,b,k){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const re=Ce(c,g,b,k);return re>-1?(g=c[re],v||(g.fa=!1)):(g=new ae(g,this.src,F,!!b,k),g.fa=v,c.push(g)),g};function Te(c,g){const v=g.type;if(v in c.g){var b=c.g[v],k=Array.prototype.indexOf.call(b,g,void 0),F;(F=k>=0)&&Array.prototype.splice.call(b,k,1),F&&(ye(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,g,v,b){for(let k=0;k<c.length;++k){const F=c[k];if(!F.da&&F.listener==g&&F.capture==!!v&&F.ha==b)return k}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Ot={};function at(c,g,v,b,k){if(Array.isArray(g)){for(let F=0;F<g.length;F++)at(c,g[F],v,b,k);return null}return v=wo(v),c&&c[Dt]?c.J(g,v,m(b)?!!b.capture:!1,k):ds(c,g,v,!1,b,k)}function ds(c,g,v,b,k,F){if(!g)throw Error("Invalid event type");const re=m(k)?!!k.capture:!!k;let we=ms(c);if(we||(c[Pe]=we=new he(c)),v=we.add(g,v,b,re,F),v.proxy)return v;if(b=ia(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)P||(k=re),k===void 0&&(k=!1),c.addEventListener(g.toString(),b,k);else if(c.attachEvent)c.attachEvent(ei(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ia(){function c(v){return g.call(c.src,c.listener,v)}const g=Ao;return c}function ra(c,g,v,b,k){if(Array.isArray(g))for(var F=0;F<g.length;F++)ra(c,g[F],v,b,k);else b=m(b)?!!b.capture:!!b,v=wo(v),c&&c[Dt]?(c=c.i,F=String(g).toString(),F in c.g&&(g=c.g[F],v=Ce(g,v,b,k),v>-1&&(ye(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[F],c.h--)))):c&&(c=ms(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ce(g,v,b,k)),(v=c>-1?g[c]:null)&&sa(v))}function sa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Dt])Te(g.i,c);else{var v=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(v,b,c.capture):g.detachEvent?g.detachEvent(ei(v),b):g.addListener&&g.removeListener&&g.removeListener(b),(v=ms(g))?(Te(v,c),v.h==0&&(v.src=null,g[Pe]=null)):ye(c)}}}function ei(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function Ao(c,g){if(c.da)c=!0;else{g=new st(g,this);const v=c.listener,b=c.ha||c.src;c.fa&&sa(c),c=v.call(b,g)}return c}function ms(c){return c=c[Pe],c instanceof he?c:null}var bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function wo(c){return typeof c=="function"?c:(c[bo]||(c[bo]=function(g){return c.handleEvent(g)}),c[bo])}function vt(){O.call(this),this.i=new he(this),this.M=this,this.G=null}A(vt,O),vt.prototype[Dt]=!0,vt.prototype.removeEventListener=function(c,g,v,b){ra(this,c,g,v,b)};function Mt(c,g){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new D(g,c);else if(g instanceof D)g.target=g.target||c;else{var k=g;g=new D(b,c),oe(g,k)}k=!0;let F,re;if(v)for(re=v.length-1;re>=0;re--)F=g.g=v[re],k=hr(F,b,!0,g)&&k;if(F=g.g=c,k=hr(F,b,!0,g)&&k,k=hr(F,b,!1,g)&&k,v)for(re=0;re<v.length;re++)F=g.g=v[re],k=hr(F,b,!1,g)&&k}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let b=0;b<v.length;b++)ye(v[b]);delete c.g[g],c.h--}}this.G=null},vt.prototype.J=function(c,g,v,b){return this.i.add(String(c),g,!1,v,b)},vt.prototype.K=function(c,g,v,b){return this.i.add(String(c),g,!0,v,b)};function hr(c,g,v,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let k=!0;for(let F=0;F<g.length;++F){const re=g[F];if(re&&!re.da&&re.capture==v){const we=re.listener,mt=re.ha||re.src;re.fa&&Te(c.i,re),k=we.call(mt,b)!==!1&&k}}return k&&!b.defaultPrevented}function $h(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function hu(c){c.g=$h(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class en extends O{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){O.call(this),this.h=c,this.g={}}A(ps,O);var Ro=[];function Co(c){ke(c.g,function(g,v){this.g.hasOwnProperty(v)&&sa(g)},c),c.g={}}ps.prototype.N=function(){ps.Z.N.call(this),Co(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=f.JSON.stringify,Jh=f.JSON.parse,fu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function du(){}function mu(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}A(zt,D);function An(){D.call(this,"c")}A(An,D);var dt={},pu=null;function aa(){return pu=pu||new vt}dt.Ia="serverreachability";function gu(c){D.call(this,dt.Ia,c)}A(gu,D);function ti(c){const g=aa();Mt(g,new gu(g))}dt.STAT_EVENT="statevent";function gs(c,g){D.call(this,dt.STAT_EVENT,c),this.stat=g}A(gs,D);function Et(c){const g=aa();Mt(g,new gs(g,c))}dt.Ja="timingevent";function ni(c,g){D.call(this,dt.Ja,c),this.size=g}A(ni,D);function ii(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function Zh(c,g,v,b,k,F){c.info(function(){if(c.g)if(F){var re="",we=F.split("&");for(let qe=0;qe<we.length;qe++){var mt=we[qe].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const Cn=ot.split("_");re=Cn.length>=2&&Cn[1]=="type"?re+(ot+"="+mt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=F;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+g+`
`+v+`
`+re})}function yu(c,g,v,b,k,F,re){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+g+`
`+v+`
`+F+" "+re})}function ri(c,g,v,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Wh(c,v)+(b?" "+b:"")})}function ys(c,g){c.info(function(){return"TIMEOUT: "+g})}kn.prototype.info=function(){};function Wh(c,g){if(!c.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var k=b[0];if(k!="noop"&&k!="stop"&&k!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return fr(F)}catch{return g}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function vs(){}A(vs,du),vs.prototype.g=function(){return new XMLHttpRequest},xo=new vs;function ji(c){return encodeURIComponent(String(c))}function _u(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function zn(c,g,v,b){this.j=c,this.i=g,this.l=v,this.S=b||1,this.V=new ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function si(c,g,v){c.M=1,c.A=Es(At(g)),c.u=v,c.R=!0,oa(c,null)}function oa(c,g){c.F=Date.now(),ai(c),c.B=At(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),ha(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Bn,c.g=Mu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,b=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(Ro[0]=k.toString()),k=Ro);for(let F=0;F<k.length;F++){const re=at(v,k[F],b||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ti(),Zh(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Fn(c)==3?g.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Fn(this.g),mt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||we!=4||mt==7||(mt==8||qe<=0?ti(3):ti(2)),oi(this);var g=this.g.ca();this.X=g;var v=ef(this);if(this.o=g==200,yu(this.i,this.v,this.B,this.l,this.S,we,g),this.o){if(this.U&&!this.L){t:{if(this.g){var b,k=this.g;if((b=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var F=b;break t}}F=null}if(c=F)ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,Et(12),dn(this),bn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Eu(this,v),ot==Lt){we==4&&(this.m=4,Et(14),c=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ri(this.i,this.l,ot,null),li(this,ot);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)ri(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fo(re),re.P=!0,Et(11))}}else ri(this.i,this.l,v,null),li(this,v);we==4&&dn(this),this.o&&!this.K&&(we==4?xu(this.j,this):(this.o=!1,ai(this)))}else Pi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),dn(this),bn(this)}}}catch{}finally{}};function ef(c){if(!vu(c))return c.g.la();const g=Bt(c.g);if(g==="")return"";let v="";const b=g.length,k=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),bn(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<b;F++)c.h.h=!0,v+=c.h.i.decode(g[F],{stream:!(k&&F==b-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Eu(c,g){var v=c.C,b=g.indexOf(`
`,v);return b==-1?Lt:(v=Number(g.substring(v,b)),isNaN(v)?Tt:(b+=1,b+v>g.length?Lt:(g=g.slice(b,b+v),c.C=b+v,g)))}zn.prototype.cancel=function(){this.K=!0,dn(this)};function ai(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(y(c.aa,c),g)}function oi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ys(this.i,this.B),this.M!=2&&(ti(),Et(17)),dn(this),this.m=2,bn(this)):la(this,this.T-c)};function bn(c){c.j.I==0||c.K||xu(c.j,c)}function dn(c){oi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Co(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function li(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ga(v),Er(v);else break e;Cs(v),Et(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((c.L||v.g==c)&&ga(v),!x(g))for(k=v.Ba.g.parse(g),g=0;g<k.length;g++){let qe=k[g];const ot=qe[0];if(!(ot<=v.K))if(v.K=ot,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Cn=qe[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const yi=qe[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Gn=qe[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(b=1.5*Gn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Qn=c.g;if(Qn){const Is=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var F=b.h;F.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Oo(F,F.h),F.h=null))}if(b.G){const ya=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(b.wa=ya,Qe(b.J,b.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var re=c;if(b.na=Ou(b,b.L?b.ba:null,b.W),re.L){Mo(b.h,re);var we=re,mt=b.O;mt&&(we.H=mt),we.D&&(oi(we),ai(we)),b.g=re}else Cu(b);v.i.length>0&&pi(v)}else qe[0]!="stop"&&qe[0]!="close"||gi(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?gi(v,7):qo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}ti(4)}catch{}}var St=class{constructor(c,g){this.g=c,this.map=g}};function No(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Do(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Oo(c,g){c.g?c.g.add(g):c.h=g}function Mo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}No.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return j(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let k,F=null;b>=0?(k=c[v].substring(0,b),F=c[v].substring(b+1)):k=c[v],g(k,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof mn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,dr(this,c.u),this.h=c.h,jo(this,wu(c.i)),this.m=c.m):c&&(g=String(c).match(Tu))?(this.l=!1,Pt(this,g[1]||"",!0),this.o=hi(g[2]||""),this.g=hi(g[3]||"",!0),dr(this,g[4]),this.h=hi(g[5]||"",!0),jo(this,g[6]||"",!0),this.m=hi(g[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}mn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ts(g,ca,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ts(g,ca,!0),"@"),c.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ts(v,v.charAt(0)=="/"?Lo:Su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ts(v,Au)),c.join("")},mn.prototype.resolve=function(c){const g=At(this);let v=!!c.j;v?Pt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var b=c.h;if(v)dr(g,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var k=g.h.lastIndexOf("/");k!=-1&&(b=g.h.slice(0,k+1)+b)}if(k=b,k==".."||k==".")b="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){b=k.lastIndexOf("/",0)==0,k=k.split("/");const F=[];for(let re=0;re<k.length;){const we=k[re++];we=="."?b&&re==k.length&&F.push(""):we==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),b&&re==k.length&&F.push("")):(F.push(we),b=!0)}b=F.join("/")}else b=k}return v?g.h=b:v=c.i.toString()!=="",v?jo(g,wu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function At(c){return new mn(c)}function Pt(c,g,v){c.j=v?hi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function dr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function jo(c,g,v){g instanceof pr?(c.i=g,fa(c.i,c.l)):(v||(g=Ts(g,mr)),c.i=new pr(g,c.l))}function Qe(c,g,v){c.i.set(g,v)}function Es(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,Su=/[#\?:]/g,Lo=/[#\?]/g,mr=/[#\?@]/g,Au=/#/g;function pr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=pr.prototype,r.add=function(c,g){sn(this),this.i=null,c=gr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function bu(c,g){sn(c),g=gr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Po(c,g){return sn(c),g=gr(c,g),c.g.has(g)}r.forEach=function(c,g){sn(this),this.g.forEach(function(v,b){v.forEach(function(k){c.call(g,k,b,this)},this)},this)};function Uo(c,g){sn(c);let v=[];if(typeof g=="string")Po(c,g)&&(v=v.concat(c.g.get(gr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return sn(this),this.i=null,c=gr(this,c),Po(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Uo(this,c),c.length>0?String(c[0]):g):g};function ha(c,g,v){bu(c,g),v.length>0&&(c.i=null,c.g.set(gr(c,g),j(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let b=0;b<g.length;b++){var v=g[b];const k=ji(v);v=Uo(this,v);for(let F=0;F<v.length;F++){let re=k;v[F]!==""&&(re+="="+ji(v[F])),c.push(re)}}return this.i=c.join("&")};function wu(c){const g=new pr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function gr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function fa(c,g){g&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,b){const k=b.toLowerCase();b!=k&&(bu(this,b),ha(this,k,v))},c)),c.j=g}function qn(c,g){const v=new kn;if(f.Image){const b=new Image;b.onload=T(wn,v,"TestLoadImage: loaded",!0,g,b),b.onerror=T(wn,v,"TestLoadImage: error",!1,g,b),b.onabort=T(wn,v,"TestLoadImage: abort",!1,g,b),b.ontimeout=T(wn,v,"TestLoadImage: timeout",!1,g,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function ko(c,g){const v=new kn,b=new AbortController,k=setTimeout(()=>{b.abort(),wn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(F=>{clearTimeout(k),F.ok?wn(v,"TestPingServer: ok",!0,g):wn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),wn(v,"TestPingServer: error",!1,g)})}function wn(c,g,v,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(v)}catch{}}function yr(){this.g=new fu}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(fi,du),fi.prototype.g=function(){return new Ss(this.i,this.h)};function Ss(c,g){vt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ss,vt),r=Ss.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Hn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?_r(this):Hn(this),this.readyState==3&&da(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,_r(this))},r.Na=function(c){this.g&&(this.response=c,_r(this))},r.ga=function(){this.g&&_r(this)};function _r(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let g="";return ke(c,function(v,b){g+=b,g+=":",g+=v,g+=`\r
`}),g}function As(c,g,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Rn(v),typeof c=="string"?v!=null&&ji(v):Qe(c,g,v))}function Xe(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xe,vt);var di=/^https?$/i,zo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){bs(this,F);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)v.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())v.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),k=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(zo,g,void 0)>=0)||b||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of v)this.g.setRequestHeader(F,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){bs(this,F)}};function bs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Bo(c),Li(c)}function Bo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},r.Xa=function(){ws(this)};function ws(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var b;if(b=F===0){let re=String(c.D).match(Tu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),b=!di.test(re?re.toLowerCase():"")}v=b}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var k=Fn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",Bo(c)}}finally{Li(c)}}}}function Li(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Jh(g)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const g={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(x(c[b]))continue;var v=_u(c[b]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=g[k]||[];g[k]=F,F.push(v)}Ge(g,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function vr(c){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new No(c&&c.concurrentRequestLimit),this.Ba=new yr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=vr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,b){Et(0),this.W=c,this.H=g||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Ou(this,null,this.W),pi(this)};function qo(c){if(ma(c),c.I==3){var g=c.V++,v=At(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",g),Qe(v,"TYPE","terminate"),Rs(c,v),g=new zn(c,c.j,g),g.M=2,g.A=Es(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Mu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ai(g)}Du(c)}function Er(c){c.g&&(Fo(c),c.g.cancel(),c.g=null)}function ma(c){Er(c),c.v&&(f.clearTimeout(c.v),c.v=null),ga(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function pi(c){if(!Do(c.h)&&!c.m){c.m=!0;var g=c.Ea;me||w(),ue||(me(),ue=!0),I.add(g,c),c.D=0}}function pa(c,g){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(y(c.Ea,c,g),Nu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new zn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=V(F),oe(F,this.U)):F=this.U),this.u!==null||this.R||(k.J=F,F=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Ru(this,k,g),v=At(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Rs(this,v),F&&(this.R?g="headers="+ji(Rn(F))+"&"+g:this.u&&As(v,this.u,F)),Oo(this.h,k),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",g),Qe(v,"SID","null"),k.U=!0,si(k,v,null)):si(k,v,g),this.I=2}}else this.I==3&&(c?Ho(this,c):this.i.length==0||Do(this.h)||Ho(this))};function Ho(c,g){var v;g?v=g.l:v=c.V++;const b=At(c.J);Qe(b,"SID",c.M),Qe(b,"RID",v),Qe(b,"AID",c.K),Rs(c,b),c.u&&c.o&&As(b,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Ru(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Oo(c.h,v),si(v,b,g)}function Rs(c,g){c.H&&ke(c.H,function(v,b){Qe(g,b,v)}),c.l&&ke({},function(v,b){Qe(g,b,v)})}function Ru(c,g,v){v=Math.min(c.i.length,v);const b=c.l?y(c.l.Ka,c.l,c):null;e:{var k=c.i;let we=-1;for(;;){const mt=["count="+v];we==-1?v>0?(we=k[0].g,mt.push("ofs="+we)):we=0:mt.push("ofs="+we);let qe=!0;for(let ot=0;ot<v;ot++){var F=k[ot].g;const Cn=k[ot].map;if(F-=we,F<0)we=Math.max(0,k[ot].g-100),qe=!1;else try{F="req"+F+"_"||"";try{var re=Cn instanceof Map?Cn:Object.entries(Cn);for(const[yi,Gn]of re){let Qn=Gn;m(Gn)&&(Qn=fr(Gn)),mt.push(F+yi+"="+encodeURIComponent(Qn))}}catch(yi){throw mt.push(F+"type="+encodeURIComponent("_badmap")),yi}}catch{b&&b(Cn)}}if(qe){re=mt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),g.G=c,re}function Cu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;me||w(),ue||(me(),ue=!0),I.add(g,c),c.A=0}}function Cs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(y(c.Da,c),Nu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Er(this),Iu(this))};function Fo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Iu(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=At(c.na);Qe(g,"RID","rpc"),Qe(g,"SID",c.M),Qe(g,"AID",c.K),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(g,"TO",c.ia),Qe(g,"TYPE","xmlhttp"),Rs(c,g),c.u&&c.o&&As(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Es(At(g)),v.u=null,v.R=!0,oa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Er(this),Cs(this),Et(19))};function ga(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function xu(c,g){var v=null;if(c.g==g){ga(c),Fo(c),c.g=null;var b=2}else if(ci(c.h,g))v=g.G,Mo(c.h,g),b=1;else return;if(c.I!=0){if(g.o)if(b==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var k=c.D;b=aa(),Mt(b,new ni(b,v)),pi(c)}else Cu(c);else if(k=g.m,k==3||k==0&&g.X>0||!(b==1&&pa(c,g)||b==2&&Cs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),k){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function Nu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function gi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),b=c.Ua;const k=!b;b=new mn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(b,"https"),Es(b),k?qn(b.toString(),v):ko(b.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(g),Du(c),ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Du(c){if(c.I=0,c.ja=[],c.l){const g=Vo(c.h);(g.length!=0||c.i.length!=0)&&(G(c.ja,g),G(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function Ou(c,g,v){var b=v instanceof mn?At(v):new mn(v);if(b.g!="")g&&(b.g=g+"."+b.g),dr(b,b.u);else{var k=f.location;b=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;const F=new mn(null);b&&Pt(F,b),g&&(F.g=g),k&&dr(F,k),v&&(F.h=v),b=F}return v=c.G,g=c.wa,v&&g&&Qe(b,v,g),Qe(b,"VER",c.ka),Rs(c,b),b}function Mu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Xe(new fi({ab:v})):new Xe(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Tr(){}Tr.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){vt.call(this),this.g=new vr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!x(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ui(this)}A(tn,vt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){qo(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=fr(c),c=v);g.i.push(new St(g.Ya++,c)),g.I==3&&pi(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,tn.Z.N.call(this)};function ju(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}A(ju,zt);function Lu(){An.call(this),this.status=1}A(Lu,An);function Ui(c){this.g=c}A(Ui,Vu),Ui.prototype.ra=function(){Mt(this.g,"a")},Ui.prototype.qa=function(c){Mt(this.g,new ju(c))},Ui.prototype.pa=function(c){Mt(this.g,new Lu)},Ui.prototype.oa=function(){Mt(this.g,"b")},Tr.prototype.createWebChannel=Tr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,h0=function(){return new Tr},c0=function(){return aa()},u0=dt,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,Wc=_s,Io.COMPLETE="complete",l0=Io,mu.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Nl=mu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,o0=Xe}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",Zv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Km("@firebase/firestore");function Ya(){return rs.logLevel}function PI(r){rs.setLogLevel(r)}function ce(r,...e){if(rs.logLevel<=Me.DEBUG){const n=e.map(rp);rs.debug(`Firestore (${_o}): ${r}`,...n)}}function lr(r,...e){if(rs.logLevel<=Me.ERROR){const n=e.map(rp);rs.error(`Firestore (${_o}): ${r}`,...n)}}function ro(r,...e){if(rs.logLevel<=Me.WARN){const n=e.map(rp);rs.warn(`Firestore (${_o}): ${r}`,...n)}}function rp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,f0(r,s,n)}function f0(r,e,n){let s=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||f0(e,o,s)}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class kI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zI{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new d0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class BI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new BI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Wv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=FI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Rm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return cm(o)===cm(u)?Ve(o,u):cm(o)?1:-1}return Ve(r.length,e.length)}const GI=55296,QI=57343;function cm(r){const e=r.charCodeAt(0);return e>=GI&&e<=QI}function so(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="__name__";class Si{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Si.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Si.isNumericId(e),o=Si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(e).compare(Si.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class tt extends Si{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const YI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Si{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return YI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eE}static keyField(){return new Yt([eE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function KI(r,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function tE(r){if(!ge.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function nE(r){if(ge.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function p0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Oh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function ir(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oh(r);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function su(r,e){if(!p0(r))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=-62135596800,rE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*rE);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iE)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Nt("string",rt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new rt(0,0))}static max(){return new Se(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function XI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new ss(o,ge.empty(),e)}function $I(r){return new ss(r.readTime,r.key,Hl)}class ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ss(Se.min(),ge.empty(),Hl)}static max(){return new ss(Se.max(),ge.empty(),Hl)}}function JI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==ZI)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((T=>{f[y]=T,++m,m===u&&s(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function e2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=-1;function Vh(r){return r==null}function mh(r){return r===0&&1/r==-1/0}function t2(r){return typeof r=="number"&&Number.isInteger(r)&&!mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="";function n2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=sE(e)),e=i2(r.get(n),e);return sE(e)}function i2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case g0:n+="";break;default:n+=u}}return n}function sE(r){return r+g0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ws(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function y0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(e){return new oE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class oE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new jt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _0("Invalid base64 string: "+u):u}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const r2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=r2.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function os(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="server_timestamp",E0="__type__",T0="__previous_value__",S0="__local_write_time__";function op(r){return(r?.mapValue?.fields||{})[E0]?.stringValue===v0}function jh(r){const e=r.mapValue.fields[T0];return op(e)?jh(e):e}function Fl(r){const e=as(r.mapValue.fields[S0].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,s,o,u,f,m,p,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const ph="(default)";class Gl{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__type__",a2="__max__",Fc={mapValue:{}},b0="__vector__",gh="value";function ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?op(r)?4:l2(r)?9007199254740991:o2(r)?10:11:ve(28295,{value:r})}function Oi(r,e){if(r===e)return!0;const n=ls(r);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Fl(r).isEqual(Fl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=as(o.timestampValue),m=as(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return os(o.bytesValue).isEqual(os(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return so(r.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(aE(f)!==aE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Oi(f[p],m[p])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Ql(r,e){return(r.values||[]).find((n=>Oi(n,e)))!==void 0}function ao(r,e){if(r===e)return 0;const n=ls(r),s=ls(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),p=yt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return lE(r.timestampValue,e.timestampValue);case 4:return lE(Fl(r),Fl(e));case 5:return Rm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=os(u),p=os(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Ve(m[y],p[y]);if(T!==0)return T}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(yt(u.latitude),yt(f.latitude));return m!==0?m:Ve(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return uE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[gh]?.arrayValue,T=p[gh]?.arrayValue,A=Ve(y?.values?.length||0,T?.values?.length||0);return A!==0?A:uE(y,T)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const C=Rm(p[A],T[A]);if(C!==0)return C;const j=ao(m[p[A]],y[T[A]]);if(j!==0)return j}return Ve(p.length,T.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function lE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=as(r),s=as(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function uE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ao(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function oo(r){return Cm(r)}function Cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=as(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return os(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Cm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Cm(n.fields[f])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function eh(r){switch(ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(r);return e?16+eh(e):16;case 5:return 2*r.stringValue.length;case 6:return os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ws(s.fields,((u,f)=>{o+=u.length+eh(f)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function cE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Im(r){return!!r&&"integerValue"in r}function lp(r){return!!r&&"arrayValue"in r}function hE(r){return!!r&&"nullValue"in r}function fE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function o2(r){return(r?.mapValue?.fields||{})[A0]?.stringValue===b0}function Ll(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ws(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ll(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(r.arrayValue.values[n]);return e}return{...r}}function l2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===a2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ll(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ws(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Ln(Ll(this.value))}}function w0(r){const e=[];return Ws(r.fields,((n,s)=>{const o=new Yt([n]);if(th(s)){const u=w0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),Ln.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.position=e,this.inclusive=n}}function dE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function mE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Oi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n="asc"){this.field=e,this.dir=n}}function u2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{}class xt extends R0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new h2(e,n,s):n==="array-contains"?new m2(e,s):n==="in"?new p2(e,s):n==="not-in"?new g2(e,s):n==="array-contains-any"?new y2(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new f2(e,s):new d2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends R0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return C0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C0(r){return r.op==="and"}function I0(r){return c2(r)&&C0(r)}function c2(r){for(const e of r.filters)if(e instanceof Wn)return!1;return!0}function xm(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(I0(r))return r.filters.map((e=>xm(e))).join(",");{const e=r.filters.map((n=>xm(n))).join(",");return`${r.op}(${e})`}}function x0(r,e){return r instanceof xt?(function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)})(r,e):r instanceof Wn?(function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&x0(f,o.filters[m])),!0):!1})(r,e):void ve(19439)}function N0(r){return r instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`})(r):r instanceof Wn?(function(n){return n.op.toString()+" {"+n.getFilters().map(N0).join(" ,")+"}"})(r):"Filter"}class h2 extends xt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class f2 extends xt{constructor(e,n){super(e,"in",n),this.keys=D0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class d2 extends xt{constructor(e,n){super(e,"not-in",n),this.keys=D0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function D0(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class m2 extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lp(n)&&Ql(n.arrayValue,this.value)}}class p2 extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class g2 extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class y2 extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ql(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function pE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new _2(r,e,n,s,o,u,f)}function up(r){const e=be(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>xm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>oo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>oo(s))).join(",")),e.Te=n}return e.Te}function cp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!u2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!x0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!mE(r.startAt,e.startAt)&&mE(r.endAt,e.endAt)}function Nm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function v2(r,e,n,s,o,u,f,m){return new To(r,e,n,s,o,u,f,m)}function Lh(r){return new To(r)}function gE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function O0(r){return r.collectionGroup!==null}function Pl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new jt(Yt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Yl(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Yl(Yt.keyField(),s))}return e.Ie}function wi(r){const e=be(r);return e.Ee||(e.Ee=E2(e,Pl(r))),e.Ee}function E2(r,e){if(r.limitType==="F")return pE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Yl(o.field,u)}));const n=r.endAt?new yh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new yh(r.startAt.position,r.startAt.inclusive):null;return pE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Dm(r,e){const n=r.filters.concat([e]);return new To(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function _h(r,e,n){return new To(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ph(r,e){return cp(wi(r),wi(e))&&r.limitType===e.limitType}function M0(r){return`${up(wi(r))}|lt:${r.limitType}`}function Ka(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>N0(o))).join(", ")}]`),Vh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>oo(o))).join(",")),`Target(${s})`})(wi(r))}; limitType=${r.limitType})`}function Uh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Pl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=dE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Pl(s),o)||s.endAt&&!(function(f,m,p){const y=dE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Pl(s),o))})(r,e)}function T2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function V0(r){return(e,n)=>{let s=!1;for(const o of Pl(r)){const u=S2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function S2(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?ao(p,y):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new ct(ge.comparator);function ur(){return A2}const j0=new ct(ge.comparator);function Dl(...r){let e=j0;for(const n of r)e=e.insert(n.key,n);return e}function L0(r){let e=j0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Gs(){return Ul()}function P0(){return Ul()}function Ul(){return new ea((r=>r.toString()),((r,e)=>r.isEqual(e)))}const b2=new ct(ge.comparator),w2=new jt(ge.comparator);function je(...r){let e=w2;for(const n of r)e=e.add(n);return e}const R2=new jt(Ve);function C2(){return R2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function U0(r){return{integerValue:""+r}}function I2(r,e){return t2(e)?U0(e):hp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function x2(r,e,n){return r instanceof Kl?(function(o,u){const f={fields:{[E0]:{stringValue:v0},[S0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&op(u)&&(u=jh(u)),u&&(f.fields[T0]=u),{mapValue:f}})(n,e):r instanceof Xl?z0(r,e):r instanceof $l?B0(r,e):(function(o,u){const f=k0(o,u),m=yE(f)+yE(o.Ae);return Im(f)&&Im(o.Ae)?U0(m):hp(o.serializer,m)})(r,e)}function N2(r,e,n){return r instanceof Xl?z0(r,e):r instanceof $l?B0(r,e):n}function k0(r,e){return r instanceof vh?(function(s){return Im(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Kl extends kh{}class Xl extends kh{constructor(e){super(),this.elements=e}}function z0(r,e){const n=q0(e);for(const s of r.elements)n.some((o=>Oi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class $l extends kh{constructor(e){super(),this.elements=e}}function B0(r,e){let n=q0(e);for(const s of r.elements)n=n.filter((o=>!Oi(o,s)));return{arrayValue:{values:n}}}class vh extends kh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yE(r){return yt(r.integerValue||r.doubleValue)}function q0(r){return lp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this.field=e,this.transform=n}}function O2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Xl&&o instanceof Xl||s instanceof $l&&o instanceof $l?so(s.elements,o.elements,Oi):s instanceof vh&&o instanceof vh?Oi(s.Ae,o.Ae):s instanceof Kl&&o instanceof Kl})(r.transform,e.transform)}class M2{constructor(e,n){this.version=e,this.transformResults=n}}class Ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class zh{}function H0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new G0(r.key,Ri.none()):new au(r.key,r.data,Ri.none());{const n=r.data,s=Ln.empty();let o=new jt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ta(r.key,s,new Zn(o.toArray()),Ri.none())}}function V2(r,e,n){r instanceof au?(function(o,u,f){const m=o.value.clone(),p=vE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ta?(function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=vE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(F0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function kl(r,e,n,s){return r instanceof au?(function(u,f,m,p){if(!nh(u.precondition,f))return m;const y=u.value.clone(),T=EE(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof ta?(function(u,f,m,p){if(!nh(u.precondition,f))return m;const y=EE(u.fieldTransforms,p,f),T=f.data;return T.setAll(F0(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,n,s):(function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function j2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=k0(s.transform,o||null);u!=null&&(n===null&&(n=Ln.empty()),n.set(s.field,u))}return n||null}function _E(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&so(s,o,((u,f)=>O2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ta extends zh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function F0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function vE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,N2(f,m,n[o]))}return s}function EE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,x2(u,f,e))}return s}class G0 extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L2 extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&V2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=P0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=H0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,((n,s)=>_E(n,s)))&&so(this.baseMutations,e.baseMutations,((n,s)=>_E(n,s)))}}class fp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return b2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new fp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Ue;function z2(r){switch(r){case W.OK:return ve(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function Q0(r){if(r===void 0)return lr("GRPC error has no .code"),W.UNKNOWN;switch(r){case It.OK:return W.OK;case It.CANCELLED:return W.CANCELLED;case It.UNKNOWN:return W.UNKNOWN;case It.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case It.INTERNAL:return W.INTERNAL;case It.UNAVAILABLE:return W.UNAVAILABLE;case It.UNAUTHENTICATED:return W.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case It.NOT_FOUND:return W.NOT_FOUND;case It.ALREADY_EXISTS:return W.ALREADY_EXISTS;case It.PERMISSION_DENIED:return W.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case It.ABORTED:return W.ABORTED;case It.OUT_OF_RANGE:return W.OUT_OF_RANGE;case It.UNIMPLEMENTED:return W.UNIMPLEMENTED;case It.DATA_LOSS:return W.DATA_LOSS;default:return ve(39323,{code:r})}}(Ue=It||(It={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new es([4294967295,4294967295],0);function TE(r){const e=B2().encode(r),n=new a0;return n.update(e),new Uint8Array(n.digest())}function SE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([o,u],0)]}class dp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=es.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(es.fromNumber(s)));return o.compare(q2)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=TE(e),[s,o]=SE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new dp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=TE(e),[s,o]=SE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Bh(Se.min(),o,new ct(Ve),ur(),je())}}class ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ou(s,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Y0{constructor(e,n){this.targetId=e,this.Ce=n}}class K0{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class AE{constructor(){this.ve=0,this.Fe=bE(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new ou(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=bE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class H2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.Je=Gc(),this.He=Gc(),this.Ye=new ct(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Nm(u))if(s===0){const f=new ge(u.path);this.et(n,f,Zt.newNoDocument(f,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=os(s).toUint8Array()}catch(p){if(p instanceof _0)return ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new dp(f,o,u)}catch(p){return ro(p instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Nm(m.target)){const p=new ge(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=je();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Bh(e,n,this.Ye,this.je,s);return this.je=ur(),this.Je=Gc(),this.He=Gc(),this.Ye=new ct(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new AE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new AE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new ct(ge.comparator)}function bE(){return new ct(ge.comparator)}const F2={asc:"ASCENDING",desc:"DESCENDING"},G2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q2={and:"AND",or:"OR"};class Y2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(r,e){return r.useProto3Json||Vh(e)?e:{value:e}}function Eh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function K2(r,e){return Eh(r,e.toTimestamp())}function Ci(r){return Fe(!!r,49232),Se.fromTimestamp((function(n){const s=as(n);return new rt(s.seconds,s.nanos)})(r))}function mp(r,e){return Mm(r,e).canonicalString()}function Mm(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function $0(r){const e=tt.fromString(r);return Fe(tS(e),10190,{key:e.toString()}),e}function Vm(r,e){return mp(r.databaseId,e.path)}function hm(r,e){const n=$0(e);if(n.get(1)!==r.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(Z0(n))}function J0(r,e){return mp(r.databaseId,e)}function X2(r){const e=$0(r);return e.length===4?tt.emptyPath():Z0(e)}function jm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Z0(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function wE(r,e,n){return{name:Vm(r,e),fields:n.value.mapValue.fields}}function $2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Fe(T===void 0||typeof T=="string",58123),Kt.fromBase64String(T||"")):(Fe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Kt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const T=y.code===void 0?W.UNKNOWN:Q0(y.code);return new le(T,y.message||"")})(f);n=new K0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=hm(r,s.document.name),u=Ci(s.document.updateTime),f=s.document.createTime?Ci(s.document.createTime):Se.min(),m=new Ln({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new ih(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=hm(r,s.document),u=s.readTime?Ci(s.readTime):Se.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=hm(r,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new k2(o,u),m=s.targetId;n=new Y0(m,f)}}return n}function J2(r,e){let n;if(e instanceof au)n={update:wE(r,e.key,e.value)};else if(e instanceof G0)n={delete:Vm(r,e.key)};else if(e instanceof ta)n={update:wE(r,e.key,e.data),updateMask:ax(e.fieldMask)};else{if(!(e instanceof L2))return ve(16599,{Vt:e.type});n={verify:Vm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Kl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:K2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function Z2(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ci(o.updateTime):Ci(u);return f.isEqual(Se.min())&&(f=Ci(u)),new M2(f,o.transformResults||[])})(n,e)))):[]}function W2(r,e){return{documents:[J0(r,e.path)]}}function ex(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=J0(r,o);const u=(function(y){if(y.length!==0)return eS(Wn.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((T=>(function(C){return{field:Xa(C.field),direction:ix(C.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Om(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function tx(r){let e=X2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(A){const C=W0(A);return C instanceof Wn&&I0(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((C=>(function(G){return new Yl($a(G.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let C;return C=typeof A=="object"?A.value:A,Vh(C)?null:C})(n.limit));let p=null;n.startAt&&(p=(function(A){const C=!!A.before,j=A.values||[];return new yh(j,C)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const C=!A.before,j=A.values||[];return new yh(j,C)})(n.endAt)),v2(e,o,f,u,m,"F",p,y)}function nx(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function W0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return xt.create($a(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Wn.create(n.compositeFilter.filters.map((s=>W0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function ix(r){return F2[r]}function rx(r){return G2[r]}function sx(r){return Q2[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return Yt.fromServerFormat(r.fieldPath)}function eS(r){return r instanceof xt?(function(n){if(n.op==="=="){if(fE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(hE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(hE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:rx(n.op),value:n.value}}})(r):r instanceof Wn?(function(n){const s=n.getFilters().map((o=>eS(o)));return s.length===1?s[0]:{compositeFilter:{op:sx(n.op),filters:s}}})(r):ve(54877,{filter:r})}function ax(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.yt=e}}function lx(r){const e=tx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.Cn=new cx}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ss.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class cx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nS=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(nS,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lo(0)}static cr(){return new lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="LruGarbageCollector",hx=1048576;function IE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class fx{constructor(e){this.Ir=e,this.buffer=new jt(IE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();IE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(CE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?ce(CE,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Vr(3e5)}))}}class mx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Mh.ce);const s=new fx(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(RE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,n)))).next((A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),Ya()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function px(r,e){return new mx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.changes=new ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&kl(s.mutation,o,Zn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=Gs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Dl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=ur();const f=Ul(),m=(function(){return Ul()})();return n.forEach(((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof ta)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),kl(T.mutation,y,T.mutation.getFieldMask(),rt.now())):f.set(y.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,T)=>f.set(y,T))),n.forEach(((y,T)=>m.set(y,new yx(T,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ul();let o=new ct(((f,m)=>f-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||Zn.empty();T=m.applyToLocalView(y,T),s.set(p,T);const A=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,A=P0();T.forEach((C=>{if(!u.has(C)){const j=H0(n.get(C),s.get(C));j!==null&&A.set(C,j),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Gs());let m=Hl,p=u;return f.next((y=>ne.forEach(y,((T,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next((C=>{p=p.insert(T,C)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,je()))).next((T=>({batchId:m,changes:L0(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=Dl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const y=(function(A,C){return new To(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((T=>{T.forEach(((A,C)=>{f=f.insert(A,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Zt.newInvalidDocument(T)))}));let m=Dl();return f.forEach(((p,y)=>{const T=u.get(p);T!==void 0&&kl(T.mutation,y,Zn.empty(),rt.now()),Uh(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:lx(o.bundledQuery),readTime:Ci(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.overlays=new ct(ge.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Gs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Gs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,T)=>m.set(y,T))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new U2(n,s));let u=this.qr.get(n);u===void 0&&(u=je(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(){this.Qr=new jt(kt.$r),this.Ur=new jt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new tt([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new tt([])),s=new kt(n,e),o=new kt(n,e+1);let u=je();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(kt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new P2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?ap:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Ve);return n.forEach((o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new kt(new ge(u),0);let m=new jt(Ve);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new kt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.ri=e,this.docs=(function(){return new ct(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ur();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||JI($I(T),s)<=0||(o.has(T.key)||Uh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new bx(this)}getSize(e){return ne.resolve(this.size)}}class bx extends gx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.persistence=e,this.si=new ea((n=>up(n)),cp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new pp,this.targetCount=0,this.ai=lo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new lo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new Tx,this.referenceDelegate=e(this),this.Pi=new wx(this),this.indexManager=new ux,this.remoteDocumentCache=(function(o){return new Ax(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ox(n),this.Ii=new vx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ex,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Sx(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new Rx(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Rx extends WI{constructor(e){super(),this.currentSequenceNumber=e}}class gp{constructor(e){this.persistence=e,this.Ri=new pp,this.Vi=null}static mi(e){return new gp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.pi=new ea((s=>n2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=px(this,n)}static mi(e,n){return new Th(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yw()?8:e2(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Cx;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ya()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Ya()<=Me.DEBUG&&ce("QueryEngine","Query:",Ka(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ya()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):ne.resolve())}ys(e,n){if(gE(n))return ne.resolve(null);let s=wi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_h(n,null,"F"),s=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=je(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,_h(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return gE(n)||o.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(Ya()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ka(n)),this.vs(e,f,n,XI(o,Hl)).next((m=>m)))}))}Ds(e,n){let s=new jt(V0(e));return n.forEach(((o,u)=>{Uh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ya()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.ps.getDocumentsMatchingQuery(e,n,ss.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="LocalStore",xx=3e8;class Nx{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Ve),this.xs=new ea((u=>up(u)),cp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _x(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Dx(r,e,n,s){return new Nx(r,e,n,s)}async function rS(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=je();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function Ox(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,T){const A=y.batch,C=A.keys();let j=ne.resolve();return C.forEach((G=>{j=j.next((()=>T.getEntry(p,G))).next((Y=>{const H=y.docVersions.get(G);Fe(H!==null,48541),Y.version.compareTo(H)<0&&(A.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),T.addEntry(Y)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(p,A)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=je();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function sS(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Mx(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,A)=>{const C=o.get(A);if(!C)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,A))));let j=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?j=j.withResumeToken(Kt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),o=o.insert(A,j),(function(Y,H,K){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=xx?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(C,j,T)&&m.push(n.Pi.updateTargetData(u,j))}));let p=ur(),y=je();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(Vx(u,f,e.documentUpdates).next((T=>{p=T.ks,y=T.qs}))),!s.isEqual(Se.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function Vx(r,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=ur();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(_p,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function jx(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Lx(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Xr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Lm(r,e,n){const s=be(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eo(f))throw f;ce(_p,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function xE(r,e,n){const s=be(r);let o=Se.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,T){const A=be(p),C=A.xs.get(T);return C!==void 0?ne.resolve(A.Ms.get(C)):A.Pi.getTargetData(y,T)})(s,f,wi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:je()))).next((m=>(Px(s,T2(e),m),{documents:m,Qs:u})))))}function Px(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class NE{constructor(){this.activeTargetIds=C2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ux{constructor(){this.Mo=new NE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new NE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="ConnectivityMonitor";class OE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(DE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(DE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Pm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="RestConnection",zx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Pm(),m=this.zo(e,n.toUriEncodedString());ce(fm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),T=po(y);return this.Jo(e,m,p,s,T).then((A=>(ce(fm,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw ro(fm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=zx[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class Hx extends Bx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Pm();return new Promise(((m,p)=>{const y=new o0;y.setWithCredentials(!0),y.listenOnce(l0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Wc.NO_ERROR:const A=y.getResponseJson();ce($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case Wc.TIMEOUT:ce($t,`RPC '${e}' ${f} timed out`),p(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const C=y.getStatus();if(ce($t,`RPC '${e}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const G=j?.error;if(G&&G.status&&G.message){const Y=(function(K){const te=K.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(te)>=0?te:W.UNKNOWN})(G.status);p(new le(Y,G.message))}else p(new le(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new le(W.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce($t,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);ce($t,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=Pm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=h0(),m=c0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ce($t,`Creating RPC '${e}' stream ${o}: ${T}`,p);const A=f.createWebChannel(T,p);this.I_(A);let C=!1,j=!1;const G=new qx({Yo:H=>{j?ce($t,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(C||(ce($t,`Opening RPC '${e}' stream ${o} transport.`),A.open(),C=!0),ce($t,`RPC '${e}' stream ${o} sending:`,H),A.send(H))},Zo:()=>A.close()}),Y=(H,K,te)=>{H.listen(K,(ie=>{try{te(ie)}catch(se){setTimeout((()=>{throw se}),0)}}))};return Y(A,Nl.EventType.OPEN,(()=>{j||(ce($t,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),Y(A,Nl.EventType.CLOSE,(()=>{j||(j=!0,ce($t,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(A))})),Y(A,Nl.EventType.ERROR,(H=>{j||(j=!0,ro($t,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),G.a_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),Y(A,Nl.EventType.MESSAGE,(H=>{if(!j){const K=H.data[0];Fe(!!K,16349);const te=K,ie=te?.error||te[0]?.error;if(ie){ce($t,`RPC '${e}' stream ${o} received error:`,ie);const se=ie.status;let me=(function(w){const R=It[w];if(R!==void 0)return Q0(R)})(se),ue=ie.message;me===void 0&&(me=W.INTERNAL,ue="Unknown error status: "+se+" with message "+ie.message),j=!0,G.a_(new le(me,ue)),A.close()}else ce($t,`RPC '${e}' stream ${o} received:`,K),G.u_(K)}})),Y(m,u0.STAT_EVENT,(H=>{H.stat===wm.PROXY?ce($t,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===wm.NOPROXY&&ce($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(r){return new Y2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="PersistentStream";class oS{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(ME,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(ME,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fx extends oS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Ci(f.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=jm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Nm(p)?{documents:W2(u,p)}:{query:ex(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=X0(u,f.resumeToken);const y=Om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const y=Om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=nx(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=jm(this.serializer),n.removeTarget=e,this.q_(n)}}class Gx extends oS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Z2(e.writeResults,e.commitTime),s=Ci(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=jm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>J2(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{}class Yx extends Qx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Mm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Mm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Kx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="RemoteStore";class Xx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{na(this)&&(ce($s,"Restarting streams for network reachability change."),await(async function(p){const y=be(p);y.Ea.add(4),await lu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Hh(y)})(this))}))})),this.Ra=new Kx(s,o)}}async function Hh(r){if(na(r))for(const e of r.da)await e(!0)}async function lu(r){for(const e of r.da)await e(!1)}function lS(r,e){const n=be(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sp(n)?Tp(n):So(n).O_()&&Ep(n,e))}function vp(r,e){const n=be(r),s=So(n);n.Ia.delete(e),s.O_()&&uS(n,e),n.Ia.size===0&&(s.O_()?s.L_():na(n)&&n.Ra.set("Unknown"))}function Ep(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(r).Y_(e)}function uS(r,e){r.Va.Ue(e),So(r).Z_(e)}function Tp(r){r.Va=new H2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),So(r).start(),r.Ra.ua()}function Sp(r){return na(r)&&!So(r).x_()&&r.Ia.size>0}function na(r){return be(r).Ea.size===0}function cS(r){r.Va=void 0}async function $x(r){r.Ra.set("Online")}async function Jx(r){r.Ia.forEach(((e,n)=>{Ep(r,e)}))}async function Zx(r,e){cS(r),Sp(r)?(r.Ra.ha(e),Tp(r)):r.Ra.set("Unknown")}async function Wx(r,e,n){if(r.Ra.set("Online"),e instanceof K0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce($s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(r,s)}else if(e instanceof ih?r.Va.Ze(e):e instanceof Y0?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await sS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),uS(u,p);const A=new Xr(T.target,p,y,T.sequenceNumber);Ep(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce($s,"Failed to raise snapshot:",s),await Sh(r,s)}}async function Sh(r,e,n){if(!Eo(e))throw e;r.Ea.add(1),await lu(r),r.Ra.set("Offline"),n||(n=()=>sS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce($s,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Hh(r)}))}function hS(r,e){return e().catch((n=>Sh(r,n,e)))}async function Fh(r){const e=be(r),n=us(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ap;for(;eN(e);)try{const o=await jx(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,tN(e,o)}catch(o){await Sh(e,o)}fS(e)&&dS(e)}function eN(r){return na(r)&&r.Ta.length<10}function tN(r,e){r.Ta.push(e);const n=us(r);n.O_()&&n.X_&&n.ea(e.mutations)}function fS(r){return na(r)&&!us(r).x_()&&r.Ta.length>0}function dS(r){us(r).start()}async function nN(r){us(r).ra()}async function iN(r){const e=us(r);for(const n of r.Ta)e.ea(n.mutations)}async function rN(r,e,n){const s=r.Ta.shift(),o=fp.from(s,e,n);await hS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Fh(r)}async function sN(r,e){e&&us(r).X_&&await(async function(s,o){if((function(f){return z2(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();us(s).B_(),await hS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Fh(s)}})(r,e),fS(r)&&dS(r)}async function VE(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),ce($s,"RemoteStore received new credentials");const s=na(n);n.Ea.add(3),await lu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hh(n)}async function aN(r,e){const n=be(r);e?(n.Ea.delete(2),await Hh(n)):e||(n.Ea.add(2),await lu(n),n.Ra.set("Unknown"))}function So(r){return r.ma||(r.ma=(function(n,s,o){const u=be(n);return u.sa(),new Fx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:$x.bind(null,r),t_:Jx.bind(null,r),r_:Zx.bind(null,r),H_:Wx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Sp(r)?Tp(r):r.Ra.set("Unknown")):(await r.ma.stop(),cS(r))}))),r.ma}function us(r){return r.fa||(r.fa=(function(n,s,o){const u=be(n);return u.sa(),new Gx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:nN.bind(null,r),r_:sN.bind(null,r),ta:iN.bind(null,r),na:rN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Fh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce($s,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Ap(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bp(r,e){if(lr("AsyncQueue",`${e}: ${r}`),Eo(r))return new le(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Dl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.ga=new ct(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class uo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new uo(e,n,to.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lN{constructor(){this.queries=LE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=LE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function LE(){return new ea((r=>M0(r)),Ph)}async function mS(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new oN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=bp(f,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&wp(n)}async function pS(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function uN(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&wp(n)}function cN(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function wp(r){r.Ca.forEach((e=>{e.next()}))}var Um,PE;(PE=Um||(Um={})).Ma="default",PE.Cache="cache";class gS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.key=e}}class _S{constructor(e){this.key=e}}class hN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=V0(e),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new jE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const C=o.get(T),j=Uh(this.query,A)?A:null,G=!!C&&this.mutatedKeys.has(C.key),Y=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;C&&j?C.data.isEqual(j.data)?G!==Y&&(s.track({type:3,doc:j}),H=!0):this.su(C,j)||(s.track({type:2,doc:j}),H=!0,(p&&this.eu(j,p)>0||y&&this.eu(j,y)<0)&&(m=!0)):!C&&j?(s.track({type:0,doc:j}),H=!0):C&&!j&&(s.track({type:1,doc:C}),H=!0,(p||y)&&(m=!0)),H&&(j?(f=f.add(j),u=Y?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,A)=>(function(j,G){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:H})}};return Y(j)-Y(G)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new uo(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new _S(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new yS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rp="SyncEngine";class fN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dN{constructor(e){this.key=e,this.hu=!1}}class mN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ea((m=>M0(m)),Ph),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ge.comparator),this.Au=new Map,this.Ru=new pp,this.Vu={},this.mu=new Map,this.fu=lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pN(r,e,n=!0){const s=bS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await vS(s,e,n,!0),o}async function gN(r,e){const n=bS(r);await vS(n,e,!0,!1)}async function vS(r,e,n,s){const o=await Lx(r.localStore,wi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await yN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&lS(r.remoteStore,o),m}async function yN(r,e,n,s,o){r.pu=(A,C,j)=>(async function(Y,H,K,te){let ie=H.view.ru(K);ie.Cs&&(ie=await xE(Y.localStore,H.query,!1).then((({documents:I})=>H.view.ru(I,ie))));const se=te&&te.targetChanges.get(H.targetId),me=te&&te.targetMismatches.get(H.targetId)!=null,ue=H.view.applyChanges(ie,Y.isPrimaryClient,se,me);return kE(Y,H.targetId,ue.au),ue.snapshot})(r,A,C,j);const u=await xE(r.localStore,e,!0),f=new hN(e,u.Qs),m=f.ru(u.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);kE(r,n,y.au);const T=new fN(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function _N(r,e,n){const s=be(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Ph(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&vp(s.remoteStore,o.targetId),km(s,o.targetId)})).catch(vo)):(km(s,o.targetId),await Lm(s.localStore,o.targetId,!0))}async function vN(r,e){const n=be(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vp(n.remoteStore,s.targetId))}async function EN(r,e,n){const s=CN(r);try{const o=await(function(f,m){const p=be(f),y=rt.now(),T=m.reduce(((j,G)=>j.add(G.key)),je());let A,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let G=ur(),Y=je();return p.Ns.getEntries(j,T).next((H=>{G=H,G.forEach(((K,te)=>{te.isValidDocument()||(Y=Y.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,G))).next((H=>{A=H;const K=[];for(const te of m){const ie=j2(te,A.get(te.key).overlayedDocument);ie!=null&&K.push(new ta(te.key,ie,w0(ie.value.mapValue),Ri.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,K,m)})).next((H=>{C=H;const K=H.applyToLocalDocumentSet(A,Y);return p.documentOverlayCache.saveOverlays(j,H.batchId,K)}))})).then((()=>({batchId:C.batchId,changes:L0(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ct(Ve)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await uu(s,o.changes),await Fh(s.remoteStore)}catch(o){const u=bp(o,"Failed to persist write");n.reject(u)}}async function ES(r,e){const n=be(r);try{const s=await Mx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await uu(n,s,e)}catch(s){await vo(s)}}function UE(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=be(f);p.onlineState=m;let y=!1;p.queries.forEach(((T,A)=>{for(const C of A.Sa)C.va(m)&&(y=!0)})),y&&wp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TN(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(ge.comparator);f=f.insert(u,Zt.newNoDocument(u,Se.min()));const m=je().add(u),p=new Bh(Se.min(),new Map,new ct(Ve),f,m);await ES(s,p),s.du=s.du.remove(u),s.Au.delete(e),Cp(s)}else await Lm(s.localStore,e,!1).then((()=>km(s,e,n))).catch(vo)}async function SN(r,e){const n=be(r),s=e.batch.batchId;try{const o=await Ox(n.localStore,e);SS(n,s,null),TS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,o)}catch(o){await vo(o)}}async function AN(r,e,n){const s=be(r);try{const o=await(function(f,m){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next((A=>(Fe(A!==null,37113),T=A.keys(),p.mutationQueue.removeMutationBatch(y,A)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>p.localDocuments.getDocuments(y,T)))}))})(s.localStore,e);SS(s,e,n),TS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uu(s,o)}catch(o){await vo(o)}}function TS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function SS(r,e,n){const s=be(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function km(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||AS(r,s)}))}function AS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(vp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Cp(r))}function kE(r,e,n){for(const s of n)s instanceof yS?(r.Ru.addReference(s.key,e),bN(r,s)):s instanceof _S?(ce(Rp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||AS(r,s.key)):ve(19791,{wu:s})}function bN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(Rp,"New document in limbo: "+n),r.Eu.add(s),Cp(r))}function Cp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new dN(n)),r.du=r.du.insert(n,s),lS(r.remoteStore,new Xr(wi(Lh(n.path)),s,"TargetPurposeLimboResolution",Mh.ce))}}async function uu(r,e,n){const s=be(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=yp.As(p.targetId,y);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const T=be(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ne.forEach(y,(C=>ne.forEach(C.Es,(j=>T.persistence.referenceDelegate.addReference(A,C.targetId,j))).next((()=>ne.forEach(C.ds,(j=>T.persistence.referenceDelegate.removeReference(A,C.targetId,j)))))))))}catch(A){if(!Eo(A))throw A;ce(_p,"Failed to update sequence numbers: "+A)}for(const A of y){const C=A.targetId;if(!A.fromCache){const j=T.Ms.get(C),G=j.snapshotVersion,Y=j.withLastLimboFreeSnapshotVersion(G);T.Ms=T.Ms.insert(C,Y)}}})(s.localStore,u))}async function wN(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){ce(Rp,"User change. New user:",e.toKey());const s=await rS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(n,s.Ls)}}function RN(r,e){const n=be(r),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function bS(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TN.bind(null,e),e.Pu.H_=uN.bind(null,e.eventManager),e.Pu.yu=cN.bind(null,e.eventManager),e}function CN(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AN.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Dx(this.persistence,new Ix,e.initialUser,this.serializer)}Cu(e){return new iS(gp.mi,this.serializer)}Du(e){return new Ux}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class IN extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new iS((s=>Th.mi(s,n)),this.serializer)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>UE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wN.bind(null,this.syncEngine),await aN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lN})()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),s=(function(u){return new Hx(u)})(e.databaseInfo);return(function(u,f,m,p){return new Yx(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new Xx(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>UE(this.syncEngine,n,0)),(function(){return OE.v()?new OE:new kx})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,T){const A=new mN(o,u,f,m,p,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=be(n);ce($s,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="FirestoreClient";class xN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(cs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(cs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=bp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function mm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(cs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await rS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function zE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await NN(r);ce(cs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>VE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>VE(e.remoteStore,o))),r._onlineComponents=e}async function NN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(cs,"Using user provided OfflineComponentProvider");try{await mm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await mm(r,new Ah)}}else ce(cs,"Using default OfflineComponentProvider"),await mm(r,new IN(void 0));return r._offlineComponents}async function RS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(cs,"Using user provided OnlineComponentProvider"),await zE(r,r._uninitializedComponentsProvider._online)):(ce(cs,"Using default OnlineComponentProvider"),await zE(r,new zm))),r._onlineComponents}function DN(r){return RS(r).then((e=>e.syncEngine))}async function Bm(r){const e=await RS(r),n=e.eventManager;return n.onListen=pN.bind(null,e.syncEngine),n.onUnlisten=_N.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vN.bind(null,e.syncEngine),n}function ON(r,e,n={}){const s=new ts;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const T=new wS({next:C=>{T.Nu(),f.enqueueAndForget((()=>pS(u,A)));const j=C.docs.has(m);!j&&C.fromCache?y.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&C.fromCache&&p&&p.source==="server"?y.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),A=new gS(Lh(m.path),T,{includeMetadataChanges:!0,qa:!0});return mS(u,A)})(await Bm(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="firestore.googleapis.com",qE=!0;class HE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IS,this.ssl=qE}else this.host=e.host,this.ssl=e.ssl??qE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hx)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new UI;switch(s.type){case"firstParty":return new qI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=BE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),BE.delete(n),s.terminate())})(this),Promise.resolve()}}function MN(r,e,n,s={}){r=ir(r,Gh);const o=po(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(ET(`https://${m}`),TT("Firestore",!0)),u.host!==IS&&u.host!==m&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ys(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Jt.MOCK_USER;else{y=lw(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jt(A)}r._authCredentials=new kI(new d0(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fs(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(su(n,_t._jsonSchema))return new _t(e,s||null,new ge(tt.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Nt("string",_t._jsonSchemaVersion),referencePath:Nt("string")};class ns extends fs{constructor(e,n,s){super(e,n,Lh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new ge(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function Ii(r,e,...n){if(r=fn(r),m0("collection","path",e),r instanceof Gh){const s=tt.fromString(e,...n);return nE(s),new ns(r,null,s)}{if(!(r instanceof _t||r instanceof ns))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return nE(s),new ns(r.firestore,null,s)}}function Js(r,e,...n){if(r=fn(r),arguments.length===1&&(e=sp.newId()),m0("doc","path",e),r instanceof Gh){const s=tt.fromString(e,...n);return tE(s),new _t(r,null,new ge(s))}{if(!(r instanceof _t||r instanceof ns))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return tE(s),new _t(r.firestore,r instanceof ns?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="AsyncQueue";class GE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aS(this,"async_queue_retry"),this._c=()=>{const s=dm();s&&ce(FE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;ce(FE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",QE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ap.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:QE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function QE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class co extends Gh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new GE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GE(e),this._firestoreClient=void 0,await e}}}function VN(r,e){const n=typeof r=="object"?r:wT(),s=typeof r=="string"?r:ph,o=$m(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=aw("firestore");u&&MN(o,...u)}return o}function Ip(r){if(r._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jN(r),r._firestoreClient}function jN(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new s2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,CS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new xN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Kt.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Nt("string",Pn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(su(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Nt("string",xi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ni(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Nt("string",Ni._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=/^__.*__$/;class PN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}function xS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Dp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xS(this.Ac)&&LN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||qh(e)}Cc(e,n,s,o=!1){return new Dp({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Op(r){const e=r._freezeSettings(),n=qh(r._databaseId);return new UN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function NS(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);MS("Data must be an object, but it was:",f,s);const m=DS(s,f);let p,y;if(u.merge)p=new Zn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const C=zN(e,A,n);if(!f.contains(C))throw new le(W.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);qN(T,C)||T.push(C)}p=new Zn(T),y=f.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,y=f.fieldTransforms;return new PN(new Ln(m),p,y)}class Mp extends Np{_toFieldTransform(e){return new D2(e.path,new Kl)}isEqual(e){return e instanceof Mp}}function kN(r,e,n,s=!1){return Vp(n,r.Cc(s?4:3,e))}function Vp(r,e){if(OS(r=fn(r)))return MS("Unsupported field value:",e,r),DS(r,e);if(r instanceof Np)return(function(s,o){if(!xS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Vp(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return I2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Eh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:X0(o.serializer,s._byteString)};if(s instanceof _t){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ni)return(function(f,m){return{mapValue:{fields:{[A0]:{stringValue:b0},[gh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return hp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Oh(s)}`)})(r,e)}function DS(r,e){const n={};return y0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(r,((s,o)=>{const u=Vp(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function OS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof xi||r instanceof Pn||r instanceof _t||r instanceof Np||r instanceof Ni)}function MS(r,e,n){if(!OS(n)||!p0(n)){const s=Oh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function zN(r,e,n){if((e=fn(e))instanceof xp)return e._internalPath;if(typeof e=="string")return VS(r,e);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const BN=new RegExp("[~\\*/\\[\\]]");function VS(r,e,n){if(e.search(BN)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new xp(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(W.INVALID_ARGUMENT,m+r+p)}function qN(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HN extends jS{data(){return super.data()}}function Qh(r,e){return typeof e=="string"?VS(r,e):e instanceof xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jp{}class Lp extends jp{}function ho(r,e,...n){let s=[];e instanceof jp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Pp)).length,m=u.filter((p=>p instanceof Yh)).length;if(f>1||f>0&&m>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Yh extends Lp{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Yh(e,n,s)}_apply(e){const n=this._parse(e);return LS(e._query,n),new fs(e.firestore,e.converter,Dm(e._query,n))}_parse(e){const n=Op(e.firestore);return(function(u,f,m,p,y,T,A){let C;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){XE(A,T);const G=[];for(const Y of A)G.push(KE(p,u,Y));C={arrayValue:{values:G}}}else C=KE(p,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||XE(A,T),C=kN(m,f,A,T==="in"||T==="not-in");return xt.create(y,T,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function GN(r,e,n){const s=e,o=Qh("where",r);return Yh._create(o,s,n)}class Pp extends jp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)LS(f,p),f=Dm(f,p)})(e._query,n),new fs(e.firestore,e.converter,Dm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Up extends Lp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Up(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yl(u,f)})(e._query,this._field,this._direction);return new fs(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new To(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function kp(r,e="asc"){const n=e,s=Qh("orderBy",r);return Up._create(s,n)}class zp extends Lp{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new zp(e,n,s)}_apply(e){return new fs(e.firestore,e.converter,_h(e._query,this._limit,this._limitType))}}function QN(r){return zp._create("limit",r,"F")}function KE(r,e,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O0(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return cE(r,new ge(s))}if(n instanceof _t)return cE(r,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function XE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YN{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ws(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new Ni(n)}convertGeoPoint(e){return new xi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=as(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(tS(s),9688,{name:e});const o=new Gl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends jS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Qh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:Nt("string",Qs._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class rh extends Qs{data(e={}){return super.data(e)}}class no{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ml(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ml(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ml(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:KN(m.type),doc:p,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=no._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(r){r=ir(r,_t);const e=ir(r.firestore,co);return ON(Ip(e),r._key).then((n=>zS(e,r,n)))}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Nt("string",no._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class US extends YN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function XN(r,e,n){r=ir(r,_t);const s=ir(r.firestore,co),o=PS(r.converter,e,n);return kS(s,[NS(Op(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ri.none())])}function Xh(r,e){const n=ir(r.firestore,co),s=Js(r),o=PS(r.converter,e);return kS(n,[NS(Op(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ri.exists(!1))]).then((()=>s))}function Zs(r,...e){r=fn(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||YE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(YE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof _t)f=ir(r.firestore,co),m=Lh(r._key.path),u={next:p=>{e[s]&&e[s](zS(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=ir(r,fs);f=ir(p.firestore,co),m=p._query;const y=new US(f);u={next:T=>{e[s]&&e[s](new no(f,y,p,T))},error:e[s+1],complete:e[s+2]},FN(r._query)}return(function(y,T,A,C){const j=new wS(C),G=new gS(T,j,A);return y.asyncQueue.enqueueAndForget((async()=>mS(await Bm(y),G))),()=>{j.Nu(),y.asyncQueue.enqueueAndForget((async()=>pS(await Bm(y),G)))}})(Ip(f),m,o,u)}function kS(r,e){return(function(s,o){const u=new ts;return s.asyncQueue.enqueueAndForget((async()=>EN(await DN(s),o,u))),u.promise})(Ip(r),e)}function zS(r,e,n){const s=n.docs.get(e._key),o=new US(r);return new Qs(r,o,e._key,s,new Ml(n.hasPendingWrites,n.fromCache),e.converter)}function cu(){return new Mp("serverTimestamp")}(function(e,n=!0){(function(o){_o=o})(go),io(new Ks("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new co(new zI(s.getProvider("auth-internal")),new HI(f,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(y.options.projectId,T)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Zr(Jv,Zv,e),Zr(Jv,Zv,"esm2020")})();function $N(){const r=u=>document.querySelector(u),e=u=>document.querySelectorAll(u),n=r("#sidebar"),s=()=>{e("#menu .opener").forEach(f=>{f.getAttribute("data-setup")!=="true"&&(f.addEventListener("click",m=>{m.preventDefault(),m.stopPropagation();const p=f.nextElementSibling;f.classList.contains("active")?(f.classList.remove("active"),p&&p.tagName==="UL"&&(p.style.display="none")):(f.classList.add("active"),p&&p.tagName==="UL"&&(p.style.display="block"))}),f.setAttribute("data-setup","true"))}),e("#menu ul ul").forEach(f=>{f.previousElementSibling.classList.contains("active")||(f.style.display="none")})};(()=>{n&&s()})()}function JN(){return U.useEffect(()=>($N(),()=>{}),[]),E.jsx("div",{id:"sidebar",children:E.jsxs("div",{className:"inner",children:[E.jsxs("nav",{id:"menu",children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Menu Principal"})}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsx(et,{to:"/",children:"Home"})}),E.jsx("li",{children:E.jsx(et,{to:"/news",children:"Notcias & Artigos"})}),E.jsx("li",{children:E.jsx(et,{to:"/cursos",children:"Cursos e Materiais"})}),E.jsx("li",{children:E.jsx(et,{to:"/forum",children:"Frum de Discusso"})}),E.jsx("li",{children:E.jsx(et,{to:"/chat",children:"Chat Privado"})}),E.jsxs("li",{children:[E.jsx("span",{className:"opener",children:"Institucional"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsx(et,{to:"/sobre",children:"Sobre a Praxis Capital"})}),E.jsx("li",{children:E.jsx(et,{to:"/consultoria",children:"Consultoria"})}),E.jsx("li",{children:E.jsx(et,{to:"/contato",children:"Contato"})})]})]}),E.jsx("li",{children:E.jsx(et,{to:"/cadastro",children:"Cadastro / Perfil"})})," "]})]}),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Em Destaque"})}),E.jsx("div",{className:"mini-posts",children:E.jsxs("article",{children:[E.jsx(et,{to:"/news",className:"image",children:E.jsx("img",{src:"images/bc.png",alt:"Anlise de mercado"})}),E.jsx("p",{children:"Anlise de mercado: O que esperar do ndice no prximo trimestre."})]})}),E.jsx("ul",{className:"actions",children:E.jsx("li",{children:E.jsx(et,{to:"/news",className:"button",children:"Mais Notcias"})})})]}),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Entre em Contato"})}),E.jsx("p",{children:"Fale Conosco"}),E.jsxs("ul",{className:"contact",children:[E.jsx("li",{className:"icon solid fa-envelope",children:E.jsx("a",{href:"mailto:rsda2307@gmail.com",children:"rsda2307@gmail.com"})}),E.jsx("li",{className:"icon solid fa-phone",children:"(11) 91924-3190"})]})]}),E.jsx("footer",{id:"footer",children:E.jsx("p",{className:"copyright",children:" 2025 Praxis Capital. Todos Direitos Reservados."})})]})})}const ZN="26em";function WN({children:r}){return E.jsxs("div",{className:"min-h-screen",style:{display:"grid",gridTemplateColumns:`${ZN} 1fr`,minHeight:"100vh"},children:[E.jsx("aside",{id:"sidebar-wrapper",className:"hidden md:block bg-gray-100 border-r z-10",children:E.jsx("div",{className:"inner",children:E.jsx(JN,{})})}),E.jsx("main",{id:"content-wrapper",className:"w-full",children:E.jsx("div",{id:"wrapper",className:"w-full",children:E.jsx("div",{id:"main",children:E.jsx("div",{className:"inner p-8",children:r})})})})]})}const eD=({db:r})=>{const[e,n]=U.useState([]),[s,o]=U.useState(!0);return U.useEffect(()=>{if(!r){o(!1);return}const f=`/artifacts/${typeof __app_id<"u"?__app_id:"default-app-id"}/public/data/articles`,m=ho(Ii(r,f),QN(3)),p=Zs(m,y=>{const T=[];y.forEach(A=>{T.push({id:A.id,...A.data()})}),T.sort((A,C)=>(C.createdAt?.seconds||0)-(A.createdAt?.seconds||0)),n(T),o(!1)},y=>{console.error("Erro ao carregar artigos na Home:",y),o(!1)});return()=>p()},[r]),s?E.jsx("p",{className:"text-center text-lg text-gray-500",children:"Carregando ltimas notcias..."}):e.length===0?E.jsx("p",{className:"text-center text-gray-500",children:"Nenhum artigo publicado ainda."}):E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Notcias e Anlises Recentes"})}),E.jsx("div",{className:"posts",children:e.map(u=>{const f=u.originalLink,m=f&&f.length>5&&f!=="#",p=m?`/redirect?to=${encodeURIComponent(f)}`:"#",y=m?et:"span",T=m?{to:p}:{};return E.jsxs("article",{children:[E.jsx(y,{...T,className:"image",children:E.jsx("img",{src:u.image||"assets/images/pic01.jpg",alt:u.title})}),E.jsx("h3",{children:E.jsx(y,{...T,children:u.title||"Sem Ttulo"})}),E.jsx("p",{children:u.summary||"Nenhum resumo fornecido."}),E.jsx("ul",{className:"actions",children:E.jsx("li",{children:m?E.jsx(et,{to:p,className:"button",children:"Leia o Artigo Completo"}):E.jsx("span",{className:"button disabled",children:"Link Ausente"})})})]},u.id)})})]})};function tD({userId:r,db:e}){return E.jsxs(E.Fragment,{children:[E.jsxs("section",{id:"banner",children:[E.jsxs("div",{className:"content",children:[E.jsxs("header",{children:[E.jsxs("h1",{children:["Praxis Capital",E.jsx("br",{}),"Assessoria e Estratgia"]}),E.jsx("p",{children:"Acelerando seu crescimento no mercado financeiro."})]}),E.jsx("p",{children:"Foque no que realmente importa: resultados. Deixe a anlise complexa e a estratgia de mercado conosco. Oferecemos solues personalizadas em gesto de patrimnio, anlise de riscos e planejamento financeiro para voc e sua empresa."}),E.jsx("ul",{className:"actions",children:E.jsx("li",{children:E.jsx(et,{to:"/consultoria",className:"button big",children:"Saiba Mais"})})})]}),E.jsx("span",{className:"image object",children:E.jsx("img",{src:"images/1718965016362.png",alt:""})})]}),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Nossos Diferenciais"})}),E.jsxs("div",{className:"features",children:[E.jsxs("article",{children:[E.jsx("span",{className:"icon solid fa-handshake"}),E.jsxs("div",{className:"content",children:[E.jsx("h3",{children:"Networking de Elite"}),E.jsx("p",{children:"Conexo direta com empresrios, investidores, CEOs e mentores de sucesso para alavancar sua jornada."})]})]}),E.jsxs("article",{children:[E.jsx("span",{className:"icon solid fa-graduation-cap"}),E.jsxs("div",{className:"content",children:[E.jsx("h3",{children:"Treinamento Prtico"}),E.jsx("p",{children:"Programas focados em gesto, finanas e liderana, com aplicao imediata no seu negcio."})]})]}),E.jsxs("article",{children:[E.jsx("span",{className:"icon solid fa-chart-line"}),E.jsxs("div",{className:"content",children:[E.jsx("h3",{children:"Acesso a Capital"}),E.jsx("p",{children:"Oportunidades de captao de recursos e parcerias estratgicas para expanso."})]})]})]})]}),e&&E.jsx(eD,{db:e})]})}const nD=({title:r,summary:e,category:n,image:s,originalLink:o})=>{const u=o,f=u&&u.length>5&&u!=="#",m=f?`/redirect?to=${encodeURIComponent(u)}`:"#",p=f?et:"span",y=f?{to:m}:{};return E.jsxs("article",{children:[E.jsx(p,{...y,className:"image",children:E.jsx("img",{src:s||"assets/images/pic01.jpg",alt:r})}),E.jsx("p",{className:"small text-gray-500",children:n}),E.jsx("h3",{children:E.jsx(p,{...y,children:r||"Sem Ttulo"})}),E.jsx("p",{children:e||"Nenhum resumo fornecido."}),E.jsx("ul",{className:"actions",children:E.jsx("li",{children:f?E.jsx(et,{to:m,className:"button",children:"Leia o Artigo Completo"}):E.jsx("span",{className:"button disabled",children:"Link Ausente"})})})]})};function iD({userId:r,db:e}){const[n,s]=U.useState([]),[o,u]=U.useState(!0),[f,m]=U.useState(null);return U.useEffect(()=>{if(!e){m("Falha na conexo com o banco de dados."),u(!1);return}const y=`/artifacts/${typeof __app_id<"u"?__app_id:"default-app-id"}/public/data/articles`,T=ho(Ii(e,y)),A=Zs(T,C=>{const j=[];C.forEach(G=>{j.push({id:G.id,...G.data()})}),j.sort((G,Y)=>(Y.createdAt?.seconds||0)-(G.createdAt?.seconds||0)),s(j),u(!1),m(null)},C=>{console.error("Erro ao carregar artigos na News:",C),m("Erro ao carregar o acervo de notcias. Verifique a conexo."),u(!1)});return()=>A()},[e]),E.jsxs(E.Fragment,{children:[E.jsx("header",{className:"major",children:E.jsx("h1",{children:"Notcias e Artigos"})}),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Acervo Completo"})}),o&&E.jsx("div",{className:"p-8 text-center text-lg text-gray-500",children:"Carregando todo o acervo de artigos em tempo real..."}),f&&E.jsx("div",{className:"p-4 bg-red-100 border border-red-400 text-red-700 rounded mb-4",children:f}),!o&&E.jsx("div",{className:"posts",children:n.map(p=>E.jsx(nD,{title:p.title||"Sem Ttulo",summary:p.summary||"Nenhum resumo fornecido.",category:p.category||"Geral",image:p.image||"assets/images/pic01.jpg",originalLink:p.originalLink||""},p.id))})]})]})}function rD({userId:r}){return E.jsxs(E.Fragment,{children:[E.jsxs("header",{id:"header",children:[E.jsxs("h1",{className:"logo",children:[E.jsx("strong",{children:"Consultoria Personalizada"}),": Maximize Seus Resultados"]}),E.jsx("p",{children:"Agende um horrio com nossos especialistas para anlise de portflio, planejamento estratgico e sesses de mentoria individual."})]}),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Nossos Servios de Consultoria"})}),E.jsxs("div",{className:"features",children:[E.jsxs("article",{children:[E.jsx("span",{className:"icon solid fa-chart-pie"}),E.jsxs("div",{className:"content",children:[E.jsx("h3",{children:"Anlise de Portflio"}),E.jsx("p",{children:"Avaliao detalhada dos seus ativos atuais, identificando riscos e oportunidades para rebalanceamento e otimizao de rendimento."})]})]}),E.jsxs("article",{children:[E.jsx("span",{className:"icon solid fa-chalkboard-teacher"}),E.jsxs("div",{className:"content",children:[E.jsx("h3",{children:"Mentoria Individual"}),E.jsx("p",{children:"Sesses focadas em suas dvidas e objetivos. Ideal para quem busca dominar uma rea especfica do mercado (Ex: Opes, Forex, Renda Fixa)."})]})]}),E.jsxs("article",{children:[E.jsx("span",{className:"icon solid fa-calculator"}),E.jsxs("div",{className:"content",children:[E.jsx("h3",{children:"Planejamento Fiscal e Sucessrio"}),E.jsx("p",{children:"Estratgias para otimizar a carga tributria dos seus investimentos e planejar a transferncia de patrimnio com segurana."})]})]})]})]}),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Pronto para Comear?"})}),E.jsx("p",{children:"Entre em contato conosco e descreva brevemente seu objetivo. Nossa equipe retornar em at 24 horas para agendar sua primeira sesso gratuita."}),E.jsx("ul",{className:"actions",children:E.jsx("li",{children:E.jsx(et,{to:"/contato",className:"button primary icon solid fa-calendar-check",children:"Agendar Consultoria"})})})]})]})}function sD({userId:r}){return E.jsxs(E.Fragment,{children:[E.jsxs("header",{id:"header",children:[E.jsxs("h1",{className:"logo",children:[E.jsx("strong",{children:"Contato"}),": Fale com a Praxis Capital"]}),E.jsx("p",{children:"Tem perguntas sobre nossos cursos, anlises ou oportunidades de parceria? Entre em contato conosco."})]}),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Envie sua Mensagem"})}),E.jsx("form",{method:"post",action:"#",children:E.jsxs("div",{className:"row gtr-uniform",children:[E.jsx("div",{className:"col-6 col-12-small",children:E.jsx("input",{type:"text",name:"name",id:"name",placeholder:"Nome Completo"})}),E.jsx("div",{className:"col-6 col-12-small",children:E.jsx("input",{type:"email",name:"email",id:"email",placeholder:"Email"})}),E.jsx("div",{className:"col-12",children:E.jsx("input",{type:"text",name:"subject",id:"subject",placeholder:"Assunto"})}),E.jsx("div",{className:"col-12",children:E.jsx("textarea",{name:"message",id:"message",placeholder:"Escreva sua mensagem",rows:"6"})}),E.jsx("div",{className:"col-12",children:E.jsxs("ul",{className:"actions",children:[E.jsx("li",{children:E.jsx("input",{type:"submit",value:"Enviar Mensagem",className:"primary"})}),E.jsx("li",{children:E.jsx("input",{type:"reset",value:"Limpar"})})]})})]})})]}),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Informaes Diretas"})}),E.jsx("p",{children:"Preferir falar conosco por telefone ou email direto? Use os dados abaixo."}),E.jsxs("ul",{className:"contact",children:[E.jsx("li",{className:"icon solid fa-envelope",children:"rsda2307@gmail.com"}),E.jsx("li",{className:"icon solid fa-phone",children:"(11) 91924-3190 (Atendimento de Suporte)"})]})]})]})}const aD=[{id:1,title:"SEBRAE - Vendas na prtica: um passo a passo para encantar seu cliente",summary:"A forma como voc aborda o seu cliente  determinante para o fechamento da venda! Desenvolva tcnicas e habilidades para realizar um atendimento de sucesso.",image:"images/vendas.png",link:"https://digital.sebraesp.com.br/unidade/atraia-mais-clientes/curso/vendas-na-pratica-um-passo-a-passo-para-encantar-seu-cliente"},{id:2,title:"SEBRAE - Expanso no Mercado e Vendas",summary:"Saiba como aproveitar oportunidades de expanso do seu negcio no mercado e criar estratgias planejadas para alavancar seus resultados.",image:"images/mercado.png",link:"https://digital.sebraesp.com.br/unidade/atraia-mais-clientes/curso/expansao-no-mercado-e-vendas"},{id:3,title:"SEBRAE - Entenda seu cliente e venda mais",summary:"Desenvolva um olhar apurado sobre o comportamento do seu pblico-alvo e aplique aes estratgicas para conquistar uma base slida de clientes fiis.",image:"images/cliente.png",link:"https://digital.sebraesp.com.br/unidade/atraia-mais-clientes/curso/entenda-seu-cliente-e-venda-mais"}],oD=[{id:101,title:"O homem mais rico da Babilnia",description:"Com mais de dois milhes de exemplares vendidos no mundo todo, O homem mais rico da Babilnia  um clssico sobre como multiplicar riqueza e solucionar problemas financeiros.",image:"images/homem.png",link:"https://www.amazon.com.br/Homem-Mais-Rico-Babil%C3%B4nia/dp/8595081530/ref=asc_df_8595081530"},{id:102,title:"A psicologia financeira: lies atemporais sobre fortuna, ganncia e felicidade",description:"O livro de educao financeira mais comentado dos ltimos anos, com mais de 1 milho de exemplares vendidos no mundo todo!",image:"images/psico.png",link:"https://www.amazon.com.br/psicologia-financeira-atemporais-gan%C3%A2ncia-felicidade/dp/6555111100/ref=asc_df_6555111100"}];function lD(){const r=({title:e,summary:n,image:s,link:o,buttonText:u="Ver Detalhes"})=>E.jsxs("article",{children:[E.jsx(et,{to:o,className:"image",children:E.jsx("img",{src:s||"assets/images/pic01.jpg",alt:e})}),E.jsx("h3",{children:E.jsx(et,{to:o,children:e})}),E.jsx("p",{children:n}),E.jsx("ul",{className:"actions",children:E.jsx("li",{children:E.jsx(et,{to:o,className:"button",children:u})})})]});return E.jsxs(E.Fragment,{children:[E.jsx("header",{className:"major",children:E.jsx("h1",{children:"Cursos e Materiais Indicados"})}),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Cursos e Treinamentos"})}),E.jsx("div",{className:"posts",children:aD.map(e=>E.jsx(r,{title:e.title,summary:e.summary,image:e.image,link:e.link,buttonText:"Inscreva-se"},e.id))})]}),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Materiais e Publicaes"})}),E.jsx("div",{className:"posts",children:oD.map(e=>E.jsx(r,{title:e.title,summary:e.description,image:e.image,link:e.link,buttonText:"Baixar Material"},e.id))})]})]})}function uD({db:r,auth:e,userId:n}){const[s,o]=U.useState([]),[u,f]=U.useState(!0),[m,p]=U.useState(null),[y,T]=U.useState(null),[A,C]=U.useState(""),[j,G]=U.useState(""),[Y,H]=U.useState(""),[K,te]=U.useState(null),ie=r&&e&&n,se=aT();U.useEffect(()=>{if(!ie)return;(async()=>{const I=Js(r,"profiles",n),w=await Kh(I);w.exists()?p(w.data()):console.warn("Usurio no tem perfil para postar no frum.")})()},[ie,r,n]),U.useEffect(()=>{if(!r)return;const ue=Ii(r,"forum-threads"),I=ho(ue,kp("createdAt","desc")),w=Zs(I,R=>{const O=[];R.forEach(D=>{O.push({id:D.id,...D.data()})}),o(O),f(!1)},R=>{console.error("Erro ao carregar tpicos:",R),T("No foi possvel carregar os tpicos."),f(!1)});return()=>w()},[r]);const me=async ue=>{if(ue.preventDefault(),te(null),!m){te("Voc precisa cadastrar seu perfil para criar um tpico.");return}if(A.trim()===""||j.trim()===""){te("Ttulo e Comentrio so obrigatrios.");return}try{const I=Ii(r,"forum-threads"),w=await Xh(I,{title:A,mainComment:j,imageUrl:Y||null,authorId:n,authorUsername:m.username,createdAt:cu()});C(""),G(""),H(""),se(`/forum/${w.id}`)}catch(I){console.error("Erro ao criar tpico:",I),te(`Erro: ${I.message}`)}};return E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h1",{children:"Frum de Discusso"})}),E.jsxs("div",{style:{padding:"2rem",backgroundColor:"#f9f9f9",borderRadius:"6px"},children:[E.jsx("h3",{children:"Criar Novo Tpico"}),!m&&ie&&E.jsxs("p",{style:{color:"red"},children:["Voc precisa ",E.jsx(et,{to:"/cadastro",style:{color:"blue"},children:"cadastrar seu perfil"})," para poder criar tpicos."]}),m&&E.jsxs("form",{onSubmit:me,children:[E.jsxs("div",{className:"fields",children:[E.jsxs("div",{className:"field",children:[E.jsx("label",{htmlFor:"threadTitle",children:"Ttulo do Tpico *"}),E.jsx("input",{type:"text",id:"threadTitle",value:A,onChange:ue=>C(ue.target.value),placeholder:"Qual  a sua dvida ou assunto?"})]}),E.jsxs("div",{className:"field",children:[E.jsx("label",{htmlFor:"threadComment",children:"Seu Comentrio (Post Principal) *"}),E.jsx("textarea",{id:"threadComment",rows:"4",value:j,onChange:ue=>G(ue.target.value),placeholder:"Descreva sua postagem inicial..."})]}),E.jsxs("div",{className:"field",children:[E.jsx("label",{htmlFor:"threadImage",children:"URL da Imagem (Opcional)"}),E.jsx("input",{type:"url",id:"threadImage",value:Y,onChange:ue=>H(ue.target.value),placeholder:"https://exemplo.com/imagem.png"})]})]}),K&&E.jsx("p",{style:{color:"red"},children:K}),E.jsx("ul",{className:"actions",children:E.jsx("li",{children:E.jsx("button",{type:"submit",className:"button primary",children:"Criar Tpico"})})})]})]}),E.jsxs("div",{style:{marginTop:"3rem"},children:[E.jsx("h3",{children:"Tpicos Abertos"}),u&&E.jsx("p",{children:"Carregando tpicos..."}),y&&E.jsx("p",{style:{color:"red"},children:y}),E.jsx("div",{className:"posts-list",style:{listStyle:"none",padding:0},children:s.map(ue=>E.jsxs("article",{style:{borderBottom:"1px solid #eee",padding:"1rem 0"},children:[E.jsx("h4",{children:E.jsx(et,{to:`/forum/${ue.id}`,children:ue.title})}),E.jsxs("small",{children:["Postado por: ",E.jsx("strong",{children:ue.authorUsername||"Annimo"}),"em ",ue.createdAt?new Date(ue.createdAt.seconds*1e3).toLocaleDateString():""]}),E.jsxs("p",{style:{margin:"0.5rem 0 0 0"},children:[ue.mainComment.substring(0,150),"..."]}),E.jsx("ul",{className:"actions",style:{marginTop:"1rem"},children:E.jsx("li",{children:E.jsx(et,{to:`/forum/${ue.id}`,className:"button small",children:"Ver Discusso"})})})]},ue.id))})]})]})}function cD({userId:r}){return E.jsxs(E.Fragment,{children:[E.jsxs("header",{id:"header",children:[E.jsxs("h1",{className:"logo",children:[E.jsx("strong",{children:"Sobre a Praxis Capital"}),": Nossa Misso"]}),E.jsx("p",{children:"Investimento com conhecimento, anlise, parceria e confiana."})]}),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Misso e Viso"})}),E.jsxs("div",{className:"content",children:[E.jsx("p",{children:"Na Praxis Capital, acreditamos que a conexo entre as pessoas  a estratgia mais valiosa no mercado financeiro. Nossa viso  transformar o mundo dos investimentos, fornecendo anlises claras, estratgias slidas, um ambiente de aprendizado colaborativo e um espao para conhecer novas pessoas e oportunidades. Queremos transformar investidores passivos em protagonistas ativos e conscientes de suas decises financeiras."}),E.jsx("p",{children:"Nossa Misso  ser uma plataforma ativa de inteligncia, networking e mentoria financeira, reconhecida pela preciso de nossas anlises e pelo sucesso de nossa comunidade de usurios."})]})]}),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Nossos Pilares"})}),E.jsxs("div",{className:"features",children:[E.jsxs("article",{children:[E.jsx("span",{className:"icon solid fa-lightbulb"}),E.jsxs("div",{className:"content",children:[E.jsx("h3",{children:"Educao Contnua"}),E.jsx("p",{children:"Investimos constantemente em materiais atualizados para garantir que nossa comunidade esteja sempre  frente."})]})]}),E.jsxs("article",{children:[E.jsx("span",{className:"icon solid fa-shield-alt"}),E.jsxs("div",{className:"content",children:[E.jsx("h3",{children:"Transparncia"}),E.jsx("p",{children:"Clareza em nossas anlises e nas nossas relaes com os usurios. Sem letras midas."})]})]}),E.jsxs("article",{children:[E.jsx("span",{className:"icon solid fa-chart-line"}),E.jsxs("div",{className:"content",children:[E.jsx("h3",{children:"Anlise de Dados"}),E.jsx("p",{children:"Nossas estratgias so fundamentadas em dados concretos e inteligncia de mercado avanada."})]})]}),E.jsxs("article",{children:[E.jsx("span",{className:"icon solid fa-users"}),E.jsxs("div",{className:"content",children:[E.jsx("h3",{children:"Comunidade"}),E.jsx("p",{children:"Promovemos um ambiente de apoio onde todos aprendem e crescem juntos."})]})]})]})]})]})}function hD({db:r,userId:e}){const[n,s]=U.useState(""),[o,u]=U.useState(""),[f,m]=U.useState(""),[p,y]=U.useState("Geral"),[T,A]=U.useState(""),[C,j]=U.useState(!1),[G,Y]=U.useState(""),H=async K=>{if(K.preventDefault(),j(!0),Y(""),!r){Y("Erro: Conexo com o banco de dados indisponvel."),j(!1);return}const ie=`/artifacts/${typeof __app_id<"u"?__app_id:"default-app-id"}/public/data/articles`;try{const se={title:n,summary:o,image:f||"assets/images/pic01.jpg",category:p,content:T,authorId:e,createdAt:cu(),link:"#"};await Xh(Ii(r,ie),se),Y("Artigo cadastrado com sucesso!"),s(""),u(""),m(""),y("Geral"),A("")}catch(se){console.error("Erro ao adicionar artigo: ",se),Y(`Falha ao cadastrar artigo: ${se.message}`)}finally{j(!1)}};return E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h2",{children:"Cadastrar Novo Artigo / Notcia"})}),G&&E.jsx("div",{className:`p-3 mb-4 rounded ${G.includes("sucesso")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:G}),E.jsxs("form",{onSubmit:H,children:[E.jsxs("div",{className:"fields",children:[E.jsxs("div",{className:"field half",children:[E.jsx("label",{htmlFor:"title",children:"Ttulo"}),E.jsx("input",{type:"text",id:"title",value:n,onChange:K=>s(K.target.value),required:!0})]}),E.jsxs("div",{className:"field half",children:[E.jsx("label",{htmlFor:"category",children:"Categoria"}),E.jsx("input",{type:"text",id:"category",value:p,onChange:K=>y(K.target.value),placeholder:"Ex: Geral, Finanas, Investimentos",required:!0})]}),E.jsxs("div",{className:"field",children:[E.jsx("label",{htmlFor:"summary",children:"Resumo (Max 200 caracteres)"}),E.jsx("input",{type:"text",id:"summary",value:o,onChange:K=>u(K.target.value),maxLength:"200",required:!0})]}),E.jsxs("div",{className:"field",children:[E.jsx("label",{htmlFor:"image",children:"Link da Imagem (URL ou caminho local)"}),E.jsx("input",{type:"text",id:"image",value:f,onChange:K=>m(K.target.value),placeholder:"Ex: assets/images/pic01.jpg"})]}),E.jsxs("div",{className:"field",children:[E.jsx("label",{htmlFor:"content",children:"Contedo Completo do Artigo"}),E.jsx("textarea",{id:"content",value:T,onChange:K=>A(K.target.value),rows:"6",required:!0})]})]}),E.jsxs("ul",{className:"actions",children:[E.jsx("li",{children:E.jsx("button",{type:"submit",className:"button primary",disabled:C,children:C?"Cadastrando...":"Cadastrar Artigo"})}),E.jsx("li",{children:E.jsx("button",{type:"reset",className:"button",onClick:()=>{s(""),u(""),m(""),A(""),y("Geral")},children:"Limpar"})})]})]})]})}function fD({userId:r,db:e}){return e?E.jsxs(E.Fragment,{children:[E.jsxs("header",{className:"major",children:[E.jsx("h1",{children:"Painel de Administrao de Notcias"}),E.jsx("p",{children:"Crie e publique novos artigos no acervo da Praxis Capital."})]}),E.jsx(hD,{userId:r,db:e})]}):E.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 p-4 rounded mb-4",children:"Erro: O banco de dados no est conectado."})}function dD(){const r=hs();return U.useEffect(()=>{const n=new URLSearchParams(r.search).get("to");n&&n!=="#"?window.open(n,"_blank","noopener,noreferrer"):console.error("URL de redirecionamento externa invlida ou ausente."),window.history.back()},[r]),E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h1",{children:"Redirecionando..."})}),E.jsx("p",{children:"Aguarde, estamos abrindo o link original em uma nova aba."})]})}function mD({db:r,auth:e,userId:n}){const[s,o]=U.useState(""),[u,f]=U.useState(""),[m,p]=U.useState(""),[y,T]=U.useState(!1),[A,C]=U.useState(null),j=r&&e&&n;U.useEffect(()=>{if(!j)return;const Y=Js(r,"profiles",n);(async()=>{try{const K=await Kh(Y);if(K.exists()){const te=K.data();C(te),o(te.username||""),f(te.profile||""),p("Seu perfil atual foi carregado. Voc pode edit-lo abaixo.")}}catch(K){console.error("Erro ao carregar perfil:",K)}})()},[j,r,n]);const G=async Y=>{if(Y.preventDefault(),T(!0),p(""),!j){p("Erro: Autenticao no est pronta."),T(!1);return}if(!s.trim()||!u.trim()){p("Erro: Nome de Usurio e Perfil so obrigatrios."),T(!1);return}try{const H=Js(r,"profiles",n),K={username:s.trim(),profile:u.trim(),lastUpdated:cu(),userId:n};await XN(H,K,{merge:!0}),C(K),p("Perfil salvo com sucesso!")}catch(H){console.error("Erro ao salvar perfil:",H),p(`Erro ao salvar perfil: ${H.message}`)}finally{T(!1)}};return E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h1",{children:A?"Editar Perfil":"Cadastro de Perfil"})}),E.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[E.jsx("strong",{children:"Seu ID de Usurio:"})," ",E.jsx("code",{className:"break-all",children:n||"Carregando..."})]}),!j&&E.jsx("p",{className:"text-blue-500",children:"Aguardando inicializao da autenticao..."}),m&&E.jsx("div",{className:`p-3 rounded mb-4 ${m.includes("sucesso")?"bg-green-100 text-green-700":m.includes("carregado")?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:m}),E.jsxs("form",{onSubmit:G,children:[E.jsxs("div",{className:"fields",children:[E.jsxs("div",{className:"field",children:[E.jsx("label",{htmlFor:"username",children:"Nome de Usurio *"}),E.jsx("input",{type:"text",name:"username",id:"username",value:s,onChange:Y=>o(Y.target.value),required:!0,placeholder:"Seu nome de usurio para o frum/chat"})]}),E.jsxs("div",{className:"field",children:[E.jsx("label",{htmlFor:"profile",children:"Seu Perfil Profissional *"}),E.jsxs("select",{name:"profile",id:"profile",value:u,onChange:Y=>f(Y.target.value),required:!0,children:[E.jsx("option",{value:"",children:"-- Selecione seu Perfil --"}),E.jsx("option",{value:"Investidor Iniciante",children:"Investidor Iniciante"}),E.jsx("option",{value:"Investidor Experiente",children:"Investidor Experiente"}),E.jsx("option",{value:"Consultor Financeiro",children:"Consultor Financeiro"}),E.jsx("option",{value:"Estudante de Finanas",children:"Estudante de Finanas"}),E.jsx("option",{value:"Outro",children:"Outro"})]})]})]}),E.jsx("ul",{className:"actions",children:E.jsx("li",{children:E.jsx("button",{type:"submit",className:"button primary",disabled:y||!j,children:A?y?"Atualizando...":"Atualizar Perfil":y?"Salvando...":"Cadastrar Perfil"})})}),E.jsx("p",{className:"mt-4 text-xs text-gray-600",children:"Este perfil ser exibido nas reas de interao (Chat e Frum)."})]})]})}function pD({db:r,auth:e,userId:n}){const[s,o]=U.useState([]),[u,f]=U.useState(null),[m,p]=U.useState(null),[y,T]=U.useState([]),[A,C]=U.useState(""),[j,G]=U.useState(!0),[Y,H]=U.useState(null),K=U.useRef(null),te=r&&e&&n;U.useEffect(()=>{if(!te)return;const se=async()=>{const w=Js(r,"profiles",n),R=await Kh(w);R.exists()?f(R.data()):console.warn("Usurio no tem perfil cadastrado.")},me=Ii(r,"profiles"),ue=ho(me,GN("userId","!=",n)),I=Zs(ue,w=>{const R=[];w.forEach(O=>{R.push({id:O.id,...O.data()})}),o(R),G(!1)});return se(),()=>I()},[te,r,n]),U.useEffect(()=>{if(!m){T([]);return}const se=[n,m.userId].sort().join("_"),me=Ii(r,"private-chats",se,"messages"),ue=ho(me,kp("timestamp","asc")),I=Zs(ue,w=>{const R=[];w.forEach(O=>{R.push({id:O.id,...O.data()})}),T(R)});return()=>I()},[m,n,r]),U.useEffect(()=>{K.current?.scrollIntoView({behavior:"smooth"})},[y]);const ie=async se=>{if(se.preventDefault(),H(null),A.trim()===""||!m||!u){u||H("Erro: Seu perfil ainda est carregando. Tente novamente em alguns segundos.");return}const me=[n,m.userId].sort().join("_"),ue=Ii(r,"private-chats",me,"messages");try{await Xh(ue,{text:A,senderId:n,senderUsername:u.username,timestamp:cu()}),C("")}catch(I){console.error("Erro ao enviar mensagem:",I),H(`Falha ao enviar: ${I.message}. Verifique suas Regras de Segurana do Firestore.`)}};return!u&&te?E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h1",{children:"Chat Privado"})}),E.jsxs("p",{className:"text-red-500",children:["Voc precisa ",E.jsx("a",{href:"/cadastro",children:"cadastrar seu perfil"})," (Nome de Usurio e Perfil Profissional) antes de usar o chat."]})]}):E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h1",{children:"Chat Privado"})}),E.jsxs("div",{style:{display:"flex",height:"60vh",border:"1px solid #eee"},children:[E.jsxs("div",{style:{width:"30%",borderRight:"1px solid #eee",overflowY:"auto"},children:[E.jsx("h3",{style:{padding:"1rem",margin:0,borderBottom:"1px solid #eee"},children:"Usurios"}),j?E.jsx("p",{style:{padding:"1rem"},children:"Carregando usurios..."}):E.jsx("ul",{children:s.map(se=>E.jsxs("li",{onClick:()=>{p(se),H(null)},style:{padding:"1rem",cursor:"pointer",backgroundColor:m?.userId===se.userId?"#f0f0f0":"transparent"},children:[E.jsx("strong",{children:se.username}),E.jsx("br",{}),E.jsx("small",{children:se.profile})]},se.userId))})]}),E.jsx("div",{style:{width:"70%",display:"flex",flexDirection:"column"},children:m?E.jsxs(E.Fragment,{children:[E.jsx("div",{style:{padding:"1rem",borderBottom:"1px solid #eee"},children:E.jsxs("strong",{children:["Conversando com: ",m.username]})}),E.jsxs("div",{style:{flexGrow:1,overflowY:"auto",padding:"1rem"},children:[y.map(se=>{const me=se.senderId===n;return E.jsx("div",{style:{textAlign:me?"right":"left",marginBottom:"0.5rem"},children:E.jsxs("div",{style:{backgroundColor:me?"#007bff":"#eee",color:me?"white":"black",padding:"0.5rem 1rem",borderRadius:"1.25rem",display:"inline-block",maxWidth:"70%"},children:[!me&&E.jsx("strong",{style:{display:"block",fontSize:"0.8em",marginBottom:"0.2rem"},children:se.senderUsername}),se.text]})},se.id)}),E.jsx("div",{ref:K})]}),E.jsxs("form",{onSubmit:ie,style:{padding:"1rem",borderTop:"1px solid #eee"},children:[E.jsxs("div",{style:{display:"flex"},children:[E.jsx("input",{type:"text",value:A,onChange:se=>C(se.target.value),placeholder:"Digite sua mensagem...",style:{flexGrow:1,marginRight:"1rem"}}),E.jsx("button",{type:"submit",className:"button primary",children:"Enviar"})]}),Y&&E.jsx("p",{style:{color:"red",marginTop:"0.5rem",fontSize:"0.9em"},children:Y})]})]}):E.jsx("div",{style:{flexGrow:1,display:"grid",placeItems:"center",color:"#888"},children:E.jsx("p",{children:"Selecione um usurio  esquerda para iniciar a conversa."})})})]})]})}function gD({db:r,auth:e,userId:n}){const{postId:s}=r1(),[o,u]=U.useState(null),[f,m]=U.useState([]),[p,y]=U.useState(!0),[T,A]=U.useState(null),[C,j]=U.useState(null),[G,Y]=U.useState(""),[H,K]=U.useState(null),te=r&&e&&n;U.useEffect(()=>{if(!te)return;(async()=>{const me=Js(r,"profiles",n),ue=await Kh(me);ue.exists()?j(ue.data()):console.warn("Usurio no cadastrou perfil.")})()},[te,r,n]),U.useEffect(()=>{if(!r||!s)return;y(!0),A(null);const se=Js(r,"forum-threads",s),me=Zs(se,R=>{R.exists()?u({id:R.id,...R.data()}):A("Tpico no encontrado."),y(!1)},R=>{console.error("Erro ao carregar tpico:",R),A("Erro ao carregar tpico."),y(!1)}),ue=Ii(r,"forum-threads",s,"comments"),I=ho(ue,kp("createdAt","asc")),w=Zs(I,R=>{const O=[];R.forEach(D=>{O.push({id:D.id,...D.data()})}),m(O)});return()=>{me(),w()}},[r,s]);const ie=async se=>{if(se.preventDefault(),K(null),!C){K("Voc precisa cadastrar seu perfil para comentar.");return}if(G.trim()===""){K("O comentrio no pode estar vazio.");return}try{const me=Ii(r,"forum-threads",s,"comments");await Xh(me,{text:G,authorId:n,authorUsername:C.username,createdAt:cu()}),Y("")}catch(me){console.error("Erro ao postar comentrio:",me),K(`Erro ao publicar: ${me.message}`)}};return p?E.jsx("p",{children:"Carregando discusso..."}):T?E.jsx("p",{style:{color:"red"},children:T}):o?E.jsxs("section",{children:[E.jsx("header",{className:"major",children:E.jsx("h1",{children:o.title})}),E.jsxs("p",{style:{borderBottom:"1px solid #eee",paddingBottom:"1rem",marginBottom:"1rem",color:"#555"},children:["Postado por: ",E.jsx("strong",{children:o.authorUsername}),E.jsx("br",{}),"Em: ",o.createdAt?new Date(o.createdAt.seconds*1e3).toLocaleString():"..."]}),o.imageUrl&&E.jsx("span",{className:"image main",style:{marginBottom:"2rem"},children:E.jsx("img",{src:o.imageUrl,alt:o.title})}),E.jsx("div",{className:"post-content",style:{fontSize:"1.1em",lineHeight:1.6},children:E.jsx("p",{style:{whiteSpace:"pre-wrap"},children:o.mainComment})}),E.jsx("hr",{style:{margin:"3rem 0"}}),E.jsxs("div",{className:"comments-section",children:[E.jsx("h3",{children:"Respostas"}),f.length===0&&E.jsx("p",{children:"Nenhum comentrio ainda. Seja o primeiro!"}),f.map(se=>E.jsxs("div",{style:{border:"1px solid #eee",borderRadius:"4px",padding:"1rem",marginBottom:"1rem"},children:[E.jsx("p",{style:{whiteSpace:"pre-wrap",margin:0},children:se.text}),E.jsxs("small",{style:{color:"#555",paddingTop:"0.5rem",display:"block"},children:["Por: ",E.jsx("strong",{children:se.authorUsername}),se.createdAt&&` - ${new Date(se.createdAt.seconds*1e3).toLocaleString()}`]})]},se.id)),E.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",backgroundColor:"#f9f9f9",borderRadius:"6px"},children:[E.jsx("h4",{children:"Deixar uma Resposta"}),!C&&te&&E.jsxs("p",{style:{color:"red"},children:["Voc precisa ",E.jsx(et,{to:"/cadastro",style:{color:"blue"},children:"cadastrar seu perfil"})," para poder comentar."]}),C&&E.jsxs("form",{onSubmit:ie,children:[E.jsxs("div",{className:"field",children:[E.jsx("label",{htmlFor:"newComment",children:"Seu comentrio *"}),E.jsx("textarea",{id:"newComment",rows:"3",value:G,onChange:se=>Y(se.target.value)})]}),H&&E.jsx("p",{style:{color:"red"},children:H}),E.jsx("ul",{className:"actions",children:E.jsx("li",{children:E.jsx("button",{type:"submit",className:"button primary",children:"Postar Comentrio"})})})]})]})]})]}):E.jsx("p",{children:"Tpico no encontrado."})}function yD(){const[r,e]=U.useState(null),[n,s]=U.useState(!1),[o,u]=U.useState(null),[f,m]=U.useState(null);return U.useEffect(()=>{const p={apiKey:"AIzaSyAOM2DZtGiJ88eDzI_IoInx4YLzxD6kE0k",authDomain:"praxiscapital-3cfdb.firebaseapp.com",projectId:"praxiscapital-3cfdb",storageBucket:"praxiscapital-3cfdb.firebasestorage.app",messagingSenderId:"39603192567",appId:"1:39603192567:web:0962b3ed01aa93898309f2",measurementId:"G-7H40NTJB7W"};try{const y=bT(p),T=VN(y),A=MI(y);PI("debug"),u(T),m(A);const C=SC(A,j=>{j?(console.log("Firebase Auth: Usurio conectado com UID:",j.uid),e(j.uid),s(!0)):gC(A).catch(G=>{console.error("ERRO CRTICO ao autenticar anonimamente:",G)}).finally(()=>s(!0))});return()=>C()}catch(y){console.error("Erro fatal na inicializao do Firebase:",y),s(!0)}},[]),!n||!o?E.jsx("div",{id:"wrapper",className:"flex items-center justify-center min-h-screen",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-3xl font-bold",children:"Carregando Plataforma..."}),E.jsx("p",{className:"mt-2 text-gray-500",children:"Conectando aos servios de autenticao e dados."})]})}):E.jsx(WN,{children:E.jsxs(v1,{children:[E.jsx(Sn,{path:"/",element:E.jsx(tD,{userId:r,db:o})}),E.jsx(Sn,{path:"/news",element:E.jsx(iD,{userId:r,db:o})}),E.jsx(Sn,{path:"/consultoria",element:E.jsx(rD,{userId:r,db:o})}),E.jsx(Sn,{path:"/contato",element:E.jsx(sD,{userId:r,db:o})}),E.jsx(Sn,{path:"/cursos",element:E.jsx(lD,{userId:r,db:o})}),E.jsx(Sn,{path:"/sobre",element:E.jsx(cD,{userId:r,db:o})}),E.jsx(Sn,{path:"/admin/news",element:E.jsx(fD,{userId:r,db:o})}),E.jsx(Sn,{path:"/redirect",element:E.jsx(dD,{})}),E.jsx(Sn,{path:"/cadastro",element:E.jsx(mD,{db:o,auth:f,userId:r})}),E.jsx(Sn,{path:"/chat",element:E.jsx(pD,{db:o,auth:f,userId:r})}),E.jsx(Sn,{path:"/forum",element:E.jsx(uD,{userId:r,db:o,auth:f})}),E.jsx(Sn,{path:"/forum/:postId",element:E.jsx(gD,{db:o,auth:f,userId:r})})]})})}Ib.createRoot(document.getElementById("root")).render(E.jsx(Eb.StrictMode,{children:E.jsx(q1,{children:E.jsx(yD,{})})}));
